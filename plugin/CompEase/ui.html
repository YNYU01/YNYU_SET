<!--
- ©版权所有：2024-2025 YNYU @lvynyu2.gmail.com
- 禁止未授权的商用及二次编辑
- 禁止用于违法行为，如有，与作者无关
- 二次编辑需将引用部分开源
- 引用开源库的部分应遵循对应许可
- 使用当前代码时禁止删除或修改本声明
-->

<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/YNYU01/ToolsSet@67b26c5cda59e4cd132cdc992edc9c5a3e38ba86/public/styles_main.css">
</head>

<body class="df-ffc cc noscrollbar" style=" overflow-y: scroll;">
  <div class="df-ffc w100 pos-r" style="gap: 4px; font-size: 10px; margin: 10px 0; padding: 6px; box-sizing: border-box; opacity: 0.6; border: 1px var(--boxBod) dashed; border-radius: 10px;"> 
    <div class="pos-a" style="width: 30px; right: 10px;">
      <svg width="100%" height="100%" viewBox="0 0 350 156" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M312 17.9812V19.068C312 24.0333 313.756 28.2715 317.267 31.7826C320.778 35.2937 325.016 37.0492 329.981 37.0492H331.068C336.033 37.0492 340.272 35.2937 343.783 31.7826C347.294 28.2715 349.049 24.0333 349.049 19.068V17.9812C349.049 13.0159 347.294 8.77766 343.783 5.26658C340.272 1.75553 336.033 0 331.068 0H329.981C325.016 0 320.778 1.75553 317.267 5.26658C313.756 8.77766 312 13.0159 312 17.9812ZM321.754 27.2951C319.482 25.0232 318.346 22.2809 318.346 19.068V17.9812C318.346 14.7683 319.482 12.026 321.754 9.75411C324.026 7.48225 326.768 6.34632 329.981 6.34632H331.068C334.281 6.34632 337.023 7.48225 339.295 9.75411C341.567 12.026 342.703 14.7683 342.703 17.9812V19.068C342.703 22.2809 341.567 25.0232 339.295 27.2951C337.023 29.567 334.281 30.7029 331.068 30.7029H329.981C326.768 30.7029 324.026 29.567 321.754 27.2951ZM334.362 9.44696C335.231 9.44696 336.215 9.65174 337.315 10.0613V17.0984C335.9 16.2283 334.916 15.7933 334.362 15.7933H329.42C328.969 15.7933 328.587 15.9517 328.274 16.2686C327.953 16.5922 327.793 16.9878 327.793 17.4554V19.5936C327.793 20.0613 327.953 20.4569 328.274 20.7805C328.587 21.0974 328.969 21.2558 329.42 21.2558H334.362C334.573 21.2558 334.98 21.1125 335.581 20.826C336.095 20.5812 336.673 20.2545 337.315 19.846V26.9651C336.218 27.3898 335.234 27.6021 334.362 27.6021H329.42C327.204 27.6021 325.318 26.8164 323.763 25.2449C322.219 23.6848 321.447 21.8011 321.447 19.5936V17.4554C321.447 15.248 322.219 13.3642 323.763 11.8041C325.318 10.2327 327.204 9.44696 329.42 9.44696H334.362ZM122.739 45.4885C128.057 42.2516 132.787 37.5808 136.93 31.4761L117.07 18C114.879 21.2287 112.61 23.5578 110.261 24.9875C108.344 26.1544 106.257 26.7379 104 26.738H19V50.738H104C110.743 50.738 116.99 48.9882 122.739 45.4885ZM142 130.903C133.053 146.968 122.208 155 109.465 155H13.438L44.6292 93.6444C45.3056 92.3138 44.339 90.738 42.8464 90.738H0V66.738H150V90.738H77.3239C74.6893 90.738 72.2779 92.2173 71.084 94.5658L52.562 131H109.465C111.218 131 113.223 129.773 115.479 127.319C117.022 125.641 118.548 123.535 120.058 121L142 130.903ZM293.34 122.276C286.316 129.324 276.482 132.737 263.839 132.514L264.226 108.388C270.543 108.499 274.93 107.322 277.387 104.857C279.76 102.475 280.947 98.1599 280.947 91.9118V43.3934H258.855V156H235.803V19.2634H302C303.105 19.2634 304 20.1588 304 21.2634V91.9118C304 105.023 300.447 115.145 293.34 122.276ZM176.971 156H220.567C198.982 145.831 186.24 135.16 182.342 123.987C181.917 122.771 182.865 121.552 184.153 121.552H229.079V19H160C158.895 19 158 19.8954 158 21V116.525C158 131.036 164.324 144.194 176.971 156ZM206.026 97.4225H181.053V84.3412C181.053 83.2367 181.948 82.3412 183.053 82.3412H204.026C205.131 82.3412 206.026 83.2367 206.026 84.3412V97.4225ZM204.026 58.2112H183.053C181.948 58.2112 181.053 57.3158 181.053 56.2112V43.13H206.026V56.2112C206.026 57.3158 205.131 58.2112 204.026 58.2112Z" fill="#D8D8D8"/>
      </svg>        
    </div>
    💬公告：
    <div class="df" style="gap: 4px;">-<div><a style="color:var(--mainColor2)" >[ToolsSet-工具集]</a>完整版已下架，全新版预计2025年7月发布，本工具及相关源码遵循<a style="color:var(--mainColor2); text-decoration: none;" href="https://choosealicense.com/licenses/agpl-3.0/" target="_blank" >GPL3.0</a>协议；</div></div>
    <div class="df" style="gap: 4px;">-<div>可移步<a style="color:var(--mainColor2); text-decoration: none;" href="https://www.figma.com/community/plugin/1473650402759986360" target="_blank">[渠道美术-延展工具集]</a>（开源分支）体验其他功能，使用问题可联系渠道美术制作组-匡威；</div></div>
    <div class="df" style="gap: 4px;">-<div>如有其他问题，小红书私信<a style="color:var(--mainColor2); text-decoration: none;" href="https://www.xiaohongshu.com/user/profile/602c84520000000001002b1c" target="_blank" >云雨_YNYU</a>；</div></div>
    <div class="df" style="gap: 4px;">-<div>对非支持对象使用下列功能可能造成不可逆的损失；</div></div>
  </div>
  <div class="df-ffc w100 noscrollbar" style="height: calc(100% - 170px); font-size: 12px; --toastW:260px; overflow-y: scroll;">

    <div class="df pos-r w100" style=" align-items: center; height: 18px;">
      <div class="tags-search-toast-area" style="left:0px; bottom: -1px;">
        <div class="tags-search-toast" style="bottom: -60px;"> 
          输入行列创建表格（默认样式），可选中命名分别带“表头”、“数据”的2个组件/实例生成；
        </div>
      </div>
      <div
        class="tips-i">
        i
      </div>
      <h style="opacity: 0.6; height: 18px; ">表格创建</h>
    </div>

    <div style="display: flex; justify-content: space-between; margin: 3px 0;">
      <div class="input-btn-skill" style="width: 60px; min-width: 60px;">
        <input id="input-num-tableH" type="text" class="input-btn-skill" style="border:0px; height: 18px;"
          value="0" onKeyPress="if(window.event.keyCode==13) this.blur()" />
        <div class="input-btn-skill"
          style="border:0px; width:30px; border-radius: 0px ;background-color: var(--boxGry); opacity: 0.8;  color:var(--mainColor)">
          行</div>
      </div>
      <div style="width: 10px; min-width: 4px;"></div>
      <div class="input-btn-skill" style="width: 60px; min-width: 60px;">
        <input id="input-num-tableL" type="text" class="input-btn-skill" style="border:0px; height: 18px;"
          value="0" onKeyPress="if(window.event.keyCode==13) this.blur()" />
        <div class="input-btn-skill"
          style="border:0px; width:30px; border-radius: 0px ;background-color: var(--boxGry); opacity: 0.8;  color:var(--mainColor)">
          列</div>
      </div>
      <div style="width: 20px; min-width: 10px;"></div>
      <div class="btn-skill pos-r" 
        onclick="
        tableData = [document.getElementById('input-num-tableH').value,document.getElementById('input-num-tableL').value]
        message([tableData,'addTable']);
        document.getElementById('input-num-tableH').value = 0,document.getElementById('input-num-tableL').value = 0">
        <div class="tags-search-toast-area" style="right: 0; bottom: -1px; height: 100%;width: 100%; ">
          <div class="tags-search-toast" style="width: 120px; right: -50%;z-index: 30;"> 正数为增，负数为减</div>
        </div>
        增减行列
      </div>
      <div style="width: 20px; min-width: 4px;"></div>
      <div class="btn-skill" onclick="message(['tableData','translateTable'])"> 
        <div class="tags-search-toast-area" style="right: 0; bottom: -1px; height: 100%;width: 100%; ">
          <div class="tags-search-toast" style="width: 200px; right: 0;z-index: 30;"> 如反转了设计稿，则无需反转数据</div>
        </div>
        反转行列
      </div>
    </div>

    <div style="display: flex; justify-content: space-between; gap: 6px; margin: 3px 0;">
      <div class="btn-skill" style="border: var(--boxBod) 1px solid; " onclick="
        var tableData = [document.getElementById('input-num-tableH').value,document.getElementById('input-num-tableL').value]
        message([tableData,'creTable'])"> 建立表格 </div>
    </div>

    <div style="min-height: 18px;"></div>

    <div class="df pos-r w100" style=" align-items: center; height: 18px;">
      <div class="tags-search-toast-area" style="left:0px; bottom: -1px;">
        <div class="tags-search-toast"> 通过表格数据>> 替换#table内容 | 替换#数据流内容 | 替换组件属性 | 按标签替换属性 <br>数据文案本身换行，需在换行处添加转义符，默认用[enter]表示</div>
      </div>
      <div
        class="tips-i">
        i
      </div>
      <h style="opacity: 0.6; height: 18px; ">表单编辑</h>
    </div>

    <div style="display: flex; justify-content: space-between; gap: 6px; margin: 3px 0;">
      <div class="input-btn-skill w100">
        <div class="input-btn-skill"
          style="border:0px; min-width:80px; border-radius: 0px ;background-color: var(--boxGry); opacity: 0.8;  color:var(--mainColor)">
          空数据占位</div>
        <input type="text" class="input-btn-skill" style="border:0px; height: 18px;"
          value="" onKeyPress="if(window.event.keyCode==13) this.blur()" oninput="message([this.value,'setNullText'])"/>
      </div>
      <div class="input-btn-skill w100">
        <div class="input-btn-skill"
          style="border:0px; min-width:80px; border-radius: 0px ;background-color: var(--boxGry); opacity: 0.8;  color:var(--mainColor)"
          ondblclick="this.nextElementSibling.value = '[enter]';message(['[enter]','setEnterText']);if(isGetTableData){message(['getTableData','getTableData'])};">
          换行转义符
        </div>
        <input type="text" class="input-btn-skill" style="border:0px; height: 18px;"
          value="[enter]" 
          onKeyPress="if(window.event.keyCode==13){if(this.value == ''){this.value = '[enter]'}; this.blur()};" 
          oninput="if(this.value == ''){this.value = '[enter]'}; message([this.value,'setEnterText']);"
          onchange="if(this.value == ''){this.value = '[enter]'}; if(isGetTableData){message(['getTableData','getTableData'])}"/>
      </div>
    </div>
    <div class="pos-r">
      <textarea id="tableData-text" class="input-textarea noscrollbar"
        style="height: 180px; max-height: 400px; min-height: 180px;font-size: 10px;" 
        ondblclick="if(this.value == ''){ this.value = 'a1\tb1\tc1\na2\tb2\tc2\na3\tb3\tc3';userTableData = this.value;}"
        onchange="userTableData = this.value; "
        onfocus="dataTextTips.style.display = 'none';
         this.placeholder = ''; 
         this.parentNode.parentNode.style.overflowY = 'hidden';"
        onblur="if(!this.value){dataTextTips.style.display = 'block';};
        this.parentNode.parentNode.style.overflowY = 'scroll';"></textarea>
      <!--清空-->
      <div style="width: 14px; position: absolute; right: 4px;top:4px; cursor: pointer; z-index: 3;"
        onclick="dataText.value = '';userTableData = '';dataTextTips.style.display = 'block';isGetTableData = false">
        <btn-close></btn-close>
      </div>
      <div id="table-text-tips" class="df-ffc pos-a"
        style="opacity: 0.4; gap: 10px; font-size: 10px; width: calc(100% - 20px);bottom: 10px; left: 10px;line-height: 2.5ch; pointer-events: none;">
        <div>
          -【批量替换文本】
          <span style="opacity: 0.6;">
            仅支持替换文本类型组件属性，
          </span>
          【批量组件属性】
          <span style="opacity: 0.6;">
            支持替换任意类型组件属性，按表头查找对应组件属性名；
          </span>
          【组件属性】
          <span style="opacity: 0.6;">
            的详细用法请自行查阅官方文档/教程；
          </span>
        </div>
        <div>
          -【批量标签属性】
          <span style="opacity: 0.6;">
            仅支持替换以下属性：
          </span>
          <span style="color:var(--liColor1);">
            fillcolor | strokecolor | fontsize | view | fillstyle | strokestyle（...待续）
          </span>
          <span style="opacity: 0.6;">
            ，表头/标签的格式为：
          </span>
          <span style="color:var(--liColor1);">
            #XXX.fillcolor
          </span>
          <span style="opacity: 0.6;">
            ，需给对应图层命名后添加标签（可多个标签、重复标签）；
          </span>
        </div>
        <div>
          - 
          <span style="opacity: 0.6;">
            包裹容器命名带
          </span>
          【table】+【列】|【数据流】
          <span style="opacity: 0.6;">
            会先增减足够子图层，再按行列/行替换；
          </span>
        </div>
      </div>
    </div>
    
    <div style="display: flex; justify-content: space-between; gap: 6px; margin: 3px 0;">
      <div class="btn-skill" onclick="message([userTableData,'reTableName'])"> 批量替换命名 </div>
      <div class="btn-skill" onclick="message([userTableData,'reTable'])"> 批量替换文本 </div>
    </div>
    <div style="display: flex; justify-content: space-between; gap: 6px; margin: 3px 0;">
      <div class="btn-skill" onclick="message([userTableData,'setByTags'])"> 批量标签属性 </div>
      <div class="btn-skill" onclick="message([userTableData,'reComponentValue'])"> 批量组件属性 </div>
    </div>
    <div style="display: flex; justify-content: space-between; gap: 6px; margin: 3px 0;">
      <div class="btn-skill" onclick="message(['getTagsData','getTagsData']);"> 提取标签属性 </div>
      <div class="btn-skill" onclick="message(['getTableData','getTableData']);isGetTableData = true"> 提取组件属性 </div>
      <!--div class="btn-skill" onclick="message(['linkCompDoc','linkCompDoc'])"> 简单重链组件 </div-->
    </div>
    

    <div style="min-height: 18px;"></div>

    <div class="df pos-r w100" style=" align-items: center; height: 18px;">
      <div class="tags-search-toast-area" style="left:0px; bottom: -1px;">
        <div class="tags-search-toast"> 基于插件生成的table设置样式</div>
      </div>
      <div
        class="tips-i">
        i
      </div>
      <h style="opacity: 0.6; height: 18px; ">表格样式</h>
    </div>
    <div style="display: flex; justify-content: space-between; gap: 6px; margin: 3px 0;">
      <div class="btn-skill" onclick="message(['diffLine','diffColorTable'])"> 间隔区分色 </div>
      <div class="btn-skill" onclick="message(['all','diffColorTable'])"> 开/关区分色 </div>        
    </div>
  </div>
  <div class="df pos-a " style="width: calc(100% - 20px); justify-content: space-between; bottom: 0; opacity: 0.6;"
    ondblclick="message(['getnode','getnode'])">
    <div style="font-size: 10px;">ToolsSet-纯表单版</div>
    <div style="font-size: 10px;">©YNYU  lvynyu2@gmail.com</div>
  </div>

  <script src="https://cdn.jsdelivr.net/gh/YNYU01/YNYU_SET@36109203e2a9d7a6b9052e462a4dd89ae73dffc0/plugin/CompEase/main.js"></script>
  <script>
    var isGetTableData;
  </script>
</body>
