<html data-plugin="fig" data-selects="true" data-selects-more="false" data-theme="dark" data-language="Zh" data-mobile="false">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), display-capture=(), clipboard-read=*, clipboard-write=*">
  <script src="https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@09123921fc553030929e16042806edc1ff5f87f3/publics/run.js"></script>
  <!-- INLINE_RUN -->
  <script>
let PULGIN_LOCAL = true;
let PLUGINAPP = ROOT.getAttribute('data-plugin');
let ISWORK_TIME = true;
let userSkillStar = [];

toolMessage(['userTheme','getlocal'],PLUGINAPP);
toolMessage(['userLanguage','getlocal'],PLUGINAPP);
toolMessage(['userResize','getlocal'],PLUGINAPP);
toolMessage(['tabPick','getlocal'],PLUGINAPP);
toolMessage(['userSkillStar','getlocal'],PLUGINAPP);
toolMessage(['toolsSetFig_user','getlocal'],PLUGINAPP);
toolMessage(['toolsSetFig_users','getlocal'],PLUGINAPP);

window.addEventListener('message',(message)=>{
  let isPluginMessge = message.data && message.data.type && message.data.type == 'figma-ex-page-info';
  if(!isPluginMessge){
    let messages = message.data.pluginMessage.pluginMessage || ['',''];
    let info = messages[0];
    let type = messages[1];
    if(typeof(info) == 'string' && (info.split('[').length > 1 || info.split('{').length > 1)){
      info = JSON.parse(info);
    }
    switch (type){
      case 'userTheme': info == 'light' ? setTheme(true,false) : setTheme(false,false);break
      case 'userLanguage': info == 'Zh' ? setLanguage(true) : setLanguage(false);break
      case 'userResize': reRootSize(info);break
    };
    if(ISWORK_TIME && info){
      switch (type){
        case 'tabPick': viewPage(info);break
        case 'userSkillStar': userSkillStar = info || []; moveSkillStar(userSkillStar);break
        case 'toolsSetFig_user':
          if(typeof AuthManager !== 'undefined') {
            AuthManager.setCurrentUser(info);
            AuthManager.updateUI();
          };
        break
        case 'toolsSetFig_users':
          if(typeof AuthManager !== 'undefined') {
            AuthManager.setUsersList(info);
          };
        break
      };
    }
  };
});

function toolMessage(data,app){
  switch (app){
    case 'fig': parent.postMessage({pluginMessage:data},"*"); break
    case 'mg' : parent.postMessage(data,"*");break
  }
}


</script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@09123921fc553030929e16042806edc1ff5f87f3/builds/yn_style.css"  >
  <!-- INLINE_CSS -->
  <style>
@font-face {
  font-family: Shanggu Sans;
  src: url("https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@ba19c5d927f0c9cc1bb1647b224fb58667102074/fonts/other/ShangguSans-Regular.otf") format('opentype');
  font-weight: 400;
  font-display: swap;;
}

:root{
  --top-h: 32px;
  --bottom-h: 40px;
  --side-w: 200px;
  --option-font: 12px;
  --pointer:url('https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@ba19c5d927f0c9cc1bb1647b224fb58667102074/VI/pointer_24.png'),auto;
  --code3:#48a64d;
  --code4:#b677b1;
  --code5:#a66e48;
  --code6:#77b6b6;
  --code7:#a64848;
  --code8:#527ac4;
  --code9:#e09524;
  --code10:#ec657c;
  --impColor1:var(--boxBak);
  --linstyle-1:#2f8065;
  --linstyle-2:#6d6d6d;
  --linstyle-3:#a8652e;
  
  --select-w: 100;
  --select-h: 100;
  --w: auto;
  --h: 100%;
}

html[data-theme="light"] {
  --boxGry: #d9d9d9;
  --themeColor: #1cc992;
  --code1: #32a074;
  --linstyle-1:#60cfb7;
  --linstyle-2:#aaaaaa;
  --linstyle-3:#e07c4d;
}

html{
  cursor: url('https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@ba19c5d927f0c9cc1bb1647b224fb58667102074/VI/cursor_16.png'),auto;
}

* {
  cursor: inherit;
}

body{
  min-width: 200px;
}


.show-next{
  margin:0 2px 0 -2px;
  cursor: var(--pointer,pointer);
}

.show-next::after {
  transform-origin: 40% 40%;
}

p [data-highlight]{
  color: var(--themeColor)
}

[data-page-name-en="sheet"] .switch{
  --swi-af: var(--mainColor);
  opacity: 0.5;
}

[data-page-name-en="sheet"] input[type="checkbox"]:checked +.switch{
  --swi-af: var(--themeColor);
  opacity: 1;
}

[data-radio]{
  width: fit-content;
  height: fit-content;
  flex: 0 0 auto;
  border: none;
  background: none;
  padding: 0.5ch 0;
}

[data-radio-main]:hover {
  background: var(--boxGry);
}

[data-theme="dark"] [data-radio-main="true"] {
  --mainColor: inherit;
}

[data-radio-main="true"] {
  background: var(--boxGry);
}

[data-skill-sec] [data-radio]{
  padding: 0;
  min-width: fit-content;
  height: 20px;
  box-sizing: border-box;
  font-size: 11px;
  border: 1px solid var(--boxBod);
  flex: 1;
}

[data-resize]::after {
  pointer-events: none;
}

[data-option="type"] {
  padding: 1ch 0 0.5ch 1ch;
}

[data-option="option"] {
  padding: var(--op-pad-t,0.5ch) 0 var(--op-pad-t,0.5ch) var(--op-pad-l,3ch);
  box-sizing: border-box;
}

[data-language="En"] [data-tips]::after{
  content: var(--tips-text-en,'something there');
}


#tips-all{
  display: none;
  justify-content: center;
  align-items: center;
  position: absolute;
  width: 100%;
  bottom: 80px;
  margin: auto;
  animation: boxUp 0.2s;
  z-index: 20;
  pointer-events: none;
}

.tips-all-text{
  color: #ffffff;
  background: rgba(0, 0, 0, 0.8);
  padding: 4px 8px;
  border-radius: 8px;
}

.switch [data-swi-icon]{
  transition:transform 0.2s ease-out;
  }
  
input[type="checkbox"]:checked+.switch [data-swi-icon]{
  transform: translateX(var(--swi-h,18px));
}

[data-input-unit]{
  height: 20px;
  width: 18px;
  flex: 0 0 auto;
  padding: 0 0 0 0.5ch;
  background: var(--boxGry);
  margin-left: -0.5ch;
  border-radius: 0 4px 4px 0;
}

[data-input-unit="auto"]{
  width: fit-content;
  padding:0 0.5ch 0 1ch;
}

[data-selects="false"] [data-pixel-mix] [data-select-options]{
  visibility: hidden;
}

[data-pixel-mix] [data-select-options]{
  white-space: nowrap;
  top: 24px;
  flex-wrap: wrap;
  width: 170;
}

[data-pixel-mix] [data-option="option"]{
  width: 56px;
  padding: 0.5ch;
  box-sizing: border-box;
}

[data-layerlist]{
  padding: 0.5ch;
  --font-size: 8px;
  font-size: var(--font-size);
  white-space: normal;
}

[data-layerlist] img{
  max-width: calc(100% - 2ch);
  margin-left: 1ch;
}
[data-layerlist] h1,
[data-layerlist] h2,
[data-layerlist] h3,
[data-layerlist] h4,
[data-layerlist] h5,
[data-layerlist] h6,
[data-layerlist] p{
  padding: 0 0 0 1ch;
}
[data-layerlist] h1{
  font-size: calc(var(--font-size) + 6px);
}
[data-layerlist] h2{
  font-size: calc(var(--font-size) + 5px);
}
[data-layerlist] h3{
  font-size: calc(var(--font-size) + 4px);
}
[data-layerlist] h4{
  font-size: calc(var(--font-size) + 3px);
}
[data-layerlist] h5{
  font-size: calc(var(--font-size) + 2px);
}
[data-layerlist] h6{
  font-size: calc(var(--font-size) + 1px);
}
[data-layerlist] ul,
[data-layerlist] ol,
[data-layerlist] li{
  padding-left: 2px;
}
[data-layerlist] ul li::before{
  content: '¬∑';
  padding: 0 1ch 0 0.5ch;
}
[data-layerlist] ol li::before{
  display: none;
}
[data-layerlist] ol li{
  list-style: decimal;
  list-style-position: inside;
}
[data-layerlist] li:after{
  content: '';
}
[data-layerlist] table{
  background: var(--boxBod);
  border-spacing: 1;
  overflow: hidden;
  margin: 0.2ch auto;
  width: calc(100% - 2ch);
}

[data-layerlist] th,[data-layerlist] td{
  position: relative;
  padding: 1ch;
  background: var(--boxBak);
}

[data-layerlist] th{
  font-size: var(--font-size);
  background-color: var(--boxGry);
}
[data-layerlist] td{
  font-size: calc(var(--font-size) - 1px);
}
[data-layerlist] pre{
  min-width: calc(100% - 2ch);
  max-width: none;
  margin: 0.2ch auto;
  padding: 1ch;
  width: calc(100% - 2ch);
  background: var(--mainColor4);
  border-radius: 0.5ch;
}
[data-layerlist] code{
  font-size: var(--font-size);
  padding: 0 1ch;
}

[data-layerlist] blockquote{
  margin: 0.2ch auto;
  width: calc(100% - 2ch);
  border-left: 2px var(--boxBod) solid;
  padding-left: 1ch;
}

[data-layerlist] blockquote p{
  margin: 0;
  padding: 0;
}




html[data-language="En"] {
  --mainFontSize: 10px;
}

html[data-language="Zh"] {
  --mainFontSize: 11px;
}

body{
  font-size: var(--mainFontSize);
}

#top{
  height: var(--top-h);
  position: relative;
}

#top::after{
  content: '';
  position: absolute;
  bottom: -1px;
  width: 100%;
  height: 1px;
  background: var(--boxBod);
  opacity: 0.5;
}

#bottom{
  height: var(--bottom-h);
  bottom: 0;
  padding:0 10px 0 4px;
  box-sizing: border-box;
}

#bottom::before{
  content: '';
  position: absolute;
  top: -1px;
  width: 100%;
  height: 1px;
  background: var(--boxBod);
  opacity: 0.5;
}

[data-tab-for="page"]{
  gap: 4px;
  padding-left: 2%;
}

.tab-top{
  padding: 2px 4px;
  border-radius: 4px;
  text-transform: capitalize;
  opacity: 0.5;
}

input[type="checkbox"]:checked + .tab-top{
  opacity: 1;
  background: var(--swi-bak);
}

[data-page-id="page"]{
 height: calc(100vh - var(--bottom-h) - var(--top-h));
}

[data-tv-box]{
  display: flex;
  align-items: center;
  width: calc(100% - 10px);
  font-size: 10px;
}

[data-skill-search]{
  --mainColor: var(--boxBod);
  width: 14px;
  height: 14px;
  margin-left: 2px;
  cursor: var(--pointer,pointer);
}

[for="big"]{
  width: 12px;
  height: 12px;
  margin-left: 4px;
  cursor: var(--pointer,pointer);
}

input[type="checkbox"]:checked+[for="big"] .path1 {
  transform: translateY(6px) translateX(-6px);
}

input[type="checkbox"]:checked+[for="big"] .path2 {
  transform: translateX(6px) translateY(-6px);
}

[data-side]{
  left: 0;
  z-index: 11;
  
}

[data-side-mix]{
  width: var(--side-w);
  background: var(--boxGry);
  padding: 10px 10px;
  justify-content: space-between;
  display: none;
  overflow: hidden;
}


@keyframes sideUp {
  0%{
    width: 0;
  }
  100%{
    width: var(--side-w);
  }
}

@keyframes sideOver {
  0%{
    width: var(--side-w);
    padding-left: 10px;
  }
  100%{
    width: 0;
    padding-left: 0px;
  }
}

@keyframes topTabUp {
  0%{
    transform: translateY(calc(var(--top-h) * -1));
  }
  100%{
    transform: translateY(0%);
  }
}

[data-icon-more]{
  transition: transform 0.4s;
}

input[type="checkbox"]:checked + label [data-icon-more]{
  transform: rotate(90deg);
}

[data-icon-more-path]{
  stroke: var(--mainColor);
  stroke-width: 2;
  transition: transform 0.2s;
}

[data-icon-more-path="1"]{
  transform: matrix(1,0,0,1,1,4);
}
[data-icon-more-path="2"]{
  transform: matrix(1,0,0,1,1,10);
}
[data-icon-more-path="3"]{
  transform: matrix(1,0,0,1,1,16);
}

input[type="checkbox"]:checked + label [data-icon-more-path="1"]{
  transform: matrix(0.7,0.7,-0.7,0.7,3.64,3.64);
}
input[type="checkbox"]:checked + label [data-icon-more-path="2"]{
  transform: matrix(0.1,0,0,1,10,10);
}
input[type="checkbox"]:checked + label [data-icon-more-path="3"]{
  transform: matrix(0.7,-0.7,0.7,0.7,3.64,16.37);
}

[data-page-id="page"] [data-icon-more-path="1"] path{
  transform: matrix(0.25, 0, 0, 2, -2, 6);
}
[data-page-id="page"] [data-icon-more-path="2"] path{
  transform: matrix(0.25, 0, 0, 2, 7, 0);
}
[data-page-id="page"] [data-icon-more-path="3"] path{
  transform: matrix(0.25, 0, 0, 2, 16, -6);
}

input[type="checkbox"]:checked + label [data-icon-more-path="1"] path,
input[type="checkbox"]:checked + label [data-icon-more-path="2"] path,
input[type="checkbox"]:checked + label [data-icon-more-path="3"] path{
  transform: matrix(1,0,0,1,0,0);
}

#btn-theme-1,#btn-theme-2,#btn-theme-3{
  width: 20px;
  height: 20px;
  padding: 4px;
  box-sizing: border-box;
  background: var(--swi-bak);
  border-radius: 4px;
  border: 1px solid var(--boxBod);
}

[data-mainset-top],
[data-mainset-bottom]{
  display: none;
}

.btn-more{
  width: 16px;
  height: 16px;
  opacity: 0.6;
  cursor: var(--pointer,pointer);
}

[data-mainset-side-box]{
  gap:4px;
  padding: 10px 0;
  border-top: 1px solid var(--boxBod);
}

[data-language="Zh"] [data-any="en"]{
  display: none;
}

[data-language="En"] [data-any="zh"]{
  display: none;
}

[data-mobile="true"] [data-any="pc"],
[data-mobile="false"] [data-any="pe"]{
  display: none;
}

[data-resize-window]{
  content: '';
  position: absolute;
  cursor:nw-resize;
  bottom: 2px;
  right: 2px;
  width: 8px;
  height: 8px;
  z-index: 20;
  background: linear-gradient(to top left,
  transparent 20%,
  var(--boxBod) 21%,
  var(--boxBod) 25%,
  transparent 26%,
  transparent 45%,
  var(--boxBod) 46%,
  var(--boxBod) 50%,
  transparent 51%);
}

[data-tv-box]{
  padding: 0 4px;
}

[data-tv-cut]{
  height: 18px;
  border-radius: 10px;
  background:  rgba(0, 0, 0, 0.8);
  --mainColor: #b9b9b9;
  color: var(--mainColor);
  margin-top: 2px;
}

[data-theme="dark"] [data-tv-cut]{
  --mainColor: #9b9b9b;
}

[data-btn-name]{
  opacity: 0.6;
  white-space: initial;
  text-align: center;
}

#upload-textarea-box{
  border-radius: 4px;
  border: 1px var(--boxBod) solid;
  overflow: hidden;
  min-width: 180px;
}

#upload-textarea-box [data-textarea="tips"]{
  white-space: normal;
  gap: 4px;
  font-size: 10px;
  color: var(--boxBod);
  bottom: 0;
  padding: 0px 10px;
  box-sizing: border-box;
  animation: boxUp 0.5s;
  pointer-events: none;
}

#upload-textarea-scroll{
  overflow-y: hidden;
  min-height: 186px;
  resize: both;
}

#upload-textarea{
  border: none;
  max-width: none;
  --lineH: 16px;
  --lineC: rgba(122, 122, 122, 0.164);
  padding: 4px 10px 4px 16px;
  line-height: var(--lineH);
}

*::selection{
  background: rgba(49, 207, 154, 0.24);
}

#upload-set-box{
  width:100%;
  justify-content: space-between;
  scrollbar-gutter: stable;
}


#upload-set-main{
  gap: 4px;
}

[data-textarea-wrap="true"]{
  white-space: normal;
  width: 2000px;
}

[data-textarea-wrap="false"]{
  white-space: nowrap;
}

[data-textarea-linenum-box]{
  width: 30px;
  background: var(--boxGry);
  border-right: 1px var(--boxBod) solid;
  padding: 6px 2px;
  box-sizing: border-box;
  opacity: 0.6;
  pointer-events: none;
}

[data-textarea-linenum]{
  height: 20000px;
  text-align: right;
  line-height: 16px;
  gap: 0;
  position: relative;
}

[data-scroll-left]{
  display: flex;
  gap: 4px;
  font-size: 8px;
  height: calc(100% - 2px);
  padding: 2px;
  opacity: 0.3;
  top: 0;
  left: 30px;
}

[data-scroll-left]:hover{
  opacity: 1;
}

[data-scroll-left] [data-btn]{
  width: 10px;
  height: 14px;
  border-radius: 2px;
}


[data-btn]{
  max-width: 580px;
  padding: 2px 0;
  border: 1px solid var(--boxBod);
  box-sizing: border-box;
  cursor: var(--pointer,pointer);
  position: relative;
}

[data-btn]:hover{
  background: var(--boxGry);
}

[data-btn]:active{
  transform: translateY(1px);
}

[data-btn-important]::before{
  content: '‚ú¶';
  margin-right: 0.25ch;
}

[data-selects="true"] [data-skill-sec]:hover [data-btn-important="skill"]{
  transform: translateX(0);
  animation: btnUp 0.2s cubic-bezier(0, 8, 1, -10);
}

@keyframes btnUp {
  0%{
    transform: translateX(0);
  }
  33%{
    transform: translateX(1px);
  }
  66%{
    transform: translateX(0);
  }
  100%{
    transform: translateX(1px);
  }
}

[data-btn-important="skill"]:hover{
  border-color: var(--themeColor);
}

[data-btn-dblclick]::after{
  content: '‚óè‚óè';
  position: absolute;
  font-size: 6px;
  top: 0;
  right: 2px;
}

[data-btn="main"]{
  width: calc(100% - 20px);
  border-radius: 20px;
  background: var(--boxGry);
}

[data-btn="main2"]{
  border-radius: 20px;
  background: var(--boxGry);
}

[data-btn="main"]:hover,[data-btn="main2"]:hover,[data-btn="skill-main"]:hover{
  background: var(--boxBod);
}

[data-btn="skill"],[data-btn="skill-main"]{
  border-radius: 4px;
}

[data-btn="skill-main"]{
  width: 100%;
  background: var(--boxGry);
}

[data-btn="help"]{
  margin: 6px 0;
  padding: 0;
  --boxBod: var(--themeColor);
  background: var(--themeColor);
  border-radius: 20px;
  color: #000;
}

[data-btn="help"]:hover{
  background: var(--code1);
}

[data-btn="text"]{
  border: none;
}

[data-btn="text"]:hover,[data-btn="op"]:hover{
  opacity: 0.5;
}

[data-btn="icon"]{
  display: block;
  padding: 0;
  background: none;
  border: none;
}


[data-btn="icon"]:hover{
  background: none;
  opacity: 0.5;
}

[data-btn="moreset"]{
  width: 40px;
  height: 40px;
  padding: 8px;
  box-sizing: border-box;
  border-radius: 4px;
  border: 1px solid var(--boxBod);
}

[data-btn="moreset"]:hover{
  background: var(--boxGry);
}

[data-btn="reset"]{
  width: 20px;
  height: 20px;
  flex: 0 0 auto;
  border-radius: 4px;
  margin-left: 4px;
}

input[type="checkbox"]:checked + .btn-moreset:hover{
  background: var(--themeColor);
  --mainColor: #242424;
}


.btn-moreset{
  width: 40px;
  height: 40px;
  padding: 8px;
  box-sizing: border-box;
  border-radius: 4px;
  border: 1px solid transparent;
  background: var(--themeColor);
  --mainColor: #242424;
  cursor: var(--pointer,pointer);
}


input[type="checkbox"]:checked + .btn-moreset{
  background: transparent;
  border: 1px solid var(--boxBod);
  --mainColor: var(--boxBod);
}

[data-help]{
  width: 12px;
  height: 12px;
  border: 1px solid var(--mainColor); 
  border-radius: 50%;
  font-size: 10px;
  color: var(--mainColor);
  cursor: var(--pointer,pointer);
  margin-left: 4px;
}

[data-skilltype-icon]{
  width: 28px;
  height: 28px;
  padding: 2px;
  box-sizing: border-box;
  flex: 0 0 auto;
}

[data-skill-star] {
  width: 20px;
  height: 20px;
  position: absolute;
  cursor: var(--pointer,pointer);
  top: 4px;
  right: 4px;
}

[data-skillmodule="Useful & Starts"] span [data-skill-star]{
  display: inline-block;
  position: relative;
  top: 8px;
  left: 0;
  width: 24px;
  height: 24px;
}

[data-transform-center-box]{
  min-width: 70px;
  height: 70px;
  flex: 0 0 auto;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(3, 1fr);
  gap: 4px;
  padding: 4px;
  border: 1px solid var(--boxBod);
  border-radius: 6px;
}

[data-transform-center-box] [data-radio]{
  align-self: center;
  justify-self: center;
  width: 14px;
  height: 14px;
  border: none;
}

[data-transform-center-box] [data-radio-main="true"]{
  color: transparent;
  background: var(--themeColor);
}

[data-qrcode-view-box],[data-skewscale-view-box]{
  aspect-ratio: 1/1;
  --ratio: 2;
  border: 1px solid var(--boxBod);
}

[data-qrcode-grid]{
  aspect-ratio:1/1;
  --grid: 25;
  --grid-w: calc(100% / var(--grid));
  --col: var(--themeColor);
  border: 1px solid var(--themeColor);
  border-left-width: 2px;
  border-bottom-width: 2px;
  border-radius: 2px;
  background: linear-gradient(to left,var(--col) 1px,transparent 1px) 0 0/var(--grid-w) var(--grid-w) repeat,
  linear-gradient(to bottom,var(--col) 1px,transparent 1px) 0 0/var(--grid-w) var(--grid-w) repeat;
  box-shadow: 0 0 0 999px rgba(0,0,0,0.5);
  position: absolute;
  cursor: move;
  user-select: none;
}

[data-qrcode-grid]:active{
  cursor:  url('../../../VI/drag_24.png'),grabbing;
}
[data-qrcode-grid].dragging{
  cursor:  url('../../../VI/drag_24.png'),grabbing;
}

[data-qrcode-grid-resize]{
  --size:14px;
  width: var(--size);
  height: var(--size);
  background: var(--boxGry);
  border: 2px solid var(--themeColor);
  border-radius: 50%;
  cursor: se-resize;
}

[data-qrcode-grid-resize="true"]{
  bottom: 0;
  right: 0;
  transform: translate(50%,50%);
}

[data-qrcode-grid-resize="false"]{
  top: 0;
  left: 0;
  transform: translate(-50%,-50%);
}





[data-dailog]{
  display: none;
  width: 100vw;
  height: 100vh;
  z-index: 12;
  gap: 4px;
  white-space: normal;
}

[data-dailogimg],[data-dailogsearch],[data-dailoglogin]{
  display: none;
  width: 100vw;
  height: 100vh;
  box-sizing: border-box;
  padding: 30px 0 100px 0;
  z-index: 12;
}

[data-dailog],[data-dailogimg]{
  background: rgba(0, 0, 0, 0.6);
}

[data-dailogsearch]{
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(2px);
}

[data-dailoglogin]{
  background: rgba(0, 0, 0, 0.6);
  padding: 0;
}

[data-theme="light"] [data-dailog],
[data-theme="light"] [data-dailogsearch],
[data-theme="light"] [data-dailoglogin]{
  background: rgba(226, 226, 226, 0.8);
  --boxGry: #ffffff;
  --boxBak: #ffffff;
}

[data-theme="light"] [data-dailogimg]{
  background: rgba(226, 226, 226, 0.8);
  --boxGry: #ffffff;
  --boxBak: #e1e1e1;
}

[data-dailog-box] p{
  font-size: 11px;
}

[data-dailog-box] li{
  opacity: 0.6;
  font-size: 10px;
}

[data-language="Zh"] [data-dailog-box] li{
  line-height: 1.5em;
  margin: 0.5ch 0;
}

[data-language="En"] [data-dailog-box] li{
  line-height: 1.25em;
  margin: 1ch 0;
}

[data-dailog-box] p::before{
  content: 'üëå ';
}

[data-dailog-close]{
  width: 80%;
  max-width: 480px;
}

[data-dailog-box]{
  width: 80%;
  height: 70%;
  max-width: 480px;
  padding: 2% 4%;
  box-sizing: border-box;
  border-radius: 10px;
  border: 1px solid var(--boxBod);
  background: var(--boxGry); 
  gap: 4px;
}

[data-dailogimg-box] {
  width: 100%;
  height: fit-content;
  max-height: 80%;
}

[data-dailogsearch-box]{
  border-radius: 4px;
  width: calc(100% - 22px);
  height: 100%;
  gap: 4px;
  padding:0 4px 0 6px;
}

[data-dailogsearch-close]{
  width: 100%;
  box-sizing: border-box;
  padding: 10px 20px;
  gap: 4px;
}

[data-dailogsearch-close] btn-close{
  --mainColor: var(--boxBod)
}

[data-dailoglogin-box] [data-input]{
  width: 100%;
  padding: 8px 12px;
  box-sizing: border-box;
  border: 1px solid var(--boxBod);
  border-radius: 6px;
  background: var(--boxBak);
  color: var(--mainColor);
}

#skillsearch{
  height: 24px;
}

[data-search-turnto]{
  background: var(--boxBak);
  border-radius: 4px;
  padding: 4px 10px;
  text-transform: capitalize;
  gap: 4px;
}

[data-search-turnto] [data-search-name]{
  width: fit-content;
  font-size: 14px;
}
[data-search-turnto] [data-search-path]{
  width: fit-content;
  opacity: 0.6;
  transform: skewX(-8deg);
}

[data-search-pick="true"] [data-search-name]::before,
[data-search-pick="0"] [data-search-name]::before,
[data-search-pick="1"] [data-search-name]::before,
[data-search-pick="2"] [data-search-name]::before{
  content: '';
  min-width: 10px;
  min-height: 10px;
  border-radius: 50%;
  margin-right: 2px;
}
[data-search-pick="true"] [data-search-name]::before{
  background: var(--liColor);
}
[data-search-pick="0"] [data-search-name]::before{
  background: var(--themeColor2);
}
[data-search-pick="1"] [data-search-name]::before{
  background: var(--themeColor);
}
[data-search-pick="2"] [data-search-name]::before{
  background: var(--boxBod);
}
[data-search-pick="true"]{
  order: -4;
  animation: boxUp 0.5s;
}
[data-search-pick="0"]{
  order: -3;
  animation: boxUp 0.5s;
}
[data-search-pick="1"]{
  order: -2;
  animation: boxUp 0.5s;
}
[data-search-pick="2"]{
  order: -1;
  animation: boxUp 0.5s;
}
[data-search-pick="3"]{
  filter: brightness(0.5);
  order: 0;
  animation: none;
}
[data-theme="light"] [data-search-pick="3"]{
  filter: brightness(0.8);
  order: 0;
  animation: none;
}
[data-search-pick="false"]{
  filter: none;
  order: 0;
  animation: none;
}

[data-search-turnto] [data-btn]{
  width: 8ch;
  height: 20px;
  border-radius: 10px;
}

[data-findbox]{
  border: 4px var(--themeColor) solid;
}

[data-dailogimg-box] img{
  margin: auto;
  pointer-events: none;
}

[data-dailogimg-close]{
  width: 100%;
  box-sizing: border-box;
  padding: 10px;
}

[data-dailoglogin-box]{
  border-radius: 10px;
  border: 1px solid var(--boxBod);
  background: var(--boxGry);
  padding: 20px;
  max-height: 90vh;
  max-width: 400px;
  width: calc(100% - 40px);
  box-sizing: border-box;
  white-space: normal;
}

[data-dailoglogin-close]{
  width: 100%;
  max-width: 400px;
  padding: 10px 20px;
  box-sizing: border-box;
}

[data-dailoglogin-box] input[type="text"],
[data-dailoglogin-box] input[type="password"]{
  font-size: 12px;
}

[data-dailoglogin-box] input[type="text"]::placeholder,
[data-dailoglogin-box] input[type="password"]::placeholder{
  opacity: 0.5;
}

[data-login-error],
[data-register-error]{
  border-radius: 4px;
  background: rgba(166, 72, 72, 0.1);
}

[data-user-avatar-box]{
  width: 48px;
  height: 48px;
  flex: 0 0 auto;
  border-radius: 50%;
  background: var(--themeColor);
  color: #000;
  font-size: 20px;
  font-weight: bold;
}
[data-user-avatar]{
  text-transform: uppercase;
}

[data-dailog-close] [data-close],
[data-dailogimg-close] [data-close],
[data-dailogsearch ] [data-close],
[data-dailoglogin-close] [data-close]
{
  width: 20px;
  height: 20px;
}

[for="fullimg"],[data-imgnum-up],[data-imgnum-down]{
  width: 18px;
  height: 18px;
  border-radius: 4px;
  border: 1px var(--boxBod) solid;
}

[for="fullimg"]:hover,
[data-imgnum-up]:hover,[data-imgnum-down]:hover,
input[type="checkbox"]:checked + [for="fullimg"]{
  cursor: var(--pointer,pointer);
  background: var(--boxGry);
}

[data-isfull="true"] [data-ismaxW="true"]{
  width: auto;
  height: 100%;
}
[data-isfull="true"] [data-ismaxW="false"]{
  width: 100%;
  height: auto;
}
[data-isfull="false"] [data-ismaxW="true"]{
  width: 100%;
}
[data-isfull="false"] [data-ismaxW="false"]{
  height: 100%;
}

[data-imgnum-input]{
  border-radius: 6px;
  width: fit-content;
  background: var(--boxGry);
  padding: 2px;
}

[data-imgnum],[data-imgnum-input]{
  font-size: 10px;
  gap:4px;
}

[data-imgnum-input] input{
  font-size: 10px;
  width: 6ch;
  text-align: center;
}

.bod-d{
  border: 1px var(--boxBod) dashed;
  border-radius: 10px;
}
[data-drop="upload"]{
  max-width: 560px;
  
}
[data-mode-id="upload"]{
  visibility: var(--drop-df,visible);
  gap: 10px;
  padding: 10px;
  font-size: 10px;
}

[data-mode-id] [data-btn="icon"]{
  width: 40px;
  height: 40px;
}

.file-tag{
  visibility: var(--drop-df,visible);
  border-radius: 0 0 10px 10px;
  background: var(--boxGry);
  padding: 2px 8px;
  font-size: 10px;
}
.upload-set{
  padding: 8px;
  box-sizing: border-box;
  border: 1px solid var(--boxBod);
  border-radius: 4px;
}
.nobod {
  --boxBod: transparent;
}

[data-resize]::-webkit-resizer,
[data-resize] *::-webkit-resizer{
  display: none;
}

[data-tags-index]{
  opacity: 0.6;
}

[data-create-mix]{
  max-height: calc(100% - 405px);
  min-height: 20vh;
}

[data-create-tags-box],[data-export-tags-box]{
  
  min-width: 100%;
  max-width: 100%;
  min-height: 20vh;
  
}

[data-create-tags],
[data-create-catalogues],
[data-export-tags="zy"],
[data-export-tags="rich"],
[data-export-tags-box="zy"] [data-export-tags="image"],
[data-export-tags-box="rich"] [data-export-tags="image"]{
  display: none;
}

[data-create-tags]{
  padding-bottom: 10px;
}

[data-create-catalogues],[data-export-tags]{
  padding-bottom: 80px;
  gap: 6px;
}

[data-create-tags-box="image"] [data-create-tags],
[data-create-tags-box="table"] [data-create-tags],
[data-create-tags-box="zy"] [data-create-catalogues],
[data-export-tags-box="zy"] [data-export-tags="zy"],
[data-export-tags-box="rich"] [data-export-tags="rich"]{
  display: flex;
}

[data-create-tags]{
  flex-wrap: wrap;
  gap: 8px;
}

[data-create-tag],
[data-split-tag],
[data-export-tag],
[data-zynode-tag]{
  height: 24px;
  padding: 0px 4px;
  background: var(--boxGry);
  border-radius: 6px;
  gap: 4px;
  font-size: 10px;
}

[data-export-tag],
[data-zynode-tag]{
  padding: 4px 6px;
  height: fit-content;
}

[data-layerlist]{
  background: var(--boxBak);
}

[data-export-info="name"],[data-zynode-info="name"]{
  font-size: 10px !important;
  background: var(--boxGry) !important;
  padding: 0 !important;
}

[data-export-tag] [data-select-input]{
  font-size: 11px !important;
  padding-left: 1ch;
  height: 22px;
}

[data-export-tag] [data-option="option"]{
  padding: 0.5ch;
  text-align: center;
}

[data-export-pickall="false"] [data-export-pick],
[data-export-pickall="true"] [data-sizeinfo]
{
  display: none;
}

[data-export-pick]{
  transform: translateY(50%);
}

[data-export-realsize="true"]{
  color: var(--themeColor);
}

[data-export-realsize="false"]{
  color: var(--liColor);
}

[data-split-tags]{
  height: fit-content;
  flex-wrap: wrap;
  gap: 8px;
}

[data-split-tag]{
  height: 16px;
}

[data-tableset-thtd] label{
  cursor: var(--pointer,pointer);
}

[data-tablestyle-set],[data-exporttype-set]{
  gap: 4px;
}

[data-tablestyle-chk],[data-exporttype-chk]{
  width: 20px;
  height: 20px;
  padding: 0.5ch;
}

[data-tableset-more],[data-exportset-more]{
  position: relative;
}

[data-tableset-more]::after{
  content: '';
  position: absolute;
  width: 10px;
  height: 10px;
  transform: rotate(45deg);
  flex: 0 0 auto;
  background: inherit;
  top: -4px;
  right: 6px;
}

[data-tablestyle-name],[data-exporttype-name]{
  font-size: 10px;
  margin-right: 0.5ch;
}

[for="export-more"]{
  transform: rotate(180deg) rotateX(45deg);
  background: var(--boxGry);
  border-radius:  0 0 50px 50px;
  margin-bottom: -4px;
}

#export-more +.show-next::after{
  right: calc(50% - 4px);
}

[data-exportset-more]{
  background: var(--boxGry);
  margin-bottom: -2px;
  border-radius: 8px 8px 0 0;
  box-sizing: border-box;
  padding: 4px 10px;
  max-width: 560px;
}

[data-editor-mix]{
  height: calc(100% - 50px);
}

[data-editor-viewbox]{
  margin: 4px 0;
  min-height: 280px;
  box-sizing: border-box;
  border: 1px var(--boxBod) solid;
  position: relative;
}

[data-editor-viewbox]::after{
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  background: var(--bg,transparent);
}

[data-editor-setbox]{
  min-height: 168px;
}

[data-editor-viewbox] img{
  margin: auto;
  pointer-events: none;
  z-index: 1;
}

[data-editor-side]{
  top: 10px;
  right: 10px;
  gap: 4px;
  z-index: 1;
}

[for="fulleditor"],[data-editor-clear],[data-editor-bg]{
  width: 20px;
  height: 20px;
  border-radius: 4px;
  border: 1px var(--boxBod) solid;
  box-sizing: border-box;
  cursor: var(--pointer,pointer);
  opacity: 0.5;
  background: var(--boxBak);
}

[for="fulleditor"]:hover,[data-editor-clear]:hover,[data-editor-bg]:hover{
  opacity: 1;
}

input[type="checkbox"]:checked + [for="fulleditor"],
input[type="checkbox"]:checked + [data-editor-bg]{
  background: var(--themeColor);
  --mainColor: #242424;
}

[data-editor-side] [data-color]{
  gap: 4px;
}

[data-editor-side] [data-color]::after {
  content: attr(data-color-rgb);
  top: calc(-150% + 12px);
  right: 20px;
  border-radius:0.5ch 0 0.5ch 0.5ch;
}

[data-editor-side] [data-color]::before {
  content: attr(data-color-hsl);
  position: absolute;
  top: -150%;
  right: 20px;
  display: var(--hsl-df);
  background: var(--mainColor);
  color: var(--boxBak);
  font-size: 11px;
  padding: 2px 4px;
  border-radius:0.5ch 0.5ch 0 0.5ch;
}

[data-color-mix] [data-input="hex"],
[data-color-mix] [data-input="hsl"],
[data-color-mix] [data-input="rgb"],
[data-color-mix] card-colorpick,
[data-color-mix] [data-input="colortype"]{
  display: none;
}

[data-color-mix] [data-input="colortype"]{
  background: var(--boxGry);
}

[data-color-mix] [data-color-view],
[data-color-mix]:hover [data-input="hex"],
[data-color-mix]:hover [data-input="hsl"],
[data-color-mix]:hover [data-input="rgb"],
[data-color-mix]:hover [data-color] card-colorpick,
[data-color-mix]:hover [data-input="colortype"]{
  display: flex;
}

[data-color-mix] [data-input="hex"]{
  width: 8.5ch;
}

[data-color-mix] [data-input="hsl"]{
  width: 16.5ch;
}

[data-color-mix] [data-input="rgb"]{
  width: 15.5ch;
}

[data-editor-setlist-title],[data-editor-setlist]{
  min-width: 98px;
  padding-right: 6px;
  border-right: 1px var(--boxBod) dashed;
}

[data-editor-addset]{
  width: 14px;
  height: 14px;
}
[data-editor-upset],
[data-editor-inputset],
[data-editor-downset]{
  padding: 2px 0;
  width: 16px;
  height: 16px;
}
[data-editor-setcode]{
  display: none;
  padding: 4px 0 0 6px;
}

[data-editor-setcode] textarea{
  resize: none;
}

input[type="checkbox"]:checked + [for="editor-inputset"]{
  --mainColor: var(--themeColor);
}

[data-editor-addlist]{
  z-index: 20;
  display: none;
  width: 100px;
  max-height: 50vh;
  bottom: -140px;
  left: calc(100% - 4px);
}

[data-variable-type]{
  gap: 4px;
  height: 40px;
  flex: 0 0 auto;
  margin-bottom: 4px;
}

[data-variable-relayout]{
  cursor: var(--pointer,pointer);
}

[data-variable-chk]{
  width: 16px;
  height: 16px;
  margin-right: 4px;
}

[data-radio-main="true"] [data-variable-chk-name]{
  display: flex;
}

[data-variable-type] [data-radio]{
  padding: 0.5ch 0.8ch 0.5ch 0.5ch;
}

[data-variable-styleinfo-box],[data-variable-varinfo-box]{
  gap: 4px;
  padding: 4px;
  box-sizing: border-box;
  margin: 0 0 6px 0;
}

[data-variable-varinfo-box]{
  min-height: 40px;
}

[data-variable-styleinfo],
[data-variable-varinfo]{
  padding-left: 10px;
  gap: 6px;
}

[data-variable-styleinfo]::before,
[data-variable-varinfo]::before{
  content: '';
  position: absolute;
  left: 2px;
  top: 1ch;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: var(--boxBod);
}

[data-variable-styleinfo] [data-btn],
[data-variable-varinfo] [data-btn]{
  padding:0 1ch;
}

[data-variable-hasstylesheet="false"] [data-variable-has],
[data-variable-hasstyle="false"] [data-variable-has],
[data-variable-hasvarsheet="false"] [data-variable-has],
[data-variable-hasvar="false"] [data-variable-has],
[data-variable-hasstylesheet="true"] [data-variable-hasnot],
[data-variable-hasstyle="true"] [data-variable-hasnot],
[data-variable-hasvar="true"] [data-variable-hasnot],
[data-variable-hasvarsheet="true"] [data-variable-hasnot]
{
 display: none;
}

[data-any="unclick"],
[data-variable-hasstyle="false"] + [data-variable-styleinfo],
[data-variable-hasvar="false"] + [data-variable-varinfo]{
  pointer-events: none;
  opacity: 0.6;
}

[data-variable-has],[data-variable-hasnot]{
  gap: 4px;
}

[data-variable-has-icon]{
  pointer-events: none;
  width: 26px;
  height: 18px;
  border: 1px solid var(--boxBod);
  box-sizing: border-box;
  border-radius: 20px;
  background: var(--boxGry);
}

[data-variable-refresh]{
  padding: 1px;
  top: 2px;
  right: 2px;
}

[data-variable-refresh] [data-btn]{
  width: 14px;
  height: 14px;
  padding: 1px;
  border-radius: 4px;
}

[data-variable-manage]{
  border: 1px solid var(--boxBod);
  box-sizing: border-box;
  border-radius: 4px;
  min-height: 70px;
  max-height: 80vh;
  margin: -4px 0 10px 0;
}

[data-manage-linkstyle],[data-manage-selectstyle],[data-manage-variables]{
  padding: 4px;
  box-sizing: border-box;
  background: var(--boxGry);
}

[data-manage-linkstyle] [data-btn="icon"],
[data-manage-selectstyle] [data-btn="icon"],
[data-manage-variables] [data-btn="icon"]{
  padding: 2px 0;
  width: 16px;
  height: 16px;
}

[data-manage-linkstyle-list]{
  gap: 4px;
  max-height: 50vh;
}

[data-text-mini]{
  font-size: 8px;
  transform: skewX(-8deg);
  opacity: 0.6;
  white-space: normal;
}

[data-language="En"] [data-retable-moreset]{
  justify-content: center;
  align-items: center;
}

[data-language="En"] [data-retable-moreset] [data-text-mini]{
  text-align: center;
  max-width: 260px;
}

[data-selectcomp-mix]{
  font-size: 10px;
}

[data-selectcomp-box="false"] [data-selectcomp-mix]{
  display: none;
}

[data-selectcomp-box="true"] [data-selectcomp-no]{
  display: none;
}

[data-selectcomp-1],[data-selectcomp-2]{
  color: var(--themeColor2)
}

input[type="checkbox"]:checked ~ [data-selectcomp-box],
input[type="checkbox"]:checked ~ [data-tablestyle-box]{
  width: 100vw;
}

[data-skilltype-box]{
  max-width: 560px;
  height: 40px;
  gap: 2px;
  margin: 0 auto;
}

[data-skilltype-box] [data-radio]{
  padding: 0.5ch;
  border: 1px var(--boxBod) solid;
  min-width: 35px;
}

[data-skilltype-name]{
  font-size: 10px;
  padding-right: 0.5ch;
  display: none;
}

[data-radio-main="true"] [data-skilltype-name]{
  display: flex;
}

[data-skills-scroll]{
  max-width: 560px;
  padding-bottom: 80px;
}

[data-skills-box]{
  gap: 10px;
}

[data-skillmodule]{
  border-radius: 4px;
  padding: 6px;
  box-sizing: border-box;
  flex-wrap: wrap;
  gap: 6px;
  position: relative;
}

[data-skilltype-icon="mini"]{
  --wh: 20px;
  width: var(--wh);
  height: var(--wh);
  position: absolute;
  
  top: calc(var(--wh)*-0.5 + 14px);
  --mainColor: var(--boxBod);
}

[data-skillmodule]::before{
  content: attr(data-skillmodule);
  color: var(--boxBod);
  display: flex;
  
  font-size: 10px;
  width: 100%;  
  height: 16px;
  padding-left: 22px;
}

[data-language="En"] [data-skillmodule]::before{
  align-items: center;
}

[data-language="Zh"] [data-skillmodule]::before{
  content: attr(data-skillmodule-zh);
}

[data-skillmodule="Useful & Starts"] [data-skill-index]{
  display: none;
}

[data-skillmodule="Useful & Starts"] [data-skill-title]::before{
  content: 'üëå';
  opacity: 0.6;
}

[data-skill-sec]{
  position: relative;
  min-width: 200px;
  border-radius: 4px;
  background: rgba(230, 230, 230, 1);
  padding: 8px;
  white-space: normal;
}

[data-skill-sec]:hover{
  
  filter: 
  drop-shadow(0 1px 0 var(--skill-col,var(--boxBod)))
  drop-shadow(1px 0 0 var(--skill-col,var(--boxBod)))
  drop-shadow(0 -3px 0 var(--skill-col,var(--boxBod)))
  drop-shadow(-1px 0 0 var(--skill-col,var(--boxBod)));
  
}

[data-theme="dark"] [data-skilltype-box] [data-radio-main="true"]{
  background: transparent;
  --mainColor: var(--code1);
  border-color: var(--code1);
}

[data-theme="light"] [data-skilltype-box] [data-radio-main="true"] {
  background: #18e7a6;
  border-color: #656565;
}

[data-theme="dark"] [data-skill-sec]{
  background: rgba(40, 40, 40, 1);
}

[data-skill-cover="end"]{
  opacity: 0.5;
  position: relative;
  overflow: hidden;
  font-size: 10px;
}

[data-skillnum-odd="1"] [data-skill-cover="end"]{
  display: none;
}

[data-skill-cover="end"]::after{
  content: '';
  position: absolute;
  width: 110%;
  height: 110%;
  top: -10%;
  left: -10%;
  background: url('https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@499353f70d93db793ee5a4102aba38f934c27292/VI/logo_graph_bod.png');
  background-size: 380px;
  animation: bgMove 50s linear infinite;
}

@keyframes bgMove {
  to{
    background-position: 380px 0;
  }
}

[data-skillmodule="Useful & Starts"] [data-skill-cover="end"]{
  opacity: 0.8;
}

[data-skillmodule="Useful & Starts"] [data-skill-cover="tips"]{
  margin-top: -6px;
}


[data-skill-title]{
  font-size: 11px;
  --icon-info: var(--boxBod);
  height: 14px;
  gap: 4px;
  margin-bottom: 1ch;
  align-items: baseline;
}

[data-skill-title] [data-tips]{
  transform: translateY(0.35ch);
}

[data-skill-sec-name]{
  opacity: 0.6;
  text-transform: capitalize;
}

[data-skill-btnname],[data-skill-btnname-top]{
  font-size: 10px;
}

[data-skill-btnname]::after{
  content: ' ‚ñ∂';
  opacity: 0.6;
}

[data-skill-btnname-top]::after{
  content: ' ‚ñº';
  opacity: 0.6;
}

[data-skill-line]{
  padding:0 4px;
  margin-bottom: 6px;
  gap: 4px;
}

[data-skill-line="false"]{
  display: none;
}

[data-skill-more]{
  gap: 4px;
}

[for="skewscale-view-pick"]{
  min-height: 30px;
  font-size: 10px;
}

input[type="checkbox"]:checked + [for="skewscale-view-pick"]{
  border: 1px var(--themeColor) solid;
}

[for="skewscale-view-pick"] span{
  opacity: 0.6;
  text-align: center;
}

input[type="checkbox"]:checked + [for="skewscale-view-pick"] .tip1,
[for="skewscale-view-pick"] .tip2,
[data-skewscale-copy]{
  display: none;
}

input[type="checkbox"]:checked + [for="skewscale-view-pick"] .tip2{
  display: block;
  color: var(--themeColor);
}

[data-theme="light"] [for="skewscale-view-pick"]{
  background: var(--themeColor);
  border: 1px rgba(0, 0, 0, 0.8) solid !important;
}

[data-theme="light"] input[type="checkbox"]:checked +  [for="skewscale-view-pick"] .tip2{
  color: var(--mainColor);
  opacity: 1;
}

input[type="checkbox"]:checked + * + [data-skewscale-copy]{
  display: flex;
}

input[type="checkbox"]:checked + * + * + [data-skewscale-view-box] [data-skewscale-box]{
  display: none;
}

[data-skewscale-box]{
  height: 60px;
}
[data-skewscale-box]::after{
  content: '+';
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  top: 0;
  left: calc(50% - 30px);
  width: 60px;
  height: 60px;
  z-index: 0;
}

[data-skewscale-view]{
  
  
  --wh: calc(var(--select-w)/var(--select-h));
  aspect-ratio: var(--wh,1);
  width: var(--w,100%);
  height: var(--h,100%);
  max-height: calc(100% - 10px);
  max-width: calc(100% - 40px);
  border: 1px var(--themeColor) solid;
  box-sizing: border-box;
  transform: 
  skew(
    calc(var(--skewX,0) * 1deg),
    calc(var(--skewY,0) * 1deg))
  scale(
    calc(var(--scaleX,100) * 1%),
    calc(var(--scaleY,100) * 1%));
}

[data-selects-node]{
  width: 100%;
  max-width: 560px;
  height: 38px;
  font-size: 10px;
  white-space: normal;
  text-align: center;
  opacity: 0.6;
  margin: 4px 0;
  background: rgba(0, 0, 0, 0.8);
  --mainColor: #b9b9b9;
  color: var(--mainColor);
  border-radius: 10px;
  transform: translateY(6px);
}

[data-selects="true"] [data-selects-node]{
  opacity: 1;
}

[data-selects="true"] [data-selects-node]::after{
  content: '';
}

[data-selects="false"] [data-selects-node]::after{
  content: var(--tips-text,'Êú™ÈÄâ‰∏≠‰ªª‰ΩïÂõæÂ±Ç');
  margin: 0 auto;
}
[data-language="En"] [data-selects-node]::after{
  --tips-text: var(--tips-text-en,'No layer selected');
}

[data-selects="false"] [data-selects-info-box]{
  display: none;
 }
 
[data-selects-info="more"]{
   display: none;
 }

[data-selects="true"] [data-selects-info-box],
[data-selects-more="true"] [data-selects-info="more"]{
  display: inline-flex;
}

[data-selects-info-box] span{
  white-space: nowrap;
}

[data-selects-info="main"],[data-selects-info="num"]{
  color: var(--themeColor2);
}

[data-selects-more="false"] [data-selects-info="main"]{
  color: var(--mainColor);
}

[data-selects="false"] [data-skill-line],
[data-selects="false"] [data-selects-must]{
  pointer-events: none;
  opacity: 0.6;
}

[data-selects="false"] [data-selects-must="false"],
[data-selects="false"] [data-skill-line][data-selects-must="false"]{
  pointer-events: auto;
  opacity: 1;
}

[data-skill-gap]{
  font-size: 10px;
  opacity: 0.6;
}

[data-clip-view]{
  width: 100%;
  height: 200px;
  position: relative;
  margin: 4px 0;
}

[data-clip-select]{
  
  
  --wh: calc(var(--select-w)/var(--select-h));
  aspect-ratio: var(--wh,1);
  width: var(--w,100%);
  height: var(--h,100%);
  max-height: calc(100% - 30px);
  max-width: calc(100% - 30px);
  border-radius: 0;
}

[data-clip-set-box="w"]{
  width: 100%;
  height: calc(100% + 30px);
  top: -15px;
  left: 0;
}

[data-clip-set-box="h"]{
  width: calc(100% + 30px);
  height: 100%;
  top: 0;
  left: -15px;
}

[data-clip-w="0"]{
  --dis-w1: none;
  --dis-w2: none;
}
[data-clip-w="2"]{
  --xx: 33.3%;
  --dis-w1: block;
  --dis-w2: none;
}
[data-clip-w="4"]{
  --xx: 20%;
  --dis-w1: block;
  --dis-w2: block;
}
[data-clip-h="0"]{
  --dis-h1: none;
  --dis-h2: none;
}
[data-clip-h="2"]{
  --yy: 33.3%;
  --dis-h1: block;
  --dis-h2: none;
}
[data-clip-h="4"]{
  --yy: 20%;
  --dis-h1: block;
  --dis-h2: block;
}

[data-clip-set="x1"],[data-clip-set="x2"]{
  display: var(--dis-w1);
}
[data-clip-set="x3"],[data-clip-set="x4"]{
  display: var(--dis-w2);
}
[data-clip-set="y1"],[data-clip-set="y2"]{
  display: var(--dis-h1);
}
[data-clip-set="y3"],[data-clip-set="y4"]{
  display: var(--dis-h2);
}


[data-clip-set-box="w"] [data-clip-set]{
  width: var(--x,var(--xx));
  border-width:0 1px 0 0;
  resize: horizontal;
  max-width: calc(100% - 10px);
  min-width: 1px;
}

[data-clip-set-box="w"] [data-clip-set]::after{
  right: -4px;
  bottom: 0;
}

[data-clip-set-box="w"] [data-clip-set]::before{
  right: 6px;
  bottom: 0;
}

[data-clip-set-box="h"] [data-clip-set]{
  height: var(--y,var(--yy));
  border-width:0  0 1px 0;
  resize: vertical;
  max-height: calc(100% - 10px);
  min-height: 1px;
}

[data-clip-set-box="h"] [data-clip-set]::after{
  right: 0;
  bottom: -4px;
}

[data-clip-set-box="h"] [data-clip-set]::before{
  right: 0;
  bottom: 6px;
}

[data-clip-set]{
  border-style: solid;
  border-color: var(--boxBod);
}

[data-clip-set]::after{
  content: '';
  position: absolute;
  width: 8px;
  height: 8px;
  background: var(--themeColor);
  border-radius: 4px;
}

[data-clip-set]::-webkit-resizer{
  display: none;
}

[data-clip-set]::before{
  content: attr(data-clip-set);
  position: absolute;
  width: 8px;
  height: 8px;
  font-size: 8px;
}




.tex-dot{
  --dot-wh: 1px;
  --dot-gap: 10px;
  background: 
  repeating-radial-gradient(
    circle at center,
    var(--dot-col) 0,
    var(--dot-col) var(--dot-wh),
    transparent var(--dot-wh),
    transparent calc(var(--dot-gap)*2)), var(--boxBak);
  background-size: var(--dot-gap) var(--dot-gap);
}

.tex-line{
  --line-col: rgba(0, 0, 0, 0.8);
  --line-size: 50px;
  --line-bod: 4%;
  --line-deg: -45deg;
  --line-bak: transparent;
  background: 
  repeating-linear-gradient(var(--line-deg),
    var(--line-col) -20%,
    var(--line-col) calc(-20% + var(--line-bod)),
    transparent calc(-20% + var(--line-bod)),
    transparent 30%,
    var(--line-col) 30%,
    var(--line-col) calc(30% + var(--line-bod)),
    transparent calc(30% + var(--line-bod)),
    transparent 80%,
    var(--line-col) 80%,
    var(--line-col) calc(80% + var(--line-bod)),
    transparent calc(80% + var(--line-bod)),
    transparent 100%
    ) 0 0/var(--line-size) var(--line-size),var(--line-bak);
    --pos-x: var(--line-size);
    --pos-y: 0;
    animation: posMove 2s infinite;
    animation-delay: 1s;
}

* .tex-line  {
  --pos-x: var(--line-size);
  --pos-y: 0;
  animation: posMove 2s infinite;
  animation-delay: 1s;
}

@keyframes posMove {
  to {
    background-position: var(--pos-x) var(--pos-y);
  }
}

.tex-pixelbg {
  --pixel-w: #f7f7f7;
  --pixel-b: #dddddd;
  --pixel-wh: 20px;
  background: conic-gradient(
  var(--pixel-b) 25%,
  var(--pixel-w) 0deg 50%,
  var(--pixel-b) 0deg 75%,
  var(--pixel-w) 0deg) 0/var(--pixel-wh) var(--pixel-wh);
}

[data-theme="dark"] .tex-pixelbg {
  --pixel-w: #333333;
  --pixel-b: #222222;
}



@keyframes loadRo2 {
  0%{
    transform: rotate(0deg) scale(1.1);
  }
  100%{
    transform: rotate(-180deg) scale(1.1);
  }
}

@media (max-width:469px) {
  [data-any="vw470"]{
    display: none;
  }
  [data-clip-view] {
    height: 250px;
  }
}

@media (min-width:470px) {
  [data-transform-center-module]{
    max-width: 72px;
  }
  
}

@media (max-width:460px) {
  
}

@media (min-width:420px) {
  [data-mainset-bottom]{
    display: flex;
  }

  [data-mainset-side]{
    display: none;
  }

  [data-skilltype-name]{
    display: flex;
  }

}

@media (max-width:359px) {
  #upload-textarea-box{
    width: 100%;
    flex: 0 0 auto;
  }
  [data-language="Zh"] [data-skillType-name]{
    max-width: 5ch;
  }
  .file-tag{
    max-width: 200px;
  }
  [data-any="vw360"]{
    display: none;
  }
  
}

@media (min-width:360px) {
  #upload-set-box{
    width: 40px;
  }
  #upload-set-main{
    width: 40px;
    height: calc(100% - 40px);
    flex-flow: column;
  }
  #upload-set-main [data-tips-x="left"]::after,
  #upload-set-main [data-tips-x="center"]::after {
    --x: calc(-100% + 40px);
  }

  [data-radio]{
    padding: 0.5ch;
  }

  [data-create-mix]{
    max-height: calc(100% - 356px);
  }

  [data-editor-setlist-title],[data-editor-setlist]{
    min-width: 148px;
  }

  [data-skill-sec] {
    padding: 14px;
  }
}
@media (max-width:299px) {
  [data-any="vw300"]{
    display: none;
  }
  [data-tips]::after, btn-info{
    display: none;
  }
  
}

@media (max-width:300px) {
  [data-transform-center-module]{
    max-width: 72px;
  }
  [data-clip-view] {
    height: 160px;
  }
}

@media (min-width:300px) {
  [data-radio-main="true"] [data-tablestyle-name],
  [data-radio-main="true"] [data-exporttype-name],
  [data-exporttype-set] [data-radio]:hover [data-exporttype-name]{
    display: block;
  }
}

@media (max-width:239px) {
  [data-any="vw240"]{
    display: none;
  }

  [data-radio-main="false"] [data-variable-chk]{
    margin-right: 0;
  }

  [data-mainset-top]{
    display: flex;
  }

  [data-skill-sec]{
    min-width: 160px;
  }

  [data-skill-more]{
    flex-wrap: wrap;
  }

  [data-editor-setlist-title],[data-editor-setlist]{
    min-width: 68px;
  }

}

</style> 
</head>

<body class="noselect df-ffc df-cc">
  <!--È°∂ÈÉ®-->
  <div id="top" class="w100 df-sc">
    <div data-any="vw240" class="fl0" style="width: var(--top-h); height: var(--top-h);"></div>
    <!--ÂÖ¨ÂëäÊ†è-->
    <div data-tv-box data-any="vw240"  class="df-lc">
      <div data-tv-cut class="TV df-lc" >
        <div data-tv="true" class="df-lc" style="--tv-w: -29ch; --tv-s: 37s;">
          <div data-tv-text data-en-text="üí¨NOTICE:Please note the following">üí¨ÂÖ¨Âëä:ÂÖ¨ÂëäÂÜÖÂÆπÂÖ¨ÂëäÂÜÖÂÆπÂÖ¨ÂëäÂÜÖÂÆπ</div>  
        </div>  
      </div> 
    </div>
    <div data-mainset-top class="df-lc gap4 mar-l2">
      <div id="btn-theme-3">
        <input id="theme-3" data-theme-check type="checkbox" checked>
        <label for="theme-3" class="btn-theme pos-r">
          <btn-theme></btn-theme>
        </label>
      </div>
      <input id="language-3" data-language-check type="checkbox" checked/>
      <label for="language-3" class="switch pos-a" style="--swi-h:18px; --swi-r:6px; --swi-af:var(--mainColor);">
        <div class="pos-a" data-swi-icon style="top:3px; left: 2px; width: 11px; height: 11px; z-index: 2;">
          <svg class="mar-a0" style="--mar-lr: 1px;" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 22 22">
            <path fill="var(--boxBod)" d="M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2"></path>
          </svg>
        </div>
      </label>
    </div>
    <div class="df-cc gap4 font-s12" style="margin-right: 2%;">
      <div data-skill-search class="df-cc" onclick="getElementMix('data-dailogsearch').style.display = 'flex'">
        <btn-search></btn-search>
      </div>
      <input id="big" type="checkbox">
      <label for="big" class="btn-big df-cc" style="--fill: var(--boxBod)">
        <btn-show></btn-show>
      </label>
    </div>
  </div>
  <!--ÂÖ®Â±Ätips-->
  <div id="tips-all">
    <div id="tips-all-text" class="tips-all-text" ></div>
  </div>
  <!--ÂºπÁ™ó-->
  <div data-dailog data-close-id="dailog" class="pos-a df-ffc df-cc">
    <!--ÂÖ≥Èó≠-->
    <div data-dailog-close class="df-rc">
      <div data-close="close" data-close-for="dailog">
        <btn-close></btn-close>
      </div>
    </div>
    <div data-dailog-box class="ovy scrollbar df-ffc">
      <!--ÁîüÊàêÂÜÖÂÆπ-->
    </div>
  </div>
  <!--ÂºπÁ™ó-ÂõæÁâáÊü•ÁúãÂô®-->
  <div data-dailogimg data-close-id="dailogimg" class="pos-a df-ffc df-cc">
    <!--ÂÖ≥Èó≠-->
    <div data-dailogimg-close class="df-sc">
      <input type="checkbox" id="fullimg"/>
      <label for="fullimg" class="df-cc">
        <svg width="80%" height="80%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill="var(--mainColor)" d="M10.8219 8.1537L16.2146 2.76098L12.6399 2.76162C12.2562 2.76162 11.9447 2.45006 11.9447 2.06643C11.9447 1.68279 12.2562 1.37123 12.6399 1.37123L17.8915 1.37187C18.2752 1.37187 18.5861 1.68279 18.5861 2.06643L18.5867 7.31806C18.5867 7.7017 18.2752 8.01326 17.8915 8.01326C17.5079 8.01326 17.1963 7.7017 17.1963 7.31806L17.197 3.74334L11.8042 9.13605C11.533 9.40732 11.0932 9.40732 10.8219 9.13605C10.5506 8.86478 10.5506 8.42497 10.8219 8.1537Z"/>
          <path fill="var(--mainColor)" d="M11.796 10.8138L17.1887 16.2066L17.1881 12.6318C17.1881 12.2482 17.4996 11.9366 17.8833 11.9366C18.2669 11.9366 18.5785 12.2482 18.5785 12.6318L18.5778 17.8835C18.5778 18.2671 18.2669 18.578 17.8833 18.578L12.6316 18.5787C12.248 18.5787 11.9364 18.2671 11.9364 17.8835C11.9364 17.4998 12.248 17.1883 12.6316 17.1883L16.2064 17.1889L10.8137 11.7962C10.5424 11.5249 10.5424 11.0851 10.8137 10.8138C11.0849 10.5426 11.5247 10.5426 11.796 10.8138Z"/>
          <path fill="var(--mainColor)" d="M9.13636 11.796L3.74364 17.1887L7.31837 17.1881C7.702 17.1881 8.01356 17.4996 8.01356 17.8833C8.01356 18.2669 7.702 18.5785 7.31837 18.5785L2.06673 18.5778C1.6831 18.5778 1.37218 18.2669 1.37218 17.8833L1.37154 12.6316C1.37154 12.248 1.6831 11.9364 2.06673 11.9364C2.45037 11.9364 2.76193 12.248 2.76193 12.6316L2.76129 16.2064L8.15401 10.8137C8.42527 10.5424 8.86509 10.5424 9.13636 10.8137C9.40763 11.0849 9.40763 11.5247 9.13636 11.796Z"/>
          <path fill="var(--mainColor)" d="M8.162 9.13587L2.76928 3.74315L2.76992 7.31788C2.76992 7.70152 2.45836 8.01308 2.07473 8.01308C1.69109 8.01308 1.37953 7.70152 1.37953 7.31788L1.38017 2.06624C1.38017 1.68261 1.69109 1.37169 2.07473 1.37169L7.32636 1.37105C7.71 1.37105 8.02156 1.68261 8.02156 2.06625C8.02156 2.44988 7.71 2.76144 7.32636 2.76144L3.75164 2.7608L9.14435 8.15352C9.41562 8.42479 9.41562 8.8646 9.14435 9.13587C8.87308 9.40714 8.43327 9.40714 8.162 9.13587Z"/>
        </svg>          
      </label>
      <div data-imgnum="1" class="df-cc">
        <div data-imgnum-down data-btn class="df-cc">‚óÄ</div>
        <div data-imgnum-input data-int-value="1" class="df-cc">
          <input id="imgnum-set" value="1" type="text" class="nobod" data-input data-input-type="int" data-input-must="1,1000">
          <span>/</span>
          <span data-imgnum-max>1000</span>
        </div>
        <div data-imgnum-up data-btn class="df-cc">‚ñ∂</div>
      </div>
      <div data-close="close" data-close-for="dailogimg">
        <btn-close></btn-close>
      </div>
    </div>
    <div data-dailogimg-box data-isfull="false" data-scroll class="ovy ovx noscrollbar df-lc">
      <!--ÁîüÊàêÂÜÖÂÆπ-->
    </div>
  </div>
  <!--ÂºπÁ™ó-ÊêúÁ¥¢Âª∫ËÆÆ-->
  <div data-dailogsearch data-close-id="dailogsearch" class="pos-a df-ffc df-cc">
    <!--ÂÖ≥Èó≠-->
    <div data-dailogsearch-close class="df-sc">
      <input type="text" id="skillsearch"/>
      <div data-close="close" data-close-for="dailogsearch">
        <btn-close></btn-close>
      </div>
    </div>
    <div data-dailogsearch-box data-scroll class="ovy scrollbar df-ffc">
      <!--ÁîüÊàêÂÜÖÂÆπ-->
    </div>
  </div>
  <!--ÂºπÁ™ó-ÁôªÂΩïÊ≥®ÂÜå-->
  <div data-dailoglogin data-close-id="dailoglogin" class="pos-a df-ffc df-cc">
    <!--ÂÖ≥Èó≠-->
    <div data-dailoglogin-close class="df-rc">
      <div data-close="close" data-close-for="dailoglogin">
        <btn-close></btn-close>
      </div>
    </div>
    <div data-dailoglogin-box class="df-ffc pos-r ovy noscrollbar">
      <!-- ÁôªÂΩïË°®Âçï -->
      <div data-login-form class="df-ffc gap12">
        <div class="df-cc font-s16 mar-b8" style="font-weight: 700;">
          <div data-en-text="LOG IN">ÁôªÂΩï</div>
        </div>
        <div class="df-ffc gap8">
          <input type="text" id="login-email" placeholder="ÈÇÆÁÆ±" data-input data-en-placeholder="Email"/>
          <input type="password" id="login-password" placeholder="ÂØÜÁ†Å" data-input data-en-placeholder="Password"/>
        </div>
        <div data-login-error class="font-s12" style="display: none; color: var(--code7); padding: 4px 8px;"></div>
        <div class="df-sc gap8">
          <div data-btn="main" data-btn-login class="df-cc" style="flex: 1;" data-en-text="LOG IN">ÁôªÂΩï</div>
          <div data-btn="main" data-btn-show-register class="df-cc fl1 op6" data-en-text="SIGN UP ‚Üí">Ê≥®ÂÜå ‚Üí</div>
        </div>
        <div class="df-cc font-s10 op6" style="margin-top: 8px; white-space: normal;">
          <span data-en-text="*This plugin does't collect any data related to the current file, only for feedback and premium plan">*Êèí‰ª∂‰∏çÊî∂ÈõÜ‰ªª‰Ωï‰∏éÂΩìÂâçÊñá‰ª∂ÊúâÂÖ≥ÁöÑÊï∞ÊçÆÔºå‰ªÖÁî®‰∫éÊèê‰∫§ÂèçÈ¶àÂíå‰ªòË¥πËÆ°Âàí</span>
        </div>
      </div>
      <!-- Ê≥®ÂÜåË°®Âçï -->
      <div data-register-form class="df-ffc gap12" style="display: none;">
        <div class="df-cc font-s16 mar-b8" style="font-weight: 700;">
          <div data-en-text="SIGN UP">Ê≥®ÂÜå</div>
        </div>
        <div class="df-ffc gap8">
          <input type="text" id="register-email" placeholder="ÈÇÆÁÆ±" data-input data-en-placeholder="Email"/>
          <div id="register-username-wrapper" class="df-ffc pos-r gap4">
            <div id="register-username-error" class="font-s10" data-en-text style="display: none; color: var(--code7); padding: 2px 4px;"></div>
            <input type="text" id="register-username" placeholder="Áî®Êà∑Âêç" data-input data-en-placeholder="Username"/>
          </div>
          <div id="register-password-wrapper" class="df-ffc pos-r gap4">
            <div id="register-password-error" class="font-s10" data-en-text style="display: none; color: var(--code7); padding: 2px 4px;"></div>
            <input type="password" id="register-password" placeholder="ÂØÜÁ†Å" data-input data-en-placeholder="Password"/>
          </div>
          <input type="password" id="register-password-confirm" placeholder="Á°ÆËÆ§ÂØÜÁ†Å" data-input data-en-placeholder="Confirm Password"/>
        </div>
        <div data-register-error class="font-s12" style="display: none; color: var(--code7); padding: 4px 8px;"></div>
        <div class="df-sc gap8">
          <div data-btn="main" data-btn-register class="df-cc fl1" data-en-text="SIGN UP">Ê≥®ÂÜå</div>
          <div data-btn="main" data-btn-show-login class="df-cc fl1 op6" data-en-text="LOG IN ‚Üí">ÁôªÂΩï ‚Üí</div>
        </div>
      </div>
      <!-- Áî®Êà∑‰ø°ÊÅØÊòæÁ§∫ -->
      <div data-user-info class="df-ffc gap12" style="display: none;">
        <div class="df-sc gap12" style="align-items: center;">
          <div class="df-cc" data-user-avatar-box>
            <span data-user-avatar>U</span>
          </div>
          <div class="df-ffc gap4 fl1">
            <div class="font-s16" style="font-weight: bold;" data-user-display-name>--</div>
            <div class="font-s12 op6" data-user-display-email>--</div>
            <div class="font-s10 op6" data-en-text="Premium User" data-user-premium style="display: none;">‰ªòË¥πÁî®Êà∑</div>
          </div>
        </div>
        <div data-btn="main" data-btn-logout class="df-cc" data-en-text="LOG OUT">ÈÄÄÂá∫ÁôªÂΩï</div>
      </div>
    </div>
  </div>
  <!--‰æßËæπÊ†è-->
  <div data-side data-any="vw240" class="df pos-a" style="top: 0; left: 0; --fill: var(--mainColor)">
    <div data-side-mix class="df-ffc" style="height: calc(100vh - 20px)">
      <div class="h100 df-ffc" style="justify-content: space-between;">
        <div ></div>
        <div class="df-ffc gap8">
          <!-- Áî®Êà∑ÁôªÂΩïÂÖ•Âè£ -->
          <div data-user-login-btn class="df-cc" data-btn="help" style="cursor: pointer;">
            <div data-user-name style="display: none;" data-en-text="USER">Áî®Êà∑</div>
            <div data-user-login-text data-en-text="LOG IN">ÁôªÂΩï</div>
            <div class="pad2 mar-l4" style="width:16px; height:16px;  --mainColor:#2e2e2e;">
              <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 10C12.7614 10 15 7.76142 15 5C15 2.23858 12.7614 0 10 0C7.23858 0 5 2.23858 5 5C5 7.76142 7.23858 10 10 10Z" fill="var(--mainColor)"/>
                <path d="M10 12C5.58172 12 2 13.7909 2 16V20H18V16C18 13.7909 14.4183 12 10 12Z" fill="var(--mainColor)"/>
              </svg>
            </div>
          </div>
          <a href="https://www.ynyuset.cn/preview_tools/help_toolsset" rel="noopener noreferrer" target="_blank" class="df-cc" data-btn="help">
            <div data-en-text="HELP DOC">Â∏ÆÂä©ÊñáÊ°£</div>
            <div style="width:20px; height:20px; --mainColor:#2e2e2e; --arrow-w:2; transform:translate(2px,1px) rotate(-45deg);">
              <svg width="100%" height="100%" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path stroke="var(--mainColor)" d="M2.71411 11.3821H20.7141" stroke-width="var(--arrow-w)" stroke-linecap="round"></path>
                <path stroke="var(--mainColor)" d="M13.3421 4.38208L20.7141 11.3821L13.3421 18.3821" stroke-width="var(--arrow-w)"></path>
              </svg>
            </div>
          </a>
        </div>
      </div>
      <div data-mainset-side-box class="df-sc">
        <a href="https://www.ynyuset.cn" rel="noopener noreferrer" target="_blank" class="df-lc font-s10 gap2"
        data-tips="set" data-tips-y="top" data-tips-x="left" 
        style="--tips-gap: -16px; 
        --tips-text: 'üîóhttps://www.ynyuset.cn'; 
        --tips-text-en: 'üîóhttps://www.ynyuset.cn';
        color: var(--mainColor); flex: 1;">
          ¬©2024-2025 
          <set-en data-any="en" class="fl0" style="height: 20px; margin-top: -2px;"></set-en>
          <set-zh data-any="zh" class="fl0" style="height: 20px; margin-top: -3px;"></set-zh>
        </a>
        <div data-mainset-side class="df-lc gap4">
          <div id="btn-theme-1">
            <input id="theme-1" data-theme-check type="checkbox" checked>
            <label for="theme-1" class="btn-theme pos-r">
              <btn-theme></btn-theme>
            </label>
          </div>
          <input id="language-1" data-language-check type="checkbox" checked/>
          <label for="language-1" class="switch pos-a" style="--swi-h:18px; --swi-r:6px; --swi-af:var(--mainColor);">
            <div class="pos-a" data-swi-icon style="top:3px; left: 2px; width: 11px; height: 11px; z-index: 2;">
              <svg class="mar-a0" style="--mar-lr: 1px" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 22 22">
                <path fill="var(--boxBod)" d="M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2"></path>
              </svg>
            </div>
          </label>
        </div>
      </div>
    </div>
    
    <div class="df-cc" style="width: var(--top-h); height: var(--top-h); background: var(--boxGry);">
      <input id="btn-more" type="checkbox" />
      <label for="btn-more" class="btn-more" >
        <svg data-icon-more width="100%" height="100%" viewBox="0 0 20 20">
          <g data-icon-more-path="1" >
            <path fill="none" d="M18 0L0 0"></path>
          </g>
          <g data-icon-more-path="2">
            <path fill="none" d="M18 0L0 0"></path>
          </g>
          <g data-icon-more-path="3">
            <path fill="none" d="M18 0L0 0"></path>
          </g>
        </svg>
      </label>
    </div>
  </div>
  <!--‰æßËæπÊ†èÈÅÆÁΩ©-->
  <div data-side-mask class="wh100 pos-a" style="display: none;  z-index: 10">
    <div class="wh100" style="background: rgba(0,0,0,0.3); backdrop-filter: blur(2px);"></div>
  </div>
  
  <!--ÂäüËÉΩÈ°µÈù¢-->
  <div class="df-ffc w100 df-cc">
    <div data-page-id="page" class="df-ffc w100" data-tab-pick="create">
      <div data-page-name="ÂàõÂª∫" data-page-name-en="create" data-page-main="true" data-page-tabclass="tab-top" class="df-ffc df-cc wh100">
        <div class="wh100 df-ffc ovy noscrollbar bsb" style="height: calc(100% - 50px); max-width: 560px; align-items: center; padding:0 10px;">
          <div class="wh100 df-ffc" style="align-items: center;">
            <!--Ê≠•È™§1-->
            <div class="w100 df-lc op6"  style="padding:4px 0 10px 0; vertical-align: baseline;"> 
              <span>‚ñº&nbsp;</span>
              <span data-en-text="Upload | Drop | Input" >‰∏ä‰º† | ÊãñÊãΩ | ËæìÂÖ•</span>
              &nbsp;&nbsp;
              <span data-any="vw300" data-en-text="data to create node in batches op6"> Êï∞ÊçÆ‰ª•ÊâπÈáèÂàõÂª∫ÂÜÖÂÆπ</span>
              <div data-any="vw300" data-help="create" class="fl0 df-cc">?</div>
            </div>
            <!--‰∏ä‰º†Êñá‰ª∂-->
            <div data-drop="upload" class="w100 df-ffc df-cc bod-d">
              <div class="w100 df-cc">
                <div data-file-info class="file-tag" data-en-text="üìÅ No files there">üìÅ Êú™ÈÄâÊã©‰ªª‰ΩïÊñá‰ª∂</div>
              </div>
              <div data-mode-id="upload" class="df-cc">
                <div class="df-ffc df-cc gap4">
                  <input id="input-user-img" type="file" accept=".jpg,.jpeg,.jfif,.webp,.png,.apng,.gif" style="display: none;" multiple/>
                  <label for="input-user-img" data-tips="auto" data-tips-y="top" data-tips-x="left"
                  style=" --tips-text: 'ÂèØ‰∏ä‰º†1~10Âº†Â§ßÂõæ, ÊîØÊåÅÂ∏∏ËßÅÂõæÁâáÊ†ºÂºè'; --tips-text-en: 'Upload 1~10 large images (common formats)';" >
                    <btn-user-img  data-btn="icon" ></btn-user-img>
                  </label>
                  <div data-btn-name data-any="vw300" data-en-text="Cut large image">Â§ßÂõæËá™Âä®ÂàáÁâá</div>
                </div>
                <div class="df-ffc df-cc gap4">
                  <input id="input-user-table" type="file" accept=".csv,.xls,.xlsx"  style="display: none;"/>
                  <label for="input-user-table" data-tips="auto" data-tips-y="top" data-tips-x="center"
                  style="--tips-text: '‰∏ä‰º†Âçï‰∏™Ë°®Ê†º, ÈúÄÊåâ‰∏ÄÂÆöÊ†ºÂºèÂ°´ÂÜô'; --tips-text-en: 'Upload 1 table in the prescribed format';" >
                    <btn-user-table data-btn="icon"></btn-user-table>
                  </label>
                  <div data-btn-name data-any="vw300" data-en-text="Table to frame">Ë°®Ê†ºÂàõÂª∫ÁîªÊùø</div>
                </div>
                <div class="df-ffc df-cc gap4">
                  <input id="input-user-zy" type="file" accept=".md,.zy,.sketch,.svg,.xml,.json,.zip,.rar,.7z" style="display: none;"/>
                  <label for="input-user-zy" data-tips="auto" data-tips-y="top" data-tips-x="right"
                  style="--xx: 36px;--tips-text: '‰∏ä‰º†Áî±‰∫ëÂç≥Á≥ªÂàóÊèí‰ª∂ÁîüÊàêÁöÑÂõæÂ±Ç‰ø°ÊÅØÊñá‰ª∂'; --tips-text-en: 'Upload .zy (by YN+) or other compatible file';" >
                    <btn-user-zy data-btn="icon"></btn-user-zy>
                  </label>
                  <div data-btn-name data-any="vw300" data-en-text="Layers frome .zy">ÂÖºÂÆπÊ†ºÂºèÂØºÂÖ•</div>
                </div>
              </div>
            </div>
            <!--ËæìÂÖ•ÂèÇÊï∞-->
            <div class="w100 df gap4" style="flex-wrap: wrap; margin: 4px 0;">
              <div id="upload-textarea-box" data-resize class="pos-r fl1 df-lc">
                <div class="h100" style="width: 30px;"></div>
                <div data-textarea-linenum-box data-scroll class="pos-a h100 ovy noscrollbar">
                  <div data-textarea-linenum class="df-ffc">
                    <div>1</div>
                    <div>2</div>
                    <div>3</div>
                    <div>4</div>
                    <div>5</div>
                    <div>6</div>
                    <div>7</div>
                    <div>8</div>
                    <div>9</div>
                    <div>10</div>
                    <div>11</div>
                    <div>12</div>
                    <div>13</div>
                    <div>14</div>
                    <div>15</div>
                    <div>16</div>
                    <div>17</div>
                    <div>18</div>
                    <div>19</div>
                    <div>20</div>
                  </div>
                </div>
                <div id="upload-textarea-scroll" class="ovx scrollbar fl1 h100 pos-r">
                  <textarea class="wh100" data-textarea-wrap="false" spellcheck="false" id="upload-textarea" data-textarea="eg" 
                  data-eg="name\tw\th\nkv\t1920\t1080\nbanner\t1200\t300\nload\t1080\t1640\nicon\t256\t256"
                  data-eg-en="name\tw\th\nkv\t1920\t1080\nbanner\t1200\t300\nload\t1080\t1640\nicon\t256\t256"
                  ></textarea>
                  <!--Ê∏ÖÁ©∫-->
                  <div class="pos-a" data-close="clear" style="right: 4px; top:4px; width: 12px; height: 12px;">
                    <btn-close></btn-close>
                  </div>
                  
                  <ul data-textarea="tips" class="pos-a w100 df-ffc">
                    <li data-li-style="2" data-en-text="Double click fill sample" >ÂèåÂáªÂ°´ÂÖÖÁ§∫‰æã</li>
                    <li data-li-style="2" data-en-text="Copy from a sheet or manually input with tab character(key)" >‰ªéË°®Ê†ºÂ§çÂà∂ÊàñÁî®Âà∂Ë°®Á¨¶ÔºàtabÈîÆÔºâÊâãÂä®ËæìÂÖ•</li>
                    <li data-li-style="2" data-en-text="Table header must with: name | w | h (optional: s | type | note | node)" >Ë°®Â§¥Âõ∫ÂÆöÁî®Ôºöname,w,h,(ÂèØÈÄâÔºös,type,note,node), Êó†È°∫Â∫èË¶ÅÊ±Ç</li>
                  </ul>
                </div>
                <!--Â∑¶ÊªöÂä®Âô®-->
                <div data-scroll-left class="df-ffc pos-a">
                  <div class="h100" data-btn="up">‚ñ≤</div>
                  <div class="h100" data-btn="down">‚ñº</div>
                </div>
              </div>
              <div id="upload-set-box" class="df gap4 mar-b4" style="flex-wrap: wrap;">
                <div id="upload-set-main" class="df">
                  <div id="upload-set-1" data-btn="moreset" data-tips="auto" data-tips-y="top" data-tips-x="left"
                  style=" --tips-text:'ËΩ¨‰∏∫Ê†áÁ≠æ/Â§ßÁ∫≤';  --tips-text-en:'Convert to tags/catalogue';">
                    <btn-re class="df-cc wh100"></btn-re>                   
                  </div>
                  <div id="upload-set-2" data-selects-must data-btn="moreset" data-tips="auto" data-tips-y="top" data-tips-x="left"
                  style=" --tips-text:'‰ªéÊâÄÈÄâÂØπË±°Ëé∑ÂèñÊï∞ÊçÆ';  --tips-text-en:'Retrieve data from the selected node';">
                    <btn-getbyselect></btn-getbyselect>                   
                  </div>
                  <a href="https://www.ynyuset.cn/tool_web/ListEase" target="_blank" id="upload-set-3" data-btn="moreset" data-tips="auto" data-tips-y="top" data-tips-x="center"
                  style=" --tips-text:'(Êï¨ËØ∑ÊúüÂæÖ~)ÂâçÂæÄÂà∂‰ΩúÊõ¥Â§çÊùÇÁöÑÊ®°ÊùøÊï∞ÊçÆ';  --tips-text-en:'(Coming soon~)Create template';"><!--To create more complex template-->
                    <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle fill="var(--mainColor)" cx="3" cy="4" r="2"/>
                      <path stroke="var(--mainColor)" d="M3 5V10H9"/>
                      <path stroke="var(--mainColor)" d="M3 4H9"/>
                      <path stroke="var(--mainColor)" d="M3 5V16H9"/>
                      <rect fill="var(--mainColor)" x="7" y="8" width="12" height="4" rx="2"/>
                      <rect fill="var(--mainColor)" x="7" y="2" width="12" height="4" rx="2"/>
                      <rect fill="var(--mainColor)" x="7" y="14" width="12" height="4" rx="2"/>
                    </svg>                                       
                  </a>
                </div>
                <input id="upload-moreset" type="checkbox" checked onchange="showNext(this,this.parentNode.parentNode.nextElementSibling,'flex',true)">
                <label for="upload-moreset" class="btn-moreset" data-tips="auto" data-tips-y="top" data-tips-x="right"
                style="--tips-text:'È´òÁ∫ßËÆæÁΩÆ';  --tips-text-en:'Advanced setting'; --xx: 40px;">
                  <btn-set></btn-set>
                </label>
              </div>
            </div>
            <!--Êõ¥Â§öËÆæÁΩÆ-->
            <div id="upload-moreset-box" class="w100 df-lc gap4" style="flex-wrap: wrap; display: none;">
              <div class="df-lc fl1 pos-r upload-set gap4" style="min-width: 180px;">
                <div data-tips="auto" class="fl0" data-tips-y="top" data-tips-x="left" style="--tips-w: 8ch; 
                  --tips-text:'‰øÆÊîπÁîüÊïàÂàó, Áî®‰∫éÂâîÈô§Êï∞ÊçÆ';  --tips-text-en:'Select columns to take effect'; width: 20px; height: 20px;">
                  <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path stroke="var(--mainColor)" fill="var(--mainColor)" d="M1.40967 3.66602C1.40967 2.56145 2.3051 1.66602 3.40967 1.66602H7.40967V6.59054H1.40967V3.66602Z"/>
                    <rect stroke="var(--mainColor)" x="1.40967" y="7.13843" width="5.63721" height="5.5603" />
                    <path stroke="var(--mainColor)" d="M1.40967 12.6987H7.04688V18.2185H3.40967C2.3051 18.2185 1.40967 17.3231 1.40967 16.2185V12.6987Z"/>
                    <path stroke="var(--mainColor)" fill="var(--mainColor)" d="M9.86572 2.19995H17C18.1046 2.19995 19 3.09538 19 4.19995V7.36918H9.86572V2.19995Z"/>
                    <rect stroke="var(--mainColor)" x="9.86572" y="7.36914" width="9.13428" height="5.7478"/>
                    <path stroke="var(--mainColor)" d="M9.86572 13.1169H19V17.0002C19 18.1048 18.1046 19.0002 17 19.0002H9.86572V13.1169Z"/>
                  </svg>
                </div>
                <input id="input-user-table-title" data-input class="nobod fl1" type="text" 
                placeholder="name,w,h,s,type,note,node" 
                value="name,w,h,s,type,note,node"
                data-input-must="name,w,h" data-input-type="text"> 
                <!--ÈáçÁΩÆ-->
                <div data-input-reset data-btn="reset">
                  <btn-reset></btn-reset>
                </div>  
              </div>
              <div class="df-lc fl1 pos-r upload-set gap4" style="min-width: 180px;">
                <div data-tips="auto" class="fl0" data-tips-y="top" data-tips-x="left" style="--tips-w: 8ch; 
                  --tips-text:'ÁîªÊùøÂëΩÂêçÂêéÁºÄ, Ëá™ÂÆö‰πâÊ†ºÂºèÊàñÈÄâÊã©È¢ÑËÆæ';  --tips-text-en:'Frame naming suffix,input or select a preset'; width: 20px; height: 20px;">
                  <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect fill="var(--mainColor)" x="16" y="4" width="4" height="2" rx="1"/>
                    <rect fill="var(--mainColor)" y="4" width="8.5" height="2" rx="1"/>
                    <rect fill="var(--mainColor)" y="16" width="20" height="2" rx="1"/>
                    <rect fill="var(--mainColor)" x="18" y="4" width="17" height="2" rx="1" transform="rotate(90 18 4)"/>
                    <rect fill="var(--mainColor)" x="4" y="2" width="20" height="2" rx="1" transform="rotate(90 4 2)"/>
                    <path fill="var(--mainColor)" d="M6.97137 16.0954C6.62768 16.3986 6.09115 16.1182 6.14391 15.6629L6.71709 10.717L10.7051 12.8016L6.97137 16.0954Z"/>
                    <path fill="var(--mainColor)" d="M11.3154 11.5259L7.35709 9.45685L11.5784 1.38079C11.8343 0.891339 12.4385 0.701954 12.9279 0.957792L15.1138 2.10035C15.6032 2.35618 15.7926 2.96036 15.5368 3.44982L11.3154 11.5259Z"/>
                  </svg>
                </div>
                <input id="input-framename" data-input class="nobod fl1" type="text" value=" w√óh">  
                <div class="df-lc pos-r gap4" data-select data-select-close data-select-value=" w√óh" style="width: 90px; z-index:2;">
                  <input id="select-value-1" type="text" data-select-input readonly value=" w√óh">
                  <input id="select-show-1" data-select-pick=" w√óh" type="checkbox">
                  <label for="select-show-1" class="show-next wh100 pos-a" style="top:0; right: 0;"></label>
                  <div data-select-options class="df-ffc pos-a w100 noscrollbar" style="white-space: normal; display: none; top:24px;">
                    <div data-option="type" data-en-text="Basic">Âü∫Á°Ä</div>
                    <div data-option="option" data-option-main="false" data-option-value="none">none</div>
                    <div data-option="option" data-option-main="true" data-option-value=" w√óh">&nbsp;w√óh</div>
                    <div data-option="option" data-option-main="false" data-option-value=" w_h">&nbsp;w_h</div>
                    <div data-option="type" data-en-text="Complex">Â§çÊùÇ</div>
                    <div data-option="option" data-option-main="false" data-option-value=" w√óh s">&nbsp;w√óh s</div>
                    <div data-option="option" data-option-main="false" data-option-value=" w_h s">&nbsp;w_h s</div>
                    <div data-option="option" data-option-main="false" data-option-value="note w√óh s">note w√óh s</div>
                    <div data-option="option" data-option-main="false" data-option-value="note w_h s">note w_h s</div>
                  </div>
                </div>
              </div>
            </div>
            <div style="height: 4px;"></div>
            <!--Ê≠•È™§2-->
            <div class="w100 df-lc op6"  style="padding:4px 0 10px 0;vertical-align: baseline;"> 
              <span>‚ñº&nbsp;</span>
              <span data-en-text="Edit final tags/catalogue" > ÁºñËæëÊ†áÁ≠æ/Â§ßÁ∫≤ </span>
                &nbsp;&nbsp;
                <span data-en-text="to create finally op6" data-any="vw240">‰ª•Á°ÆËÆ§ÊúÄÁªàÂàõÂª∫ÂÜÖÂÆπ</span>
            </div>
            <div data-create-mix class="wh100 df-cc pos-r" ><!--data-resize-->
              <div data-create-tags-box class="wh100 upload-set pos-r">
                <div class="wh100 ovy noscrollbar">
                  <div data-create-tags class="w100 df-lc">
                    <!--Âä®ÊÄÅÂ°´ÂÖÖ-->
                  </div>
                  <div data-create-catalogues class="w100 df-ffc">
                    <!--Âä®ÊÄÅÂ°´ÂÖÖ-->
                  </div>
                </div>
                <!--Ê∏ÖÁ©∫-->
                <div class="pos-a" style="right: 4px; top: 4px; width: 12px; height: 12px;">
                  <btn-close></btn-close>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div style="height: 10px;"></div>
        <div data-create-any data-btn="main" class="df-cc" data-en-text="CREATE">ÂàõÂª∫</div>
      </div>
      <div data-page-name="ÂØºÂá∫" data-page-name-en="export" data-page-main="false" data-page-tabclass="tab-top" class="df-ffc df-cc wh100">
        <div class="wh100 df-ffc ovh bsb pad10" style="height: calc(100% - 40px); max-width: 560px; align-items: center; padding-top:0;">
          <!--Ê≠•È™§1-->
          <div class="w100 df-lc op6"  style="padding:4px 0 10px 0;vertical-align: baseline;"> 
            <span>‚ñº&nbsp;</span>
            <span data-en-text="Add selects to list" >Ê∑ªÂä†ÊâÄÈÄâÂØπË±°Âà∞ÈòüÂàó</span>
            &nbsp;&nbsp;
            <span data-any="vw300" data-en-text="by the export-type op6"> ÊåâÊâÄÈÄâÂØºÂá∫Á±ªÂûã</span>
            <div data-any="vw300" data-help="export" class="fl0 df-cc">?</div>
          </div>
          <!--ÂØºÂá∫Á±ªÂûã-->
          <div class="df-lc pos-r upload-set w100 gap4 pad4" style="border-radius: 8px;">
            <div class="noscrollbar mar-0a">
              <div data-exporttype-set class="df-lc" data-radio-value="1" >
                <div class="fl0 df-lc" data-radio data-radio-data="1" data-radio-main="true">
                  <div data-exporttype-chk>
                    <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path fill="var(--mainColor)" d="M17 1.5C18.1046 1.5 19 2.39543 19 3.5V14.8975L19.124 15.084L19 15.166V16.5C19 17.5357 18.2128 18.387 17.2041 18.4893L17 18.5H3L2.7959 18.4893C1.85435 18.3938 1.1062 17.6457 1.01074 16.7041L1 16.5V12.6787L0.869141 12.5947L1 12.3906V3.5C1 2.39543 1.89543 1.5 3 1.5H17ZM7.05469 9.01074C6.56123 8.2485 5.44533 8.25001 4.9541 9.01367L2.5 12.8311V16.5C2.5 16.7761 2.72386 17 3 17H17C17.2761 17 17.5 16.7761 17.5 16.5V15.3516L16.1406 13.3135C15.7217 12.6853 14.8456 12.5692 14.2773 13.0664L11.9941 15.0645L11.3418 15.6357L10.8701 14.9072L7.05469 9.01074ZM3 3C2.72386 3 2.5 3.22386 2.5 3.5V10.0576L3.69238 8.20312C4.77297 6.52221 7.22888 6.51858 8.31445 8.19629L11.6582 13.3643L13.29 11.9375C14.5402 10.8436 16.4671 11.0993 17.3887 12.4814L17.5 12.6475V3.5C17.5 3.22386 17.2761 3 17 3H3Z"/>
                      <circle fill="var(--mainColor)" cx="13.5" cy="7.15747" r="2.5"/>
                    </svg>
                  </div>
                  <div data-any="vw360" data-exporttype-name data-en-text="Image(Pixel)">ÊôÆÈÄöÂõæÁâá</div>         
                </div>
                <div class="fl0 df-lc" data-radio data-radio-data="2" data-radio-main="false">
                  <div data-exporttype-chk>
                    <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path fill="var(--mainColor)" d="M17 1.5C18.1046 1.5 19 2.39543 19 3.5V16.5C19 17.5357 18.2128 18.387 17.2041 18.4893L17 18.5H3L2.7959 18.4893C1.85435 18.3938 1.1062 17.6457 1.01074 16.7041L1 16.5V3.5C1 2.39543 1.89543 1.5 3 1.5H17ZM3 3C2.72386 3 2.5 3.22386 2.5 3.5V16.5C2.5 16.7761 2.72386 17 3 17H17C17.2761 17 17.5 16.7761 17.5 16.5V3.5C17.5 3.22386 17.2761 3 17 3H3ZM13.0537 10.7266L14.3027 6.85742H15.9492L13.2695 14.1279C13.1374 14.4763 12.993 14.7404 12.8008 14.9326C12.4403 15.2931 11.9718 15.4131 11.4551 15.4131H10.8418V14.0078H11.2031C11.6474 14.0077 11.8272 13.8989 11.9834 13.4424L12.248 12.6738L10.1094 6.85742H11.7559L13.0537 10.7266ZM10.0186 8.04688L7.20605 11.7119H10.0186V13.1182H5.24707V11.9287L8.02344 8.2627H5.40332V6.85742H10.0186V8.04688Z"/>
                    </svg>  
                  </div>
                  <div data-any="vw360" data-exporttype-name data-en-text=".zy(Plugin)">Á≥ªÂàóÂÖºÂÆπÊ†ºÂºè</div>         
                </div>
                <div class="fl0 df-lc" data-radio data-radio-data="3" data-radio-main="false">
                  <div data-exporttype-chk>
                    <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path fill="var(--mainColor)" d="M17 1.5C18.1046 1.5 19 2.39543 19 3.5V16.5C19 17.5357 18.2128 18.387 17.2041 18.4893L17 18.5H3L2.7959 18.4893C1.85435 18.3938 1.1062 17.6457 1.01074 16.7041L1 16.5V3.5C1 2.39543 1.89543 1.5 3 1.5H17ZM3 3C2.72386 3 2.5 3.22386 2.5 3.5V16.5C2.5 16.7761 2.72386 17 3 17H17C17.2761 17 17.5 16.7761 17.5 16.5V3.5C17.5 3.22386 17.2761 3 17 3H3Z"/>
                      <path fill="var(--mainColor)" d="M16.1181 13.5933C16.685 13.7505 16.7002 14.5498 16.1396 14.728L10.2509 16.5972C10.1359 16.6336 10.0117 16.6339 9.89641 16.5981L3.87395 14.729C3.30848 14.5533 3.32303 13.7472 3.89446 13.5923L4.98137 13.2983L10.0741 14.8784L15.0507 13.2983L16.1181 13.5933ZM16.1181 10.9487C16.6851 11.1059 16.7003 11.9043 16.1396 12.0825L10.2519 13.9526C10.1368 13.9892 10.0127 13.9893 9.89739 13.9536L3.87395 12.0835C3.30864 11.9078 3.32321 11.1028 3.89446 10.9478L7.15813 10.064V12.0522H12.6259V9.98291L16.1181 10.9487Z"/>
                      <path fill="var(--mainColor)" d="M13.5 4.33447L13.4999 7.14766H12.528L12.4413 6.23008H10.6935L10.683 9.46251L11.6259 9.61635V11.0522H8.15778V9.61635L9.22159 9.46251L9.23214 6.23008H7.55867L7.47767 7.14766H6.5L6.50008 4.33447H13.5Z"/>
                    </svg>                          
                  </div>
                  <div data-any="vw360" data-exporttype-name data-en-text="Rich Text">Â§çÂêàÊñáÊú¨ÂÜÖÂÆπ</div>         
                </div>
              </div>
            </div>
          </div>
          <div class="w100 df-cc gap2" style="margin: 8px 0 4px 0;">
            <div class="w100 df-cc" data-btn="skill-main" data-selects-must style="border-radius: 20px;" data-en-text="Up Default">‰∏ä‰º† (ÈªòËÆ§)</div>    
            <div class="w100 df-cc" data-btn="skill-main" data-selects-must style="border-radius: 20px;" data-en-text="Up Export-set">‰∏ä‰º† (ÂØºÂá∫ËÆæÁΩÆ)</div>
          </div>
          <!--Ê≠•È™§2-->
          <div class="w100 df-lc op6"  style="padding:10px 0 4px 0; vertical-align: baseline;"> 
            <span>‚ñº&nbsp;</span>
            <span data-en-text="Set rendering list" >ËÆæÁΩÆÊ∏≤ÊüìÈòüÂàó</span>
            &nbsp;&nbsp;
            <span data-any="vw300" data-en-text="name/type/size..." class="op6"> ÁõÆÊ†áÊ†ºÂºèÂíåÊñá‰ª∂Â§ßÂ∞èÁ≠â</span>
          </div>
          <div class="df-cc fl0" style="width: 120px; height: 12px; border-radius: 8px 8px 0 0;">
            <input id="export-more" checked type="checkbox" 
            onchange="showNext(this,'data-exportset-more','flex');
            if(this.checked){
              exportTagsBox.setAttribute('data-export-pickall','true');
            }else{
              exportTagsBox.setAttribute('data-export-pickall','false');
            }">
            <label for="export-more" class="wh100 df-cc show-next pos-r">
            </label>
          </div>
          <div data-exportset-more class="w100">
            <div class="w100 df-sc">
              <div class="df-lc gap8">
                <div class="df-lc gap2" data-export-delete data-btn="text">
                  <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path stroke="var(--mainColor)" d="M2 4.27539H12" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                    <path stroke="var(--mainColor)" d="M10 2.5V1.5H4V2.5" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                    <path stroke="var(--mainColor)" d="M11 4.27539L9.85714 12.2754H4.14286L3 4.27539" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                    <path stroke="var(--mainColor)" d="M6 6.27539V10.2754" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                    <path stroke="var(--mainColor)" d="M8 6.27539V10.2754" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>  
                  <div data-en-text="Delete">Âà†Èô§</div>                
                </div>
                <div class="df-lc gap2" data-export-reup data-btn="text">
                  <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path stroke="var(--mainColor)" d="M3.62775 3.99177C5.29058 1.78712 8.42578 1.34789 10.6304 3.01071C12.8351 4.67353 13.2743 7.80874 11.6115 10.0134C9.94867 12.218 6.81346 12.6573 4.60881 10.9945C3.34699 10.0427 2.66348 8.60869 2.62141 7.14286" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                    <path stroke="var(--mainColor)" d="M2.99911 2.18428L3.20218 4.65075L5.66323 4.49707" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>                     
                  <div data-en-text="Re-Upload">ÈáçÊñ∞‰∏ä‰º†</div>                
                </div>
              </div>
              <div class="df-lc gap4">
                <div data-en-text="All">ÂÖ®ÈÄâ</div>
                <input id="exportset-pickall" type="checkbox"/>
                <label for="exportset-pickall gap4" class="check" style="width: 16px; height: 16px;">
                  <btn-check-tick></btn-check-tick>
                </label>
              </div>
            </div>
          </div>
          
          <div data-export-tags-box="image" class="wh100 upload-set pos-r">
            <div class="wh100 ovy noscrollbar">
              <div data-export-tags="image" data-export-pickall="false" class="w100 df-ffc">
                <!--Âä®ÊÄÅÂ°´ÂÖÖ-->
              </div>
              <div data-export-tags="zy" data-export-pickall="false" class="wh100 df-ffc">
                <!--Âä®ÊÄÅÂ°´ÂÖÖ-->
                <div class="df-cc wh100" data-en-text="Coming soon~">Êï¨ËØ∑ÊúüÂæÖ~</div>
              </div>
              <div data-export-tags="rich" data-export-pickall="false" class="wh100 df-ffc">
                <!--Âä®ÊÄÅÂ°´ÂÖÖ-->
                <div class="df-cc wh100" data-en-text="Coming soon~">Êï¨ËØ∑ÊúüÂæÖ~</div>
              </div>
            </div>
            <!--Ê∏ÖÁ©∫-->
            <div data-export-tags-delete class="pos-a" style="right: 4px; top:4px; width: 12px; height: 12px;">
              <btn-close></btn-close>
            </div>
          </div>
        </div>
        <div data-export-any data-btn="main" class="df-cc" data-en-text="EXPORT">ÂØºÂá∫</div>
      </div>
      <div data-page-name="ÁºñËæë" data-page-name-en="editor" data-page-main="false" data-page-tabclass="tab-top" class="df-ffc df-cc wh100">
        <div class="wh100 df-ffc ovh bsb pad10" style="height: calc(100% - 40px); max-width: 560px; align-items: center; padding-top:0;">
          <!--Ê≠•È™§1-->
          <div class="w100 df-lc op6"  style="padding:4px 0 10px 0; vertical-align: baseline;"> 
            <span>‚ñº&nbsp;</span>
            <span data-en-text="Upload a node" >ÈÄâ‰∏≠ÂÜÖÂÆπÂπ∂‰∏ä‰º†</span>
            &nbsp;&nbsp;
            <span data-any="vw300" data-en-text="and don't alter it before apply" class="op6"> Â∫îÁî®ÂâçËØ∑Âãø‰øÆÊîπÂéüÂõæÂ±Ç</span>
            <div data-any="vw300" data-help="editor" class="fl0 df-cc">?</div>
          </div>
          <div class="w100 df-cc gap2">
            <div class="w100 df-cc" data-btn="skill-main" data-selects-must style="border-radius: 20px;" data-en-text="Up Editable">‰∏ä‰º†(ÂèØÁºñËæë)</div>    
            <div class="w100 df-cc" data-btn="skill-main" data-selects-must style="border-radius: 20px;" data-en-text="Up Pixel">‰∏ä‰º†(Ê†ÖÊ†ºÂåñ)</div>
          </div>
          <div data-editor-mix class="df-ffc wh100 pos-r ovy noscrollbar">
            <div data-editor-viewBox data-isfull="false" data-scroll class="ovy ovx noscrollbar df-lc wh100 tex-pixelbg"></div>
            <div data-editor-setbox class="w100 df-ffc">
              <div class="w100 df-lc">
                <div data-editor-setlist-title class="df-sc pos-r">
                  <div data-en-text="Filter" class="op6">Ë∞ÉÊï¥</div>
                  <div data-btn="icon" data-editor-addset>
                    <svg width="100%" height="100%" viewBox="0 0 20 20">
                      <rect fill="var(--mainColor)" x="0" y="9" width="20" height="2"></rect>
                      <rect fill="var(--mainColor)" x="9" y="0" width="2" height="20"></rect>
                    </svg>
                  </div>
                </div>
                <div class="w100 df-sc">
                  <div class="df-lc gap4" style="padding-left: 4px;">
                    <input type="file" id="edito-upset" accept=".json" style="display: none;">
                    <label for="edito-upset" data-tips="auto" data-tips-x="center" data-tips-y="top"
                    style="--tips-text:'ÂØºÂÖ•'; --tips-text-en:'Import';">
                     <div data-btn="icon" data-editor-upset>
                      <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-opacity="0.6" fill="var(--mainColor)" d="M4 15H16V13H19V19H1V13H4V15ZM8 3.04688C12.1429 3.43349 14 6.24465 14 9.43945V13L13.8936 12.792C12.5735 10.2138 11.4251 8.2507 8 7.93945V12L2 6L8 0V3.04688Z"/>
                      </svg> 
                     </div>
                    </label>
                    <input type="checkbox" id="editor-inputset" onchange="showNext(this,'data-editor-setcode','flex');showNext(this,'data-editor-setvalue','flex',true)">
                    <label for="editor-inputset" data-tips="auto" data-tips-x="center" data-tips-y="top"
                    style="--tips-text:'‰ª£Á†Å'; --tips-text-en:'Code';">
                      <div data-btn="icon" data-editor-inputset>
                        <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path fill-opacity="0.6" fill="var(--mainColor)" d="M19 19H1V15H19V19ZM9.78516 13.6963H6.78027L10.2148 0.759766H13.2197L9.78516 13.6963ZM3.47754 7.64453L6.3252 12.2285H2.78027L0 7.64453L2.78027 2.22852H6L3.47754 7.64453ZM20 7.64453L17.2197 12.2285H13.6748L16.5225 7.64453L14 2.22852H17.2197L20 7.64453Z"/>
                        </svg>
                      </div>
                    </label>
                    <div data-tips="auto" data-tips-x="center" data-tips-y="top"
                    style="--tips-text:'ÂØºÂá∫'; --tips-text-en:'Export';">
                      <div data-btn="icon" data-editor-downset>
                        <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path fill-opacity="0.6" fill="var(--mainColor)" d="M4 15H16V13H19V19H1V13H4V15ZM12 8H16L10 14L4 8H8V1H12V8Z"/>
                        </svg>  
                      </div>
                    </div>
                  </div>
                  <div data-en-text="Value" class="op6" >Â±ûÊÄß</div>
                </div>
              </div>
              <div class="wh100 df-lc">
                <div data-editor-setlist class="h100 df-ffc">
                  <div class="df-cc wh100" data-en-text="Coming soon~">Êï¨ËØ∑ÊúüÂæÖ~</div>
                </div>
                <div data-editor-setvalue class="wh100 df-ffc">
                  <div class="df-cc wh100" data-en-text="Coming soon~">Êï¨ËØ∑ÊúüÂæÖ~</div>
                </div>
                <div data-editor-setcode class="wh100 ovx scrollbar pos-r">
                  <textarea class="wh100" data-textarea-wrap="false" spellcheck="false" id="inputset-textarea" data-textarea="eg" ></textarea>
                    <!--Ê∏ÖÁ©∫-->
                    <div class="pos-a" data-close="clear" style="right: 4px; top:8px; width: 12px; height: 12px;">
                      <btn-close></btn-close>
                    </div>
                </div>
              </div>
            </div>
            <div data-editor-side class="pos-a df-ffc">
              <input type="checkbox" id="fulleditor">
              <label for="fulleditor" data-btn  class="df-cc">
                <svg width="80%" height="80%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill="var(--mainColor)" d="M10.8219 8.1537L16.2146 2.76098L12.6399 2.76162C12.2562 2.76162 11.9447 2.45006 11.9447 2.06643C11.9447 1.68279 12.2562 1.37123 12.6399 1.37123L17.8915 1.37187C18.2752 1.37187 18.5861 1.68279 18.5861 2.06643L18.5867 7.31806C18.5867 7.7017 18.2752 8.01326 17.8915 8.01326C17.5079 8.01326 17.1963 7.7017 17.1963 7.31806L17.197 3.74334L11.8042 9.13605C11.533 9.40732 11.0932 9.40732 10.8219 9.13605C10.5506 8.86478 10.5506 8.42497 10.8219 8.1537Z"></path>
                  <path fill="var(--mainColor)" d="M11.796 10.8138L17.1887 16.2066L17.1881 12.6318C17.1881 12.2482 17.4996 11.9366 17.8833 11.9366C18.2669 11.9366 18.5785 12.2482 18.5785 12.6318L18.5778 17.8835C18.5778 18.2671 18.2669 18.578 17.8833 18.578L12.6316 18.5787C12.248 18.5787 11.9364 18.2671 11.9364 17.8835C11.9364 17.4998 12.248 17.1883 12.6316 17.1883L16.2064 17.1889L10.8137 11.7962C10.5424 11.5249 10.5424 11.0851 10.8137 10.8138C11.0849 10.5426 11.5247 10.5426 11.796 10.8138Z"></path>
                  <path fill="var(--mainColor)" d="M9.13636 11.796L3.74364 17.1887L7.31837 17.1881C7.702 17.1881 8.01356 17.4996 8.01356 17.8833C8.01356 18.2669 7.702 18.5785 7.31837 18.5785L2.06673 18.5778C1.6831 18.5778 1.37218 18.2669 1.37218 17.8833L1.37154 12.6316C1.37154 12.248 1.6831 11.9364 2.06673 11.9364C2.45037 11.9364 2.76193 12.248 2.76193 12.6316L2.76129 16.2064L8.15401 10.8137C8.42527 10.5424 8.86509 10.5424 9.13636 10.8137C9.40763 11.0849 9.40763 11.5247 9.13636 11.796Z"></path>
                  <path fill="var(--mainColor)" d="M8.162 9.13587L2.76928 3.74315L2.76992 7.31788C2.76992 7.70152 2.45836 8.01308 2.07473 8.01308C1.69109 8.01308 1.37953 7.70152 1.37953 7.31788L1.38017 2.06624C1.38017 1.68261 1.69109 1.37169 2.07473 1.37169L7.32636 1.37105C7.71 1.37105 8.02156 1.68261 8.02156 2.06625C8.02156 2.44988 7.71 2.76144 7.32636 2.76144L3.75164 2.7608L9.14435 8.15352C9.41562 8.42479 9.41562 8.8646 9.14435 9.13587C8.87308 9.40714 8.43327 9.40714 8.162 9.13587Z"></path>
                </svg>          
              </label>
              <div data-editor-clear data-btn class="df-cc">
                <svg width="80%" height="80%" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path stroke="var(--mainColor)" d="M2 4.27539H12" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"></path>
                  <path stroke="var(--mainColor)" d="M10 2.5V1.5H4V2.5" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"></path>
                  <path stroke="var(--mainColor)" d="M11 4.27539L9.85714 12.2754H4.14286L3 4.27539" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"></path>
                  <path stroke="var(--mainColor)" d="M6 6.27539V10.2754" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"></path>
                  <path stroke="var(--mainColor)" d="M8 6.27539V10.2754" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
              </div>
              <input id="data-editor-setbg" type="checkbox" onchange="showNext(this,'data-color-mix','flex')">
              <label for="data-editor-setbg" data-editor-bg class="df-cc">
                <svg  width="80%" height="80%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                  <path fill="var(--mainColor)" d="M810.666667 85.333333H213.333333C140.8 85.333333 85.333333 140.8 85.333333 213.333333v597.333334c0 72.533333 55.466667 128 128 128h597.333334c72.533333 0 128-55.466667 128-128V213.333333c0-72.533333-55.466667-128-128-128z m-281.6 85.333334L170.666667 499.2V401.066667L401.066667 170.666667h128zM170.666667 755.2v-136.533333L657.066667 170.666667h136.533333L170.666667 755.2zM213.333333 170.666667h68.266667L170.666667 281.6V213.333333c0-25.6 17.066667-42.666667 42.666666-42.666666z m-17.066666 678.4L853.333333 230.4v136.533333L366.933333 853.333333H213.333333c-8.533333 0-12.8 0-17.066666-4.266666zM810.666667 853.333333h-324.266667l366.933333-366.933333V810.666667c0 25.6-17.066667 42.666667-42.666666 42.666666z">
                  </path>
                </svg>
              </label>
              <div data-color-mix class="df-rc" style="display: none; width: 20px; height: 20px;">
                <div data-color 
                data-color-hex="#888888" data-color-rgb="rgb(136,136,136)"
                data-color-hsl="hsl(0,0%,53%)" data-color-hsv="hsv(0,0%,53%)"
                data-colorcard-x="right" data-colorcard-y="bottom"
                style="--colorcard-top: calc(100% - 1px); --colorcard-left:calc(var(--colorpick-w)*-1 + 76px);"
                class="df-rc">
                  <input id="colorvalue-1" class="fl1" type="text" data-input="hex" value="#888888" >
                  <div data-input="colortype" data-colortype-mode="hex" class="colortype"></div>
                  <div data-editor-bg data-input="colorpick" data-btn class="df-cc">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1" width="100%" height="100%" viewBox="0 0 20 20">
                      <rect x="3" y="3" width="14" height="14" rx="2" fill="var(--input-color,#888)"></rect>
                    </svg>
                  </div>
                  <card-colorpick></card-colorpick>
                </div>
              </div>
              
            </div>
          </div>
        </div>
        <div data-btn="main" class="df-cc" data-en-text="APPLY">Â∫îÁî®</div>
      </div>
      <div data-page-name="ÂèòÈáè" data-page-name-en="variable" data-page-main="false" data-page-tabclass="tab-top" class="df-ffc df-cc wh100">
        <div class="wh100 df-ffc ovy noscrollbar bsb" style="height: calc(100% - 20px); max-width: 560px; align-items: center; padding:0 10px;">
          <!--Ê≠•È™§1-->
          <div class="w100 df-lc op6"  style="padding:4px 0 10px 0; vertical-align: baseline;"> 
            <span>‚ñº&nbsp;</span>
            <span data-en-text="Build local sheet" >Âª∫Á´ãÊú¨Âú∞ÂèòÈáèË°®</span>
            &nbsp;&nbsp;
            <span data-any="vw300" data-en-text="editor and apply manually" class="op6"> ÊâãÂä®ÁºñËæëÂíåÊõ¥Êñ∞</span>
            <div data-any="vw300" data-help="variable" class="fl0 df-cc">?</div>
          </div>
          <div data-variable-type class="w100 df-lc">
            <div class="fl1 df-lc upload-set gap6">
              <div class="df-lc gap4"
              data-tips="auto" data-tips-x="left" data-tips-y="top"
              style="--tips-text:'Êï∞ÊçÆÁ±ªÂûã'; --tips-text-en:'Sheet type';">
                <svg width="22" height="22" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill="var(--mainColor)" fill-rule="evenodd" clip-rule="evenodd" d="M7.89746 2.57129C7.3268 3.58479 7 4.75402 7 6C7 6.54045 7.06376 7.06601 7.17969 7.57129H3V12.0713H9.5V11.3604C9.81125 11.6219 10.146 11.8557 10.5 12.0605V12.0713H10.5176C11.5434 12.661 12.7318 13 14 13C15.4877 13 16.866 12.5345 18 11.7432V16.5713L17.9893 16.7754C17.887 17.7841 17.0357 18.5713 16 18.5713H4C2.96435 18.5713 2.113 17.7841 2.01074 16.7754L2 16.5713V4.57129C2.00016 3.46686 2.89553 2.57129 4 2.57129H7.89746ZM3 16.5713C3 17.1236 3.44772 17.5713 4 17.5713H9.5V13.0713H3V16.5713ZM10.5 17.5713H16C16.5523 17.5713 17 17.1236 17 16.5713V13.0713H10.5V17.5713Z"/>
                  <path fill="var(--mainColor)" fill-rule="evenodd" clip-rule="evenodd" d="M14 0C17.3137 0 20 2.68629 20 6C20 9.31371 17.3137 12 14 12C10.6863 12 8 9.31371 8 6C8 2.68629 10.6863 0 14 0ZM13.2246 8.71582V10.3145H14.8828V8.71582H13.2246ZM13.9941 1.68555C12.6002 1.68555 11.4709 2.59895 11.4707 4.08887H13.0322C13.0324 3.53626 13.3574 3.0918 13.9941 3.0918C14.5948 3.09191 14.9677 3.51247 14.9678 4.07715C14.9678 4.34154 14.8114 4.63044 14.6191 4.88281L13.7295 6.02441C13.4171 6.43292 13.2725 6.75774 13.2725 7.27441V7.63477H14.835V7.38184C14.8351 7.17761 14.9317 6.92569 15.0518 6.76953L15.9404 5.5918C16.2769 5.14715 16.5293 4.68975 16.5293 4.08887C16.5291 2.56299 15.3519 1.68565 13.9941 1.68555Z"/>
                </svg>
                ‚ñ∂                
              </div>
              <div class="df-lc data-scroll ovx noscrollbar gap6" data-scroll data-radio-value="style">
                <div class="fl0 df-lc" data-radio data-radio-data="style" data-radio-main="true">
                  <div data-variable-chk>
                    <btn-style></btn-style>
                  </div>
                  <div data-any="vw240" data-variable-chk-name data-en-text="Style">Ê†∑Âºè</div>   
                  <div data-any="vw300" data-en-text="&nbsp;Sheet">Ë°®ÁÆ°ÁêÜ</div>        
                </div>
                <div class="fl0 df-lc" data-radio data-radio-data="variable" data-radio-main="false">
                  <div data-variable-chk>
                    <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path fill="var(--mainColor)" d="M18.6963 14.9325L18.9217 15.4821C18.7361 15.7539 18.464 16.0317 18.1055 16.3154C17.7531 16.599 17.3748 16.8384 16.9705 17.0334C16.5722 17.2284 16.2061 17.3259 15.8721 17.3259C15.7203 17.3259 15.5913 17.2934 15.4853 17.2284C15.3778 17.1693 15.2906 17.0629 15.2236 16.9093L13.6839 13.4787C13.4954 13.6856 13.2576 13.9338 12.9706 14.2233C12.6836 14.5129 12.4167 14.8202 12.1699 15.1452C11.9306 15.4644 11.774 15.7805 11.7 16.0938C11.6539 16.2888 11.6515 16.4661 11.6928 16.6256C11.3365 16.797 11.0013 16.9566 10.6871 17.1043C10.3729 17.2521 10.0731 17.3259 9.78766 17.3259C9.41725 17.3259 9.27601 17.1398 9.36395 16.7675C9.43932 16.4483 9.67742 16.0701 10.0783 15.6328C10.4852 15.1955 10.9787 14.7257 11.5588 14.2233C12.145 13.721 12.7373 13.2187 13.3357 12.7164L11.9546 9.57831L10.4188 10.4116L10.1955 9.85311C10.2692 9.74673 10.4283 9.58717 10.6729 9.37442C10.9235 9.16167 11.212 8.94301 11.5383 8.71845C11.872 8.48797 12.2035 8.29295 12.5327 8.13339C12.8679 7.97382 13.157 7.89404 13.3998 7.89404C13.6002 7.89404 13.7416 7.97678 13.824 8.14225C14.1141 8.73913 14.3779 9.30646 14.6152 9.84424C14.8539 10.3761 15.0823 10.8873 15.3004 11.3778C15.8049 10.8873 16.1696 10.5002 16.3945 10.2166C16.6268 9.92698 16.7787 9.70832 16.85 9.56058C16.9227 9.40693 16.9682 9.29169 16.9863 9.21486C17.0212 9.06712 17.03 8.94006 17.0126 8.83369C16.9952 8.72731 16.9804 8.63571 16.9682 8.55888C17.451 8.34023 17.8182 8.18657 18.0699 8.09793C18.329 8.00337 18.5153 7.94723 18.6288 7.9295C18.7498 7.90586 18.8406 7.89404 18.9014 7.89404C19.2475 7.89404 19.3738 8.09202 19.2803 8.48797C19.2035 8.813 18.9735 9.18236 18.5904 9.59604C18.2073 10.0097 17.7509 10.4382 17.2212 10.8814C16.6928 11.3187 16.1642 11.7442 15.6354 12.1579L17.1613 15.8012L18.6963 14.9325Z"/>
                      <path fill="var(--mainColor)" d="M9.21571 6.44182L7.11722 15.3266C6.86854 16.3795 6.4285 17.245 5.79708 17.9233C5.17077 18.608 4.45035 19.115 3.63583 19.4444C2.83972 19.7664 2.1347 19.7328 1.37649 19.6673C1.07065 19.6415 0.804865 19.5865 0.579128 19.5026C0.346753 19.4186 0.250398 19.2926 0.290065 19.1247C0.299218 19.086 0.326223 19.0278 0.371078 18.9503L1.37599 17.4776C1.82495 17.6843 2.26956 17.8813 2.70982 18.0686C3.73148 18.5033 4.04851 18.19 4.44744 16.809C4.59146 16.3117 4.71992 15.824 4.83282 15.346L6.91597 6.44182H4.54654L4.64952 6.00581C4.71818 5.71514 4.82776 5.51813 4.97827 5.41478C5.13695 5.30497 5.35898 5.25007 5.64438 5.25007H7.19745L7.34848 4.6106C7.59258 3.5771 8.00177 2.74385 8.57605 2.11084C9.15034 1.47782 9.81361 1.01598 10.5659 0.725311C11.3248 0.434641 12.0925 0.289307 12.869 0.289307C12.9951 0.289307 13.1728 0.295766 13.4021 0.308685C13.638 0.321603 13.8726 0.3539 14.1059 0.405575C14.3475 0.45079 14.5423 0.525072 14.6905 0.628421C14.8401 0.725311 14.8952 0.857727 14.8555 1.02567C14.8387 1.09672 14.7842 1.18715 14.6919 1.29696L13.6485 2.59529C13.2133 2.33045 12.8066 2.085 12.4286 1.85892C12.0506 1.63285 11.6924 1.51981 11.3539 1.51981C10.9092 1.51981 10.5834 1.73297 10.3765 2.15928C10.1778 2.57914 9.98767 3.1734 9.80612 3.94206L9.49719 5.25007H12.3544L12.256 5.6667C12.1889 5.95091 12.0752 6.15115 11.915 6.26741C11.7615 6.38368 11.542 6.44182 11.2566 6.44182H9.21571Z"/>
                    </svg>                  
                  </div>
                  <div data-any="vw240" data-variable-chk-name data-en-text="Variable">ÂèòÈáè</div>
                  <div data-any="vw300" data-en-text="&nbsp;Sheet">Ë°®ÁÆ°ÁêÜ</div>          
                </div>
              </div>
            </div>
            <div class="upload-set">
              <div data-variable-relayout
              data-tips="auto" data-tips-x="right" data-tips-y="top"
              style="--tips-text:'Êï¥ÁêÜÁõ∏ÂÖ≥ÁªÑ‰ª∂ÂíåË°®Ê†º'; --tips-text-en:'Organize related elements';">
                <svg data-btn="icon" width="22" height="22" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect fill="var(--mainColor)" x="3" y="3" width="3" height="3"></rect>
                  <rect fill="var(--mainColor)" x="9" y="3" width="3" height="3"></rect>
                  <rect fill="var(--mainColor)" x="15" y="3" width="3" height="3"></rect>
                  <rect fill="var(--mainColor)" x="3" y="9" width="3" height="3"></rect>
                  <rect fill="var(--mainColor)" x="9" y="9" width="3" height="3"></rect>
                  <rect fill="var(--mainColor)" x="15" y="9" width="3" height="3"></rect>
                  <rect fill="var(--mainColor)" x="3" y="15" width="3" height="3"></rect>
                  <rect fill="var(--mainColor)" x="9" y="15" width="3" height="3"></rect>
                  <rect fill="var(--mainColor)" x="15" y="15" width="3" height="3"></rect>
                </svg>
              </div>
            </div>
          </div>
          <!--ÂèòÈáèÁªÑÁÆ°ÁêÜ-->
          <div data-variable-varmix class="wh100 df-ffc" style="display: none;">
            <div data-variable-varinfo-box class="w100 fl0 bod-d df-ffc pos-r">
              <div data-variable-varinfo data-variable-hasvar="false" class="df-lc pos-r">
                <div data-variable-hasnot class="df-lc">
                  <div data-en-text="Find not variable-set">Êú™ËØªÂèñÂà∞ÂèòÈáèÈõÜ</div>
                  <div data-variable-addvar data-btn="main2" data-en-text="Sample">Á§∫‰æã</div>
                </div>
                <div data-variable-has class="df-lc">
                  <div data-variable-style data-en-text="Had variable-set" >Â∑≤Ê£ÄÊµãÂà∞ÂèòÈáè</div>
                  <div data-variable-has-icon>
                    <svg width="100%" height="100%" viewBox="0 0 14 14">
                      <path stroke="var(--mainColor)" d="M3.91211 6.92286L6.72632 9.66309L10.5033 3.49146" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" fill="none"></path>
                    </svg>
                  </div>
                </div>
              </div>
              <div data-variable-varinfo data-variable-hasvarsheet="false" class="df-lc pos-r">
                <div data-variable-hasnot class="df-lc">
                  <div data-en-text="Find not local sheet">Êú™ËØªÂèñÂà∞ÂèòÈáèË°®</div>
                  <div data-variable-addvarsheet data-btn="main2" data-en-text="New">Êñ∞Âª∫</div>
                </div>
                <div data-variable-has class="df-lc">
                  <div data-variable-style data-en-text="Had local-variable sheet" >Â∑≤Ê£ÄÊµãÂà∞ÂèòÈáèË°®</div>
                  <div data-variable-has-icon>
                    <svg width="100%" height="100%" viewBox="0 0 14 14">
                      <path stroke="var(--mainColor)" d="M3.91211 6.92286L6.72632 9.66309L10.5033 3.49146" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" fill="none"></path>
                    </svg>
                  </div>
                </div>
              </div>

              <div data-variable-refresh="variable" class="df-cc fl0"
              data-tips="auto" data-tips-x="right" data-tips-y="top" style="position: absolute; --tips-text: 'Âà∑Êñ∞'; --tips-text-en: 'Refresh';">
                <div data-btn>
                  <svg width="100%" height="100%" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path stroke="var(--mainColor)" d="M3.62775 3.99177C5.29058 1.78712 8.42578 1.34789 10.6304 3.01071C12.8351 4.67353 13.2743 7.80874 11.6115 10.0134C9.94867 12.218 6.81346 12.6573 4.60881 10.9945C3.34699 10.0427 2.66348 8.60869 2.62141 7.14286" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"></path>
                    <path stroke="var(--mainColor)" d="M2.99911 2.18428L3.20218 4.65075L5.66323 4.49707" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"></path>
                  </svg>
                </div>
              </div>
            </div>
            <div class="w100 df-cc gap2 mar-b10">
              <div class="w100 df-cc" data-btn="skill-main" style="border-radius: 20px;" data-any data-en-text="Variable To Sheet">‰ªéÂèòÈáèÊõ¥Êñ∞Ë°®</div>    
              <div class="w100 df-cc" data-btn="skill-main" style="border-radius: 20px;" data-any data-en-text="Sheet To Variable">‰ªéË°®Êõ¥Êñ∞ÂèòÈáè</div>
            </div>
            <!--Ê≠•È™§2-->
            <div class="w100 df-lc op6"  style="padding:4px 0 10px 0; vertical-align: baseline;"> 
              <span>‚ñº&nbsp;</span>
              <span data-en-text="Manage variable group" >ÁÆ°ÁêÜÂèòÈáèÁªÑ</span>
              &nbsp;&nbsp;
              <span data-any="vw300" data-en-text="based on properties/tags map" class="op6"> Âü∫‰∫éÊ†áÁ≠æ/ÁªÑ‰ª∂Â±ûÊÄß</span>
            </div>
            <div data-variable-manage class="wh100 df-ffc ovh pos-r">
              <div data-manage-variables class="w100 df-sc">
                <div class="df-lc gap8">
                  <div data-variables-add data-btn="icon" data-selects-must>
                    <btn-getbyselect></btn-getbyselect> 
                    <div class="pos-a" style="top: 0; left: 18px;"
                    data-en-text="Traverse selection" >Êâ´ÊèèÊâÄÈÄâ</div>                                  
                  </div>
                </div>
                <div class="df-lc gap4">

                </div>
              </div>
              <div data-manage-variables-list class="wh100 df-ffc ovy noscrollbar">
                <div class="df-cc wh100" data-en-text="Coming soon~">Êï¨ËØ∑ÊúüÂæÖ~</div>
              </div>
              <!--Ê∏ÖÁ©∫-->
              <div data-variables-clear class="pos-a" style="right: 4px; top:28px; width: 12px; height: 12px;">
                <btn-close></btn-close>
              </div>
            </div>
          </div>
          <!--Ê†∑ÂºèÁªÑÁÆ°ÁêÜ-->
          <div data-variable-stylemix class="wh100 df-ffc">
            <div data-variable-styleinfo-box class="w100 fl0 bod-d df-ffc pos-r">
              <div data-variable-styleinfo data-variable-hasstyle="false" class="df-lc pos-r">
                <div data-variable-hasnot class="df-lc">
                  <div data-en-text="Find not style-set">Êú™ËØªÂèñÂà∞Ê†∑ÂºèÈõÜ</div>
                  <div data-variable-addstyle data-btn="main2" data-en-text="Sample">Á§∫‰æã</div>
                </div>
                <div data-variable-has class="df-lc">
                  <div data-variable-style data-en-text="Had style-set" >Â∑≤Ê£ÄÊµãÂà∞Ê†∑ÂºèÈõÜ</div>
                  <div data-variable-has-icon>
                    <svg width="100%" height="100%" viewBox="0 0 14 14">
                      <path stroke="var(--mainColor)" d="M3.91211 6.92286L6.72632 9.66309L10.5033 3.49146" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" fill="none"></path>
                    </svg>
                  </div>
                </div>
              </div>
              <div data-variable-styleinfo data-variable-hasstylesheet="false" class="df-lc pos-r">
                <div data-variable-hasnot class="df-lc">
                  <div data-en-text="Find not local sheet">Êú™ËØªÂèñÂà∞Ê†∑ÂºèË°®</div>
                  <div data-variable-addstylesheet data-btn="main2" data-en-text="New">Êñ∞Âª∫</div>
                </div>
                <div data-variable-has class="df-lc">
                  <div data-variable-sheet  data-en-text="Had local-style sheet">Â∑≤Ê£ÄÊµãÂà∞ÁÆ°ÁêÜË°®</div>
                  <div data-variable-has-icon>
                    <svg width="100%" height="100%" viewBox="0 0 14 14">
                      <path stroke="var(--mainColor)" d="M3.91211 6.92286L6.72632 9.66309L10.5033 3.49146" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" fill="none"></path>
                    </svg>
                  </div>
                </div>
              </div>
              <div data-variable-refresh="style" class="df-cc fl0"
              data-tips="auto" data-tips-x="right" data-tips-y="top" style="position: absolute; --tips-text: 'Âà∑Êñ∞'; --tips-text-en: 'Refresh';">
                <div data-btn>
                  <svg width="100%" height="100%" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path stroke="var(--mainColor)" d="M3.62775 3.99177C5.29058 1.78712 8.42578 1.34789 10.6304 3.01071C12.8351 4.67353 13.2743 7.80874 11.6115 10.0134C9.94867 12.218 6.81346 12.6573 4.60881 10.9945C3.34699 10.0427 2.66348 8.60869 2.62141 7.14286" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"></path>
                    <path stroke="var(--mainColor)" d="M2.99911 2.18428L3.20218 4.65075L5.66323 4.49707" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"></path>
                  </svg>
                </div>
              </div>
            </div>
            <div class="w100 df-cc gap2 mar-b10">
              <div class="w100 df-cc" data-btn="skill-main" style="border-radius: 20px;" data-any data-en-text="Style To Sheet">‰ªéÊ†∑ÂºèÊõ¥Êñ∞Ë°®</div>    
              <div class="w100 df-cc" data-btn="skill-main" style="border-radius: 20px;" data-any data-en-text="Sheet To Style">‰ªéË°®Êõ¥Êñ∞Ê†∑Âºè</div>
            </div>
            <!--Ê≠•È™§2-->
            <div class="w100 df-lc op6"  style="padding:4px 0 10px 0; vertical-align: baseline;"> 
              <span>‚ñº&nbsp;</span>
              <span data-en-text="Manage broken-link style" >ÁÆ°ÁêÜÊñ≠ÈìæÊ†∑Âºè</span>
              &nbsp;&nbsp;
              <span data-any="vw300" data-en-text="Reapply | Create | Override..." class="op6"> ÈáçÈìæ | Êñ∞Âª∫ | Ë¶ÜÁõñ</span>
            </div>
            <div data-variable-manage class="wh100 df-ffc ovh pos-r">
              <div data-manage-linkstyle class="w100 df-sc">
                <div class="df-lc gap8">
                  <div data-linkstyle-add data-btn="icon" data-selects-must>
                    <btn-getbyselect></btn-getbyselect> 
                    <div class="pos-a" style="top: 0; left: 18px;"
                    data-en-text="Traverse selection" >Êâ´ÊèèÊâÄÈÄâ</div>                                  
                  </div>
                </div>
                <div class="df-lc gap4">
                  <div data-linkstyle-all="reapply" data-tips="auto" data-tips-x="right" data-tips-y="bottom"
                  style="--tips-text: 'ÂÖ®ÈÉ®ÈáçÈìæ'; --tips-text-en: 'Relink all';">
                    <div data-btn="icon">
                      <svg width="100%" height="100%" viewBox="0 0 20 20">
                        <circle cx="10" cy="10" r="10" fill="var(--linstyle-1)"/>
                      </svg>
                    </div>
                  </div>
                  <div data-linkstyle-all="create" data-tips="auto" data-tips-x="right" data-tips-y="bottom"
                  style="--tips-text: 'ÂÖ®ÈÉ®ÂàõÂª∫'; --tips-text-en: 'Create all';">
                    <div data-btn="icon">
                      <svg width="100%" height="100%" viewBox="0 0 20 20">
                        <circle cx="10" cy="10" r="10" fill="var(--linstyle-2)"/>
                      </svg>
                    </div>
                  </div>
                  <div data-linkstyle-all="override" data-tips="auto" data-tips-x="right" data-tips-y="bottom"
                  style="--tips-text: 'ÂÖ®ÈÉ®Ë¶ÜÁõñ'; --tips-text-en: 'Override all';">
                    <div data-btn="icon">
                      <svg width="100%" height="100%" viewBox="0 0 20 20">
                        <circle cx="10" cy="10" r="10" fill="var(--linstyle-3)"/>
                      </svg>
                    </div>
                  </div>
                </div>
              </div>
              <div data-manage-linkstyle-list class="wh100 df-ffc ovy noscrollbar">

              </div>
              <!--Ê∏ÖÁ©∫-->
              <div data-linkstyle-clear class="pos-a" style="right: 4px; top:28px; width: 12px; height: 12px;">
                <btn-close></btn-close>
              </div>
            </div>
            <!--Ê≠•È™§3-->
            <div class="w100 df-lc op6"  style="padding:4px 0 10px 0; vertical-align: baseline;"> 
              <span>‚ñº&nbsp;</span>
              <span data-en-text="Manage thematic style" >ÁÆ°ÁêÜ‰∏ªÈ¢òÊÄßÊ†∑ÂºèÁªÑ</span>
              &nbsp;&nbsp;
              <span data-any="vw300" data-en-text="like variable group" class="op6"> Á±ª‰ººÂàáÊç¢ÂèòÈáèÁªÑ</span>
            </div>
            <div data-variable-manage class="wh100 df-ffc ovh pos-r">
              <div data-manage-selectstyle class="w100 df-sc">
                <div class="df-lc gap8">
                  <div data-selectstyle-add data-btn="icon" data-selects-must>
                    <btn-getbyselect></btn-getbyselect> 
                    <div class="pos-a" style="top: 0; left: 18px;"
                    data-en-text="Traverse selection" >Êâ´ÊèèÊâÄÈÄâ</div>                                  
                  </div>
                </div>
                <div class="df-lc gap4">

                </div>
              </div>
              <div data-manage-selectstyle-list class="wh100 df-ffc ovy noscrollbar">

              </div>
              <!--Ê∏ÖÁ©∫-->
              <div data-selectstyle-clear class="pos-a" style="right: 4px; top:28px; width: 12px; height: 12px;">
                <btn-close></btn-close>
              </div>
            </div>
          </div>
          
        </div>
      </div>
      <div data-page-name="Ë°®Âçï" data-page-name-en="sheet" data-page-main="false" data-page-tabclass="tab-top" class="df-ffc df-cc wh100">
        <div class="wh100 df-ffc ovy noscrollbar pad10 bsb" style="max-width: 560px; align-items: center; padding-bottom: 0;">
          <div class="wh100 df-ffc bsb">
            <!--Ê≠•È™§1-->
            <div class="w100 df-lc op6"  style="padding:4px 0 10px 0; vertical-align: baseline;"> 
              <span>‚ñº&nbsp;</span>
              <span data-en-text="Get a basic table" >ÂàõÂª∫Âü∫Á°ÄË°®Ê†ºÊ®°Êùø</span>
              &nbsp;&nbsp;
              <span data-any="vw300" data-en-text="and make it more diverse" class="op6">Âπ∂Ëøõ‰∏ÄÊ≠•ÂÆöÂà∂ÂåñËÆæËÆ°</span>
              <div data-any="vw300" data-help="sheet" class="fl0 df-cc">?</div>
            </div>
            <!--È¢ÑËÆæË°®Ê†ºÊ†∑Âºè-->
            <div data-tableset-thtd class="df-lc w100">
              <div class="df-lc gap4 mar-0a" style="max-width: 100%;">
                <div class="df-lc pos-r upload-set gap4" style="max-width: calc(100% - 44px); height: 40px;">
                  <input id="chk-tablestyle" checked type="checkbox" >
                  <label for="chk-tablestyle" data-tips="auto" class="fl0" data-tips-y="top" data-tips-x="left" style="--tips-w: 8ch;  width: 22px; height: 22px;
                  --tips-text:'ÊåâÈ¢ÑËÆæÊ†∑ÂºèÁîüÊàêÁªÑ‰ª∂/‰øÆÊîπË°®Ê†º';  --tips-text-en:'Create/change from the preset style';">
                    <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path fill="var(--mainColor)" d="M7.96875 7.57129H3V12.0713H6.61914L6.50391 13.0713H3V16.5713C3 17.1236 3.44772 17.5713 4 17.5713H9.5V15.4512L10.5 14.5693V17.5713H16C16.5523 17.5713 17 17.1236 17 16.5713V13.0713H12.1982L12.5205 12.7871L13.332 12.0713H17V7.57129H15.2656L17.5137 3.26758C17.8157 3.61783 17.9999 4.07254 18 4.57129V16.5713L17.9893 16.7754C17.887 17.7841 17.0357 18.5713 16 18.5713H4C2.96435 18.5713 2.113 17.7841 2.01074 16.7754L2 16.5713V4.57129C2.00016 3.46686 2.89553 2.57129 4 2.57129H10.583L7.96875 7.57129Z"/>
                      <path fill="var(--mainColor)" d="M11.8598 12.0372L8.12642 15.3311C7.78273 15.6343 7.24651 15.3537 7.29927 14.8985L7.87154 9.95317L11.8598 12.0372ZM12.7329 0.616255C12.9887 0.127036 13.5931 -0.0621097 14.0825 0.193403L16.269 1.33598C16.7583 1.59183 16.9475 2.19621 16.6919 2.68559L12.4702 10.7618L8.51216 8.69243L12.7329 0.616255Z"/>
                    </svg>                  
                  </label>
                  <div data-tablestyle-box class="df-lc gap4" style="overflow: auto;">
                    ‚ñ∂
                    <div class="noscrollbar" data-scroll>
                      <div data-tablestyle-set class="df-lc" data-radio-value="1">
                        <div class="fl0 df-lc" data-radio data-radio-data="1" data-radio-main="true">
                          <div data-tablestyle-chk>
                            <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path fill="var(--mainColor)" d="M18 16L17.9893 16.2041C17.887 17.2128 17.0357 18 16 18H4C2.96435 18 2.113 17.2128 2.01074 16.2041L2 16V4C2 2.89543 2.89543 2 4 2H16C17.1046 2 18 2.89543 18 4V16ZM3 14V16C3 16.5523 3.44772 17 4 17H16C16.5523 17 17 16.5523 17 16V14H3ZM3 10H17V7H3V10Z"/>
                            </svg>    
                          </div>
                          <div data-any="vw360" data-tablestyle-name data-en-text="Row Space">Ê®™Èó¥Èöî</div>         
                        </div>
                        <div class="fl0 df-lc" data-radio data-radio-data="2" data-radio-main="false">
                          <div data-tablestyle-chk>
                            <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path fill="var(--mainColor)" d="M16 2C17.1046 2 18 2.89543 18 4V16C18 17.1046 17.1046 18 16 18H4C3.86182 18 3.72697 17.9857 3.59668 17.959C3.46664 17.9324 3.34118 17.8933 3.22168 17.8428C2.50378 17.5392 2 16.8285 2 16V4C2 3.17153 2.50378 2.46081 3.22168 2.15723C3.34118 2.10669 3.46664 2.06765 3.59668 2.04102C3.72697 2.01433 3.86182 2 4 2H16ZM13.7832 17H16C16.5523 17 17 16.5523 17 16V4C17 3.44772 16.5523 3 16 3H13.7832V17ZM6.34766 17H9.43555V3H6.34766V17Z"/>
                            </svg>   
                          </div>
                          <div data-any="vw360" data-tablestyle-name data-en-text="Column Space">Á´ñÈó¥Èöî</div>         
                        </div>
                        <div class="fl0 df-lc" data-radio data-radio-data="3" data-radio-main="false">
                          <div data-tablestyle-chk>
                            <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path fill="var(--mainColor)" d="M18 16L17.9893 16.2041C17.887 17.2128 17.0357 18 16 18H4C2.96435 18 2.113 17.2128 2.01074 16.2041L2 16V4C2 2.89543 2.89543 2 4 2H16C17.1046 2 18 2.89543 18 4V16ZM3 16C3 16.5523 3.44772 17 4 17H16C16.5523 17 17 16.5523 17 16V7H3V16Z"/>
                            </svg>
                          </div>
                          <div data-any="vw360" data-tablestyle-name data-en-text="No strokes">Êó†ÊèèËæπ</div>         
                        </div>
                        <div class="fl0 df-lc" data-radio data-radio-data="4" data-radio-main="false">
                          <div data-tablestyle-chk>
                            <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path fill="var(--mainColor)" d="M16 2C17.1046 2 18 2.89543 18 4V16L17.9893 16.2041C17.887 17.2128 17.0357 18 16 18H4C2.96435 18 2.113 17.2128 2.01074 16.2041L2 16V4C2 2.89543 2.89543 2 4 2H16ZM3 12.5V16C3 16.5523 3.44772 17 4 17H16C16.5523 17 17 16.5523 17 16V12.5H3ZM3 11.5H17V7H3V11.5Z"/>
                            </svg> 
                          </div>
                          <div data-any="vw360" data-tablestyle-name data-en-text="Row strokes">‰ªÖÊ®™Á∫ø</div>         
                        </div>
                        <div class="fl0 df-lc" data-radio data-radio-data="5" data-radio-main="false">
                          <div data-tablestyle-chk>
                            <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path fill="var(--mainColor)" d="M16 2C17.1046 2 18 2.89543 18 4V16L17.9893 16.2041C17.887 17.2128 17.0357 18 16 18H4C2.96435 18 2.113 17.2128 2.01074 16.2041L2 16V4C2 2.89543 2.89543 2 4 2H16ZM10.5 17H16C16.5523 17 17 16.5523 17 16V7H10.5V17ZM3 16C3 16.5523 3.44772 17 4 17H9.5V7H3V16Z"/>
                            </svg> 
                          </div>
                          <div data-any="vw360" data-tablestyle-name data-en-text="Column strokes">‰ªÖÁ´ñÁ∫ø</div>         
                        </div>
                        <div class="fl0 df-lc" data-radio data-radio-data="6" data-radio-main="false">
                          <div data-tablestyle-chk>
                            <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path fill="var(--mainColor)" d="M16 2C17.1046 2 18 2.89543 18 4V16L17.9893 16.2041C17.887 17.2128 17.0357 18 16 18H4C2.96435 18 2.113 17.2128 2.01074 16.2041L2 16V4C2 2.89543 2.89543 2 4 2H16ZM10.5 17H16C16.5523 17 17 16.5523 17 16V12.5H10.5V17ZM3 16C3 16.5523 3.44772 17 4 17H9.5V12.5H3V16ZM10.5 11.5H17V7H10.5V11.5ZM3 11.5H9.5V7H3V11.5Z"/>
                            </svg>   
                          </div>
                          <div data-any="vw360" data-tablestyle-name data-en-text="All strokes">ÂÖ®ÊèèËæπ</div>         
                        </div>
                        <div class="fl0 df-lc" data-radio data-radio-data="7" data-radio-main="false">
                          <div data-tablestyle-chk>
                            <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path fill="var(--mainColor)" d="M16 2C17.1046 2 18 2.89543 18 4V16C18 17.1046 17.1046 18 16 18H4C2.89543 18 2 17.1046 2 16V4C2 2.89543 2.89543 2 4 2H16ZM4 3C3.44772 3 3 3.44772 3 4V16C3 16.5523 3.44772 17 4 17H16C16.5523 17 17 16.5523 17 16V4C17 3.44772 16.5523 3 16 3H4Z"/>
                            </svg>
                          </div>
                          <div data-any="vw360" data-tablestyle-name data-en-text="No strokes 2">Êó†ÊèèËæπ 2</div>         
                        </div>
                        <div class="fl0 df-lc" data-radio data-radio-data="8" data-radio-main="false">
                          <div data-tablestyle-chk>
                            <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path fill="var(--mainColor)" d="M16 2C17.1046 2 18 2.89543 18 4V16L17.9893 16.2041C17.887 17.2128 17.0357 18 16 18H4C2.96435 18 2.113 17.2128 2.01074 16.2041L2 16V4C2 2.89543 2.89543 2 4 2H16ZM3 13V16C3 16.5523 3.44772 17 4 17H16C16.5523 17 17 16.5523 17 16V13H3ZM3 12H17V8H3V12ZM4 3C3.44772 3 3 3.44772 3 4V7H17V4C17 3.44772 16.5523 3 16 3H4Z"/>
                            </svg>   
                          </div>
                          <div data-any="vw360" data-tablestyle-name data-en-text="Row strokes 2">‰ªÖÊ®™Á∫ø 2</div>         
                        </div>
                        <div class="fl0 df-lc" data-radio data-radio-data="9" data-radio-main="false">
                          <div data-tablestyle-chk>
                            <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path fill="var(--mainColor)" d="M16 2C17.1046 2 18 2.89543 18 4V16C18 17.1046 17.1046 18 16 18H4C2.89543 18 2 17.1046 2 16V4C2 2.89543 2.89543 2 4 2H16ZM4 3C3.44772 3 3 3.44772 3 4V16C3 16.5523 3.44772 17 4 17H9.5V3H4ZM10.5 17H16C16.5523 17 17 16.5523 17 16V4C17 3.44772 16.5523 3 16 3H10.5V17Z"/>
                            </svg> 
                          </div>
                          <div data-any="vw360" data-tablestyle-name data-en-text="Column strokes 2">‰ªÖÁ´ñÁ∫ø 2</div>         
                        </div>
                        <div class="fl0 df-lc" data-radio data-radio-data="10" data-radio-main="false">
                          <div data-tablestyle-chk>
                            <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path fill="var(--mainColor)" d="M16 2C17.1046 2 18 2.89543 18 4V16L17.9893 16.2041C17.887 17.2128 17.0357 18 16 18H4C2.96435 18 2.113 17.2128 2.01074 16.2041L2 16V4C2 2.89543 2.89543 2 4 2H16ZM10.5 17H16C16.5523 17 17 16.5523 17 16V13H10.5V17ZM3 16C3 16.5523 3.44772 17 4 17H9.5V13H3V16ZM10.5 12H17V8H10.5V12ZM3 12H9.5V8H3V12ZM10.5 7H17V4C17 3.44772 16.5523 3 16 3H10.5V7ZM4 3C3.44772 3 3 3.44772 3 4V7H9.5V3H4Z"/>
                            </svg>  
                          </div>
                          <div data-any="vw360" data-tablestyle-name data-en-text="All strokes 2">ÂÖ®ÊèèËæπ 2</div>         
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="df-lc pos-r upload-set gap4" style="max-width: calc(100% - 44px);">
                  <input id="chk-selectcomp" type="checkbox" checked >
                  <label for="chk-selectcomp" data-tips="auto" class="fl0" data-tips-y="top" data-tips-x="right" style="--tips-w: 8ch;  width: 22px; height: 22px;
                  --tips-text:'‰ª•ÊâÄÈÄâÂØπË±°‰∏∫ÁªÑ‰ª∂';  --tips-text-en:'Create from the selected node';">
                    <btn-getbyselect></btn-getbyselect>                  
                  </label>
                  <div data-selectcomp-box="false" class="df-lc gap4" style="display: none; overflow: auto;">
                    ‚ñ∂
                    <div class="noscrollbar df-lc" data-scroll>
                      <div data-selectcomp-no style="padding: 0 10px;" data-en-text="Has not compliant components">Êú™ÈÄâ‰∏≠ÊúâÊïàÁöÑÁªÑ‰ª∂</div>
                      <div data-selectcomp-mix class="df-lc gap4">
                        <span data-any="vw240">
                          <span data-en-text="Header:">Ë°®Â§¥:</span>
                        </span>
                        <span data-selectcomp-1>none</span>
                        <div></div>
                        <div></div>
                        <span data-any="vw240">
                          <span data-en-text="Data:">Êï∞ÊçÆ:</span>
                        </span>
                        <span data-selectcomp-2>none</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div> 
            <div class="w100 df-cc gap2" style="margin: 8px 0 4px 0;">
              <div data-create-table class="w100 df-cc" data-btn="main2" data-en-text="Create Table">ÂàõÂª∫Ë°®Ê†º</div>
              <div class="w100 df-cc" data-btn="skill-main" data-selects-must data-en-text="Apply Preset" style="border-radius: 20px;">Â∫îÁî®È¢ÑËÆæÊ†∑Âºè</div>    
              <div class="df-cc fl0" data-btn="main2" style="width: 22px; height: 22px;">
                <input id="table-more" type="checkbox" onchange="showNext(this,'data-tableset-more','flex')">
                <label for="table-more" class="wh100 df-cc btn-more pad4">
                  <svg data-icon-more width="100%" height="100%" viewBox="0 0 20 20">
                    <g data-icon-more-path="1">
                      <path fill="none" d="M18 0L0 0"></path>
                    </g>
                    <g data-icon-more-path="2">
                      <path fill="none" d="M18 0L0 0"></path>
                    </g>
                    <g data-icon-more-path="3">
                      <path fill="none" d="M18 0L0 0"></path>
                    </g>
                  </svg>
                </label>
              </div>
            </div>
            <div class="df-ffc gap4" data-tableset-more data-skill-sec style="margin: 4px 0; display: none;">
              <div class="df-lc w100" data-skill-more>
                <div class="df-cc" data-btn="skill-main" data-en-text="Only Create @th/td">‰ªÖÂàõÂª∫ÁªÑ‰ª∂</div>
                <div class="df-cc"  data-selects-must data-btn="skill-main" data-en-text="Make Compliant">ÂêàËßÑÂåñÁªÑ‰ª∂</div>
              </div>
              <div class="w100 df-cc">
                <span data-skill-gap>
                  <span>---</span>
                  <span data-en-text="To xxx@table elements"> Âü∫‰∫éxxx@tableÂÖÉÁ¥†</span>
                  <span>---</span>
                </span>
              </div>
              <div class="df-lc w100" data-skill-more data-selects-must>
                <div class="df-lc w100 gap4">
                  <div class="df-lc fl1">
                    <input id="table-column-num" type="text" value="0" data-input data-input-type="int" data-input-must="0,1000" style="text-align: center;">
                    <div class="df-cc" data-input-unit="auto" data-en-text=" C ">Âàó</div>
                  </div>
                  <div class="df-lc fl1" >
                    <input id="table-row-num" type="text" value="0" data-input data-input-type="int" data-input-must="0,1000" style="text-align: center;">
                    <div class="df-cc" data-input-unit="auto" data-en-text=" R ">Ë°å</div>
                  </div>
                </div>
                <div class="df-lc w100" >
                  <div class="df-cc" style="border-radius: 10px 0 0 10px;" data-btn="skill-main" data-en-text="Add C/R">Â¢ûÂä†Ë°åÂàó</div>
                  <div class="df-cc" style="border-left: 0; border-radius:0 10px 10px 0;" data-btn="skill-main" data-en-text="Reduce C/R">ÂáèÂ∞ëË°åÂàó</div>
                </div>
                
              </div>
              <div class="df-lc w100" data-skill-more data-selects-must>
                <div class="df-lc w100" >
                  <div class="df-cc" style="border-radius: 10px 0 0 10px;" data-btn="skill-main" data-en-text="All Border">ÂÖ®ÊèèËæπ</div>
                  <div class="df-cc" style="border-left: 0; border-radius:0 10px 10px 0;" data-btn="skill-main" data-en-text="None Border">ÂÖ®‰∏çÊèèËæπ</div>
                </div>
                <div class="df-lc w100" >
                  <div class="df-cc" style="border-radius: 10px 0 0 10px;" data-btn="skill-main" data-en-text="All Fill">ÂÖ®Â°´ÂÖÖ</div>
                  <div class="df-cc" style="border-left: 0; border-radius:0 10px 10px 0;" data-btn="skill-main" data-en-text="None Fill">ÂÖ®‰∏çÂ°´ÂÖÖ</div>
                </div>
                
              </div>
              <div class="df-lc w100" data-skill-more data-selects-must>
                <!--div class="df-cc" data-btn="skill-main" data-btn-important="skill" data-en-text="Apply Preset Style">Â∫îÁî®Ê†∑Âºè</div-->
                <div class="df-cc" data-btn="skill-main" data-en-text="Random Theme">ÈöèÊú∫‰∏ªÈ¢ò</div>
                <div class="df-cc" data-btn="skill-main" data-en-text="Row Column Swap">ÂèçËΩ¨Ë°åÂàó</div>
              </div>
              <div class="w100 df-cc">
                <span data-skill-gap>
                  <span>---</span>
                  <span data-en-text="To xxx@th/td elements"> Âü∫‰∫éxxx@th/tdÂÖÉÁ¥†</span>
                  <span>---</span>
                </span>
              </div>
              <div class="df-lc w100" data-skill-more data-selects-must>
                <div class="df-cc" data-btn="skill-main" data-en-text="Select a Row">ÈÄâ‰∏≠ÂçïË°å</div>
                <div class="df-cc" data-btn="skill-main" data-en-text="Select many Rows">ÈÄâ‰∏≠Â§öË°å</div>
              </div>
              <div class="df-lc w100" data-skill-more data-selects-must>
                <div class="df-cc" data-btn="skill-main" data-en-text="Select Block">Âå∫ÂüüÈÄâ‰∏≠</div>
                <div class="df-cc" data-btn="skill-main" data-en-text="Select Inline">ËøûÁª≠ÈÄâ‰∏≠</div>
              </div>
            </div>
            <div style="min-height: 4px;"></div>
            <!--Ê≠•È™§2-->
            <div class="w100 df-lc op6"  style="padding:4px 0 6px 0;vertical-align: baseline;"> 
              <span>‚ñº&nbsp;</span>
              <span data-en-text="Control component properties by sheet" >Áî®Ë°®Ê†ºÊï∞ÊçÆÊâπÈáè+ÂèÇÊï∞ÂåñÊéßÂà∂ÁªÑ‰ª∂</span>
            </div>
            <div class="wh100 df">
              <div id="upload-tablearea-box" data-resize class="pos-r fl1" style="min-height: 120px;">
                <textarea class="wh100" spellcheck="false" id="upload-tablearea" data-textarea="eg"  style=" min-height: 100%;" 
                data-eg="A1\tB1\tC1\na2\tb2\tc2\na3\tb3\tc3\na4\tb4\tc4"
                data-eg-en="A1\tB1\tC1\na2\tb2\tc2\na3\tb3\tc3\na4\tb4\tc4"
                ></textarea>
                <!--Ê∏ÖÁ©∫-->
                <div class="pos-a" data-close="clear" style="right: 4px; top:4px; width: 12px; height: 12px;">
                  <btn-close></btn-close>
                </div>
                <div data-textarea="tips" class="pos-a w100 df-ffc pad10 bsb gap4 font-s10" style="white-space: normal; color: var(--boxBod); bottom: 0; animation: boxUp 0.5s; pointer-events: none;">
                  <li data-li-style="2" data-en-text="Double click fill sample" >ÂèåÂáªÂ°´ÂÖÖÁ§∫‰æã</li>
                  <li data-li-style="2" data-en-text="Copy from a sheet or manually input with tab character(key)" >‰ªéË°®Ê†ºÂ§çÂà∂ÊàñÁî®Âà∂Ë°®Á¨¶ÔºàtabÈîÆÔºâÊâãÂä®ËæìÂÖ•</li>
                </div>
              </div>
            </div>
            <!--Êõ¥Â§öËÆæÁΩÆ-->
            <div data-tablearea-moreset class="w100 df-lc gap4" style="flex-wrap: wrap; margin: 4px 0;">
              <div class="df-lc fl1 pos-r upload-set gap4" style="min-width: 120px;">
                <div data-tips="auto" class="fl0 df-cc" data-tips-y="top" data-tips-x="left" style="--tips-w: 8ch; 
                  --tips-text:'ËÆæÁΩÆÊç¢Ë°åËΩ¨‰πâÁ¨¶, Áî®‰∫éÂÖºÂÆπÈúÄË¶ÅÊç¢Ë°åÁöÑÊï∞ÊçÆ';  --tips-text-en:'Set a character to represent line feed'; width: 20px; height: 20px;">
                  <svg width="120%" height="120%" viewBox="0 0 20 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-width="0.25" stroke="var(--mainColor)" fill="var(--mainColor)" d="M15.0417 9.94629C15.0416 11.6031 13.6985 12.9462 12.0417 12.9463H8.29461V13.999C8.29455 14.4246 7.79631 14.6557 7.47137 14.3809L4.57976 11.9346C4.10782 11.5352 4.10788 10.8067 4.57976 10.4072L7.47137 7.96094C7.79633 7.68597 8.29461 7.91709 8.29461 8.34277V9.39551H11.4909V5.13379H15.0417V9.94629Z"/>
                    <rect stroke="var(--mainColor)" x="2" y="2" width="16" height="16" rx="2"/>
                    <rect fill="var(--mainColor)" x="2" y="21" width="16" height="2" rx="1"/>
                  </svg>       
                </div>
                <input id="input-linefeed" data-input class="nobod fl1" type="text" 
                value="[enter]"> 
                <!--ÈáçÁΩÆ-->
                <div data-input-reset data-btn="reset">
                  <btn-reset></btn-reset>
                </div>  
              </div>
              <div class="df-lc fl1 pos-r upload-set gap4" style="min-width: 120px;">
                <div data-tips="auto" class="fl0 df-cc" data-tips-y="top" data-tips-x="center" style="--tips-w: 8ch; 
                  --tips-text:'ËÆæÁΩÆÁ©∫Êï∞ÊçÆÂç†‰ΩçÁ¨¶, ÂèØÈÅøÂÖçÊΩúÂú®ÁöÑÈîôËØØ';  --tips-text-en:'Set a character to replace null data'; width: 20px; height: 20px;">
                  <svg width="120%" height="120%" viewBox="0 0 20 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-width="0.25" stroke="var(--mainColor)" fill="var(--mainColor)" d="M14.4007 5.40071C15.0952 6.09516 15.0952 7.22121 14.4007 7.91564L12.5149 9.80149L14.4007 11.6873C15.0951 12.3817 15.0951 13.5078 14.4007 14.2023C13.7063 14.8967 12.5803 14.8967 11.8858 14.2023L9.99997 12.3164L8.11413 14.2023C7.41969 14.8967 6.29365 14.8967 5.5992 14.2023C4.90476 13.5078 4.90476 12.3818 5.5992 11.6873L7.48505 9.80149L5.5992 7.91564C4.90476 7.2212 4.90476 6.09516 5.5992 5.40071C6.29366 4.70641 7.41973 4.70632 8.11413 5.40071L9.99997 7.28656L11.8858 5.40071C12.5803 4.70627 13.7063 4.70627 14.4007 5.40071Z"/>
                    <rect stroke="var(--mainColor)" x="2" y="2" width="16" height="16" rx="2"/>
                    <rect fill="var(--mainColor)" x="2" y="21" width="16" height="2" rx="1"/>
                  </svg>       
                </div>
                <input id="input-nulldata" data-input class="nobod fl1" type="text"
                value="--">  
                <!--ÈáçÁΩÆ-->
                <div data-input-reset data-btn="reset">
                  <btn-reset></btn-reset>
                </div> 
              </div>
            </div>
            <div class="df-ffc w100 bod-d pad4 gap4 bsb" data-retable-moreset >
              <div data-text-mini data-en-text="* Run when selected: xxx@table | sone frames/groups have xxx@table | one auto-layout with only instances">* ÂΩìÈÄâ‰∏≠@table | ÂåÖÂê´@tableÁöÑÂ§ö‰∏™ÁîªÊùø/ÁªÑ | ‰ªÖÂåÖÂê´ÂÆû‰æãÁöÑÂçï‰∏™Ëá™Âä®Â∏ÉÂ±Ä Êó∂ÁîüÊïà</div>
              <div class="df-lc w100 font-s10 gap4 mar-b4" data-skill-more style="flex-wrap: wrap; white-space: nowrap;">
                <div class="fl1 df-lc gap4" style="min-width: 160px;">
                  <div class="df ovh noscrollbar" data-scroll data-en-text="¬∑ Clone instance by data quantity">¬∑ Êï∞ÊçÆÊï∞Èáè&gt;ÂÆû‰æãÊï∞ÈáèÊó∂, Â§çÂà∂ÊúÄÊú´ÂÆûÂàó</div>
                  <div style="width: 1%;"></div>
                  <div class="df-rc" style="min-width: 36px;">
                    <input id="switch-autoclone" type="checkbox" checked>
                    <label for="switch-autoclone" class="switch" style="--swi-h: 16px"></label>
                  </div>
                </div>
                <div class="fl1 df-lc gap4" style="min-width: 160px;">
                  <div class="df ovh noscrollbar" data-scroll data-en-text="¬∑ Reduce instance by data quantity">¬∑ Êï∞ÊçÆÊï∞Èáè&lt;ÂÆû‰æãÊï∞ÈáèÊó∂, ‰ªéÊúÄÊú´ÂÆûÂàóÂºÄÂßãÂà†Âáè</div>
                  <div style="width: 1%;"></div>
                  <div class="df-rc" style="min-width: 36px;">
                    <input id="switch-autoreduce" type="checkbox" checked>
                    <label for="switch-autoreduce" class="switch" style="--swi-h: 16px"></label>
                  </div>
                </div>
              </div>
            </div>
            <div class="df-ffc gap4" data-skill-sec style="margin: 4px 0;">
              <div class="df-lc w100" data-skill-more data-selects-must>
                <div class="df-cc" data-btn="skill-main" data-en-text="Mapping Names">ÂõæÂ±ÇÂëΩÂêçÊò†Â∞Ñ</div>
                <div class="df-cc" data-btn="skill-main" data-en-text="Mapping Texts">ÊñáÊú¨Êï∞ÊçÆÊò†Â∞Ñ</div>
              </div>
              <div class="df-lc w100" data-skill-more data-selects-must>
                <div class="df-cc" data-btn="skill-main" data-en-text="Mapping Properties">ÁªÑ‰ª∂Â±ûÊÄßÊò†Â∞Ñ</div>
                <div class="df-cc" data-btn="skill-main" data-en-text="Mapping Tags">Ê†áÁ≠æÂ±ûÊÄßÊò†Â∞Ñ</div>
              </div>
              <div class="w100 df-cc">
                <span data-skill-gap>
                  <span>---</span>
                  <span data-en-text="Get datas from selection">‰ªéÊâÄÈÄâÂõæÂ±ÇËøîÂõûÊï∞ÊçÆ</span>
                  <span>---</span>
                </span>
              </div>
              <div class="df-lc w100" data-skill-more data-selects-must>
                <div class="df-cc" data-btn="skill-main" data-en-text="Get Names">Ëé∑ÂèñÂõæÂ±ÇÂëΩÂêç</div>
                <div class="df-cc" data-btn="skill-main" data-en-text="Get Texts">Ëé∑ÂèñÊñáÊú¨Êï∞ÊçÆ</div>
              </div>
              <div class="df-lc w100" data-skill-more data-selects-must>
                <div class="df-cc" data-btn="skill-main" data-en-text="Get Properties">Ëé∑ÂèñÁªÑ‰ª∂Â±ûÊÄß</div>
                <div class="df-cc" data-btn="skill-main" data-en-text="Get Tags">Ëé∑ÂèñÊ†áÁ≠æÂ±ûÊÄß</div>
              </div>

            </div>
            <div style="min-height: 10px;"></div>
          </div>
        </div>
      </div>
      <div data-page-name="Êõ¥Â§öÂäüËÉΩ" data-page-name-en="more tools" data-page-main="false" data-page-tabclass="tab-top" class="df-ffc df-cc wh100">
        <div class="wh100 df-ffc pad10 bsb pad10" style="max-width: 560px; align-items: center;">
          <!--ÂäüËÉΩtags-->
          <div class="w100 fl0 noscrollbar df" data-scroll>
            <div data-skilltype-box class="df-lc fl0" data-radio-value="1" >
              <div data-radio data-radio-data="1" data-radio-main="true" class="df-cc">
                <div data-skilltype-icon>
                  <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill="var(--mainColor)" d="M9.10133 5.24013C9.4668 4.4921 10.5329 4.4921 10.8983 5.24013L11.9152 7.32142L14.2089 7.64537C15.0332 7.76179 15.3626 8.77567 14.7642 9.3544L13.099 10.9647L13.4996 13.2462C13.6437 14.0661 12.7812 14.6928 12.0458 14.3024L9.99983 13.2163L7.95381 14.3024C7.21847 14.6928 6.35601 14.0661 6.50002 13.2462L6.9007 10.9647L5.23551 9.3544C4.63703 8.77567 4.96646 7.76179 5.79081 7.64537L8.08446 7.32142L9.10133 5.24013Z"/>
                    <rect stroke="var(--mainColor)" x="2.5" y="2.5" width="15" height="15" rx="2"/>
                  </svg>           
                </div>
                <div data-skilltype-name data-btn-name data-any="vw300"
                data-skillmodule-for="Useful & Starts" data-en-text="Start">
                  Êî∂Ëóè
                </div>
                <div data-skilltype-pick></div>
              </div>
              <div data-radio data-radio-data="2" data-radio-main="false" class="df-cc">
                <div data-skilltype-icon>
                  <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill="var(--mainColor)" d="M7 7H2V2H7V7ZM3 3V6H6V3H3Z"/>
                    <rect fill="var(--mainColor)" x="6" y="4" width="6" height="1" rx="0.5"/>
                    <rect fill="var(--mainColor)" x="4" y="6" width="1" height="6" rx="0.5"/>
                    <path fill="var(--mainColor)" d="M3 15C3 14.4477 3.44772 14 4 14H6C6.55228 14 7 14.4477 7 15V17C7 17.5523 6.55228 18 6 18H4C3.44772 18 3 17.5523 3 17V15Z"/>
                    <path fill="var(--mainColor)" d="M8.5 15C8.5 14.4477 8.94772 14 9.5 14H11.5C12.0523 14 12.5 14.4477 12.5 15V17C12.5 17.5523 12.0523 18 11.5 18H9.5C8.94772 18 8.5 17.5523 8.5 17V15Z"/>
                    <path fill="var(--mainColor)" d="M8.5 9.5C8.5 8.94772 8.94772 8.5 9.5 8.5H11.5C12.0523 8.5 12.5 8.94772 12.5 9.5V11.5C12.5 12.0523 12.0523 12.5 11.5 12.5H9.5C8.94772 12.5 8.5 12.0523 8.5 11.5V9.5Z"/>
                    <rect fill="var(--mainColor)" x="14" y="14" width="4" height="4" rx="1"/>
                    <path fill="var(--mainColor)" d="M14 9.5C14 8.94772 14.4477 8.5 15 8.5H17C17.5523 8.5 18 8.94772 18 9.5V11.5C18 12.0523 17.5523 12.5 17 12.5H15C14.4477 12.5 14 12.0523 14 11.5V9.5Z"/>
                    <path fill="var(--mainColor)" d="M14 4C14 3.44772 14.4477 3 15 3H17C17.5523 3 18 3.44772 18 4V6C18 6.55228 17.5523 7 17 7H15C14.4477 7 14 6.55228 14 6V4Z"/>
                  </svg>              
                </div>
                <div data-skilltype-name data-btn-name data-any="vw300"
                data-skillmodule-for="Pixel & Transform" data-en-text="Pixel">
                  ÂÉèÁ¥†
                </div>
                <div data-skilltype-pick></div>
              </div>
              <div data-radio data-radio-data="3" data-radio-main="false" class="df-cc">
                <div data-skilltype-icon>
                  <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill="var(--mainColor)" d="M9 2L8.99992 4.81319H8.02803L7.94126 3.8956H6.19353L6.19361 8.41026L7.13657 8.5641V10H3.66841V8.5641L4.73222 8.41026L4.73214 3.8956H3.05867L2.97767 4.81319H2L2.00008 2H9Z"/>
                    <path fill="var(--mainColor)" d="M2 13C2 11.8954 2.89543 11 4 11H8C9.10457 11 10 11.8954 10 13V17C10 18.1046 9.10457 19 8 19H4C2.89543 19 2 18.1046 2 17V13Z"/>
                    <path fill="var(--mainColor)" d="M11.7126 4.04181C11.8915 3.86285 12.1817 3.86285 12.3607 4.04181L13.7493 5.43044C13.9282 5.6094 13.9282 5.89954 13.7493 6.0785L12.3607 7.46713C12.1817 7.64609 11.8915 7.64609 11.7126 7.46713L10.324 6.0785C10.145 5.89954 10.145 5.6094 10.324 5.43044L11.7126 4.04181Z"/>
                    <path fill="var(--mainColor)" d="M14.2585 1.49591C14.4374 1.31695 14.7276 1.31695 14.9066 1.49591L16.2952 2.88454C16.4741 3.0635 16.4741 3.35365 16.2952 3.5326L14.9066 4.92124C14.7276 5.10019 14.4374 5.10019 14.2585 4.92123L12.8699 3.5326C12.6909 3.35365 12.6909 3.0635 12.8699 2.88454L14.2585 1.49591Z"/>
                    <rect fill="var(--mainColor)" x="14.5825" y="6.26343" width="2.88032" height="2.88032" rx="0.458252" transform="rotate(45 14.5825 6.26343)"/>
                    <path fill="var(--mainColor)" d="M16.8044 4.04181C16.9833 3.86285 17.2735 3.86285 17.4525 4.04181L18.8411 5.43044C19.02 5.6094 19.02 5.89954 18.8411 6.0785L17.4525 7.46713C17.2735 7.64609 16.9833 7.64609 16.8044 7.46713L15.4158 6.0785C15.2368 5.89954 15.2368 5.6094 15.4158 5.43044L16.8044 4.04181Z"/>
                    <path stroke="var(--mainColor)"  stroke-linecap="round" stroke-dasharray="2 2" d="M11.5 13.5C11.5 12.3954 12.3954 11.5 13.5 11.5H16.5C17.6046 11.5 18.5 12.3954 18.5 13.5V16.5C18.5 17.6046 17.6046 18.5 16.5 18.5H13.5C12.3954 18.5 11.5 17.6046 11.5 16.5V13.5Z"/>
                  </svg>                                   
                </div>
                <div data-skilltype-name data-btn-name data-any="vw300"
                data-skillmodule-for="Text & Layer" data-en-text="Layer">
                  ÂõæÂ±Ç
                </div>
                <div data-skilltype-pick></div>
              </div>
              <div data-radio data-radio-data="4" data-radio-main="false" class="df-cc">
                <div data-skilltype-icon>
                  <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill="var(--mainColor)" d="M12.5 7H7.5V2H12.5V7ZM8.5 3V6H11.5V3H8.5Z"/>
                    <rect fill="var(--mainColor)" x="1" y="3" width="3" height="3"/>
                    <rect fill="var(--mainColor)" x="16" y="3" width="3" height="3"/>
                    <rect fill="var(--mainColor)" x="12" y="4" width="4" height="1"/>
                    <rect fill="var(--mainColor)" x="4" y="4" width="4" height="1"/>
                    <path stroke="var(--mainColor)" stroke-linecap="round" d="M17 10C17 7.59975 15.0191 5.57184 12 5M3 10C3 7.58397 4.95063 5.55643 8 5"/>
                    <circle stroke="var(--mainColor)" cx="8.5" cy="10.5" r="1.5"/>
                    <path fill="var(--mainColor)" d="M4.63324 12.8363L4.94986 12.4494L4.94986 12.4494L4.63324 12.8363ZM11.1597 13.6771L11.4886 14.0537L11.5013 14.0426L11.5132 14.0307L11.1597 13.6771ZM12.5 13.6103L12.8271 13.2319L12.8166 13.2233L12.5 13.6103ZM17.5 13.5731C17.5 13.2969 17.2761 13.0731 17 13.0731C16.7239 13.0731 16.5 13.2969 16.5 13.5731H17.5ZM16.5 12C16.5 12.2761 16.7239 12.5 17 12.5C17.2761 12.5 17.5 12.2761 17.5 12H16.5ZM17.5 11.5C17.5 11.2239 17.2761 11 17 11C16.7239 11 16.5 11.2239 16.5 11.5H17.5ZM7.19138 14.9294L6.87476 15.3163L7.19138 14.9294ZM4.63324 12.8363L4.31662 13.2233L6.87476 15.3163L7.19138 14.9294L7.508 14.5424L4.94986 12.4494L4.63324 12.8363ZM9.77349 14.8878L10.1024 15.2644L11.4886 14.0537L11.1597 13.6771L10.8307 13.3006L9.44458 14.5112L9.77349 14.8878ZM12.5 13.6103L12.173 13.9886L16.673 17.8783L17 17.5001L17.327 17.1218L12.827 13.232L12.5 13.6103ZM11.1597 13.6771L11.5132 14.0307C11.6948 13.8491 11.9846 13.8346 12.1834 13.9973L12.5 13.6103L12.8166 13.2233C12.2202 12.7353 11.351 12.7787 10.8061 13.3236L11.1597 13.6771ZM3 13.6103H3.5C3.5 13.1885 3.99015 12.9562 4.31662 13.2233L4.63324 12.8363L4.94986 12.4494C3.97046 11.648 2.5 12.3449 2.5 13.6103H3ZM4 18.0001V18.5001H16V18.0001V17.5001H4V18.0001ZM17 17.0001H17.5V13.5731H17H16.5V17.0001H17ZM16 18.0001V18.5001C16.8284 18.5001 17.5 17.8285 17.5 17.0001H17H16.5C16.5 17.2762 16.2761 17.5001 16 17.5001V18.0001ZM3 17.0001H2.5C2.5 17.8285 3.17157 18.5001 4 18.5001V18.0001V17.5001C3.72386 17.5001 3.5 17.2762 3.5 17.0001H3ZM3 17.0001H3.5V13.6103H3H2.5V17.0001H3ZM17 12H17.5V11.5H17H16.5V12H17ZM7.19138 14.9294L6.87476 15.3163C7.81915 16.089 9.18336 16.0671 10.1024 15.2644L9.77349 14.8878L9.44458 14.5112C8.89316 14.9928 8.07463 15.006 7.508 14.5424L7.19138 14.9294Z"/>
                  </svg>                  
                </div>
                <div data-skilltype-name data-btn-name data-any="vw300"
                data-skillmodule-for="Vector & Generate" data-en-text="Vector">
                  Áü¢Èáè
                </div>
                <div data-skilltype-pick></div>
              </div>
              <div data-radio data-radio-data="5" data-radio-main="false" class="df-cc">
                <div data-skilltype-icon>
                  <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill="var(--mainColor)" d="M7.53784 8.53784C7.53784 7.98556 7.98556 7.53784 8.53784 7.53784H11.4618C12.0141 7.53784 12.4618 7.98556 12.4618 8.53784V11.4618C12.4618 12.0141 12.0141 12.4618 11.4618 12.4618H8.53784C7.98556 12.4618 7.53784 12.0141 7.53784 11.4618V8.53784Z"/>
                    <path stroke="var(--mainColor)" d="M17.5 8.125V7C17.5 4.51472 15.4853 2.5 13 2.5H11.875M17.5 11.875V13C17.5 15.4853 15.4853 17.5 13 17.5H11.875M2.5 11.875V13C2.5 15.4853 4.51472 17.5 7 17.5H8.125M2.5 8.125V7C2.5 4.51472 4.51472 2.5 7 2.5H8.125"/>
                    <path stroke="var(--mainColor)" d="M5.65112 7.65112C5.65112 6.54655 6.54655 5.65112 7.65112 5.65112H12.3489C13.4535 5.65112 14.3489 6.54655 14.3489 7.65112V12.3489C14.3489 13.4535 13.4535 14.3489 12.3489 14.3489H7.65112C6.54655 14.3489 5.65112 13.4535 5.65112 12.3489V7.65112Z" stroke-dasharray="2.14 2.14"/>
                    <circle stroke="var(--mainColor)" cx="10" cy="2.5" r="1.5"/>
                    <circle stroke="var(--mainColor)" cx="10" cy="17.5" r="1.5"/>
                    <circle stroke="var(--mainColor)" cx="2.5" cy="10" r="1.5"/>
                    <circle stroke="var(--mainColor)" cx="17.5" cy="10" r="1.5"/>
                  </svg>                  
                </div>
                <div data-skilltype-name data-btn-name data-any="vw300"
                data-skillmodule-for="Style & Prototype" data-en-text="Style">
                  Ê†∑Âºè
                </div>
                <div data-skilltype-pick></div>
              </div>
            </div>
          </div>
          <div style="height: 10px;"></div>
          <!--ÂäüËÉΩÂàóË°®-->
          <div  data-skills-scroll class="wh100 df-ffc ovy noscrollbar">
            <div data-skills-box class="w100 df-ffc">
              <div class="w100 df" data-skill-col="1" data-skillmodule-zh="Â∏∏Áî®ÂäüËÉΩ" data-skillmodule="Useful & Starts">
                <!--Ëá™Âä®Ê∑ªÂä†-->
                <div class="fl1 df-cc" data-skill-sec data-skill-cover="end" style="display: flex;">
                  <span data-any="vw240" data-skill-cover="tips">
                    <span data-en-text="Click the star">
                      ÁÇπÂáªÂäüËÉΩÂùóÂè≥‰∏äËßíÁöÑÊòüÊòü
                    </span>
                    <span data-skill-star="false">
                        <btn-star></btn-star>
                    </span>
                    <span data-en-text="of functional module to add it to here~">
                      Âç≥ÂèØÊî∂ËóèÂà∞Ê≠§Â§Ñ~
                    </span>
                  </span>
                </div>
              </div>
              <div class="w100 df" data-skill-col="2" data-skillmodule-zh="ÂÉèÁ¥†&ÂèòÊç¢" data-skillmodule="Pixel &amp; Transform">
                <div class="fl1" data-skill-sec="InSituRasterize">
                  <div data-skill-star="false">
                    <btn-star></btn-star>
                  </div>
                  <div class="df-lc" data-skill-line>
                    <div data-any="vw240" data-skill-btnname data-en-text="Slice Size">ÂàáÁâáÂ§ßÂ∞è</div>
                    <div data-pixel-mix class="df-lc pos-r gap4" data-select data-select-close data-select-value="‚â§ 4096px" style="width: 90px; z-index:2;">
                      <input id="select-value-2" type="text" data-select-input readonly value="‚â§4096">
                      <input id="select-show-2" data-select-pick="‚â§4096" type="checkbox">
                      <label for="select-show-2" class="show-next wh100 pos-a" style="top:0; right: 0;"></label>
                      <div data-select-options class="df-lc pos-a noscrollbar" style="display: none;">
                        <div data-option="option" data-option-main="true" data-option-value="‚â§ 4096px">‚â§ 4096px</div>
                        <div data-option="option" data-option-main="false" data-option-value="‚â§ 2048px">‚â§ 2048px</div>
                        <div data-option="option" data-option-main="false" data-option-value="‚â§ 1024px">‚â§ 1024px</div>
                        <div data-option="option" data-option-main="false" data-option-value="‚â§ 512px">‚â§ 512px</div>
                        <div data-option="option" data-option-main="false" data-option-value="‚â§ 256px">‚â§ 256px</div>
                        <div data-option="option" data-option-main="false" data-option-value="‚â§ 128px">‚â§ 128px</div>
                        <div data-option="option" data-option-main="false" data-option-value="‚â§ 64px">‚â§ 64px</div>
                        <div data-option="option" data-option-main="false" data-option-value="‚â§ 32px">‚â§ 32px</div>
                      </div>
                    </div>
                  </div>
                  <div class="df-sc" data-skill-line>
                    <div data-any="vw240" data-skill-btnname data-en-text="Scale">ÂÉèÁ¥†ÂÄçÁéá</div>
                    <div class="df-lc" style="flex: 0 0 auto; width: 50px;">
                      <input id="input-pixelScale" type="text" value="1"
                      data-input data-input-type="float" data-input-must="0.1,20" 
                      style="flex: 0 0 auto; width: 32px; text-align: center;"/>
                    <div class="df-cc" data-input-unit>x</div>
                    </div>
                    <div></div>
                    <div class="df-lc fl1 gap2" data-pixelscale-set data-radio-value="1">
                      <div data-radio data-radio-data="1" data-radio-main="true" class="df-cc">
                        1x
                      </div>
                      <div data-radio data-radio-data="2" data-radio-main="false" class="df-cc">
                        2x
                      </div>
                      <div data-radio data-radio-data="3" data-radio-main="false" class="df-cc">
                        3x
                      </div>
                      <div data-radio data-radio-data="4" data-radio-main="false" class="df-cc">
                        4x
                      </div>
                    </div>
                  </div>
                  <div class="df-sc" data-skill-line>
                    <div class="df-lc w100" data-skill-more>
                      <div data-pixel-copy class="df-cc" data-btn="skill-main" data-en-text="Pixel As Copy">‰øùÁïôÂéüÂõæÂ±Ç</div>
                      <div data-pixel-overwrite class="df-cc" data-btn="skill-main" data-en-text="Pixel Overwrite">Ë¶ÜÂÜôÂéüÂõæÂ±Ç</div>
                    </div>
                  </div>
                </div>
                <div class="fl1"  data-skill-sec="UniformScale">
                  <div data-skill-star="false">
                      <btn-star></btn-star>
                  </div>
                  <div class="df-sc" data-skill-line>
                    <div class="df-ffc fl1 gap8" style="max-width: 160px;">
                      <div data-any="vw240" style="height: 6px;"></div>
                      <div class="df-lc w100" style="max-width: 160px;" data-float-value>
                        <div data-skill-btnname data-any="vw240" data-en-text="Each ratio">ÊåâÁôæÂàÜÊØî</div>
                        <input id="uniform-set-s" type="text" value="1" data-input data-input-type="float" data-input-must="0.01,1000" style="text-align: center;">
                        <div class="df-cc" data-input-unit>x</div>
                      </div>
                      <div class="df-lc w100" style="max-width: 160px;" data-float-value>
                        <div data-skill-btnname data-any="vw240" data-en-text="Same width">ÊåâÂÆΩÂ∫¶</div>
                        <input id="uniform-set-w" type="text" value data-input data-input-type="float" data-input-must="10,10000" style="text-align: center;">
                        <div class="df-cc" data-input-unit>w</div>
                      </div>
                      <div class="df-lc w100" style="max-width: 160px;" data-float-value>
                        <div data-skill-btnname data-any="vw240" data-en-text="Same height">ÊåâÈ´òÂ∫¶</div>
                        <input id="uniform-set-h" type="text" value data-input data-input-type="float" data-input-must="10,10000" style="text-align: center;">
                        <div class="df-cc" data-input-unit>h</div>
                      </div>
                    </div>
                    <div data-transform-center-module class="df-ffc df-cc fl1 gap4 mar-l10" >
                      <div data-skill-btnname-top data-any="vw240" data-en-text="Scale center">Áº©Êîæ‰∏≠ÂøÉ</div>
                      <div data-transform-center-box data-radio-value="CC" class="w100" >
                        <div data-radio data-radio-data="TL" data-radio-main="false" class="df-cc">‚ñ™</div>
                        <div data-radio data-radio-data="TC" data-radio-main="false" class="df-cc">‚ñ™</div>
                        <div data-radio data-radio-data="TR" data-radio-main="false" class="df-cc">‚ñ™</div>
                        <div data-radio data-radio-data="CL" data-radio-main="false" class="df-cc">‚ñ™</div>
                        <div data-radio data-radio-data="CC" data-radio-main="true" class="df-cc">‚ñ™</div>
                        <div data-radio data-radio-data="CR" data-radio-main="false" class="df-cc">‚ñ™</div>
                        <div data-radio data-radio-data="BL" data-radio-main="false" class="df-cc">‚ñ™</div>
                        <div data-radio data-radio-data="BC" data-radio-main="false" class="df-cc">‚ñ™</div>
                        <div data-radio data-radio-data="BR" data-radio-main="false" class="df-cc">‚ñ™</div>
                      </div>
                    </div>                    
                  </div>
                </div>
                <div class="fl1"  data-skill-sec="EaseTransform">
                  <div data-skill-star="false">
                    <btn-star></btn-star>
                  </div>
                  <!--figma‰∏çÊîØÊåÅÊãâ‰º∏ÂèòÂΩ¢ÔºåË¶Å‰πàÊñúÂàá+ËÆ∞ÂΩïÂéüÂßãÂÆΩÈ´òÊù•Áº©ÊîæÔºåË¶Å‰πà‰øÆÊîπÂâ™ÂàáÊùø‰ø°ÊÅØÊù•ÂÆûÁé∞Êãâ‰º∏-->
                  <!--input type="checkbox" id="skewscale-view-pick">
                  <label for="skewscale-view-pick" class="df-ffc df-cc bod-d gap4 pad2 mar-b4" style="display: flex;">
                    <span class="tip1" data-en-text="Edit directly or Ctrl+C copy the layer, then click here~">Áõ¥Êé•ÁºñËæë, ÊàñCtrl+CÂ§çÂà∂ÂõæÂ±Ç, ÁÑ∂ÂêéÁÇπÂáªÊ≠§Â§Ñ~</span>
                    <span class="tip2" data-en-text="Ctrl+V paste here and edit the data from clipboard,click again to cancel~">Ctrl+VÁ≤òË¥¥, Âç≥ÂèØÂü∫‰∫éÂâ™Ë¥¥ÊùøÊï∞ÊçÆÂèòÂΩ¢,ÂÜçÊ¨°ÁÇπÂáªÂèñÊ∂à~</span>
                  </label>
                  <div class="df-cc mar-b4" data-skewscale-copy data-btn="skill-main" data-en-text="Replace Clipboard Data">ÊõøÊç¢Ââ™Ë¥¥ÊùøÊï∞ÊçÆ</div-->

                  <!--div data-skewscale-view-box class="w100 df-cc pos-r tex-pixelbg mar-0a mar-b8 ovh" style="max-width: 240px;">
                    <div data-skewscale-box class="w100 pos-r fl0 df-cc ">
                      <div data-skewscale-view ></div>
                    </div>

                  </div-->
                  <div class="df-lc" data-skill-line>
                    <div data-any="vw240" data-skill-btnname data-en-text="Skew X">Â∑¶Âè≥ÂÄæÊñú</div>
                    <div data-skewset-x  data-number data-number-value="0" class="df-lc fl1" style="flex: 1;">
                      <input data-input="range" type="range" min="-80" max="80" value="0">
                      <input data-input="value" data-input-must="-80,80" data-input-type="int" 
                      type="text" class="txt-c fl0 mar-l4" style="width: 30px;" value="0">
                      <div class="df-cc" data-input-unit>¬∞</div>
                      <div data-input-reset data-btn="reset">
                        <btn-reset></btn-reset>
                      </div>
                    </div>
                  </div>
                  <div class="df-lc" data-skill-line>
                    <div data-any="vw240" data-skill-btnname data-en-text="Skew Y">‰∏ä‰∏ãÂÄæÊñú</div>
                    <div data-skewset-y data-number data-number-value="0" class="df-lc fl1" style="flex: 1;">
                      <input data-input="range" type="range" min="-80" max="80" value="0">
                      <input data-input="value" data-input-must="-80,80" data-input-type="int" 
                      type="text" class="txt-c fl0 mar-l4" style="width: 30px;" value="0">
                      <div class="df-cc" data-input-unit>¬∞</div>
                      <div data-input-reset data-btn="reset">
                        <btn-reset></btn-reset>
                      </div>
                    </div>
                  </div>
                  <div class="w100 df-cc mar-b4">
                    <span data-skill-gap>
                      <span>----</span>
                      <span data-any="vw240"
                      data-en-text="Mark initial width and height for scale calculation, not real transform">
                        Ê†áËÆ∞ÂàùÂßãÂÆΩÈ´òËÆ°ÁÆóÁº©Êîæ, ÈùûÁúüÂÆûÂèòÂΩ¢
                      </span>
                      <span>----</span>
                    </span>
                  </div>
                  <div class="df-lc" data-skill-line="">
                    <div data-any="vw240" data-skill-btnname data-en-text="Scale X">Â∑¶Âè≥Áº©Êîæ</div>
                    <div data-scaleset-x data-number data-number-value="100" class="df-lc fl1" style="flex: 1;">
                      <input data-input="range" type="range" min="1" max="200" value="100">
                      <input data-input="value" data-input-must="1,200" data-input-type="int" 
                      type="text" class="txt-c fl0 mar-l4" style="width: 30px;" value="100">
                      <div class="df-cc" data-input-unit>%</div>
                      <div data-input-reset data-btn="reset">
                        <btn-reset></btn-reset>
                      </div>
                    </div>
                  </div>
                  <div class="df-lc" data-skill-line="">
                    <div data-any="vw240" data-skill-btnname data-en-text="Scale Y">‰∏ä‰∏ãÁº©Êîæ</div>
                    <div data-scaleset-y data-number data-number-value="100" class="df-lc fl1" style="flex: 1;">
                      <input data-input="range" type="range" min="1" max="200" value="100">
                      <input data-input="value" data-input-must="1,200" data-input-type="int" 
                      type="text" class="txt-c fl0 mar-l4" style="width: 30px;" value="100">
                      <div class="df-cc" data-input-unit>%</div>
                      <div data-input-reset data-btn="reset">
                        <btn-reset></btn-reset>
                      </div>
                    </div>
                  </div>
                  <div class="df-lc" data-skill-line>
                    <div class="df-cc" data-btn="skill-main" data-en-text="Reset Scale Mark">Ê∏ÖÈô§Áº©ÊîæÊ†áËÆ∞</div>
                    <div data-reset-all class="df-cc" data-btn="skill-main" data-en-text="All Reset">ÈáçÁΩÆÂÖ®ÈÉ®</div>
                  </div>
                </div>
                <div class="fl1"  data-skill-sec="ClipByGrid">
                  <div data-skill-star="false">
                    <btn-star></btn-star>
                  </div>
                  <!--div data-clip-view class="fl0 df-cc" data-skill-line>
                    <div data-clip-select data-clip-w="2" data-clip-h="2" class="bod-d pos-r">
                      <div class="pos-a df" data-clip-set-box="w">
                        <div data-clip-set="x1" class="ovh fl0 pos-r"></div>
                        <div data-clip-set="x2" class="ovh fl0 pos-r"></div>
                        <div data-clip-set="x3" class="ovh fl0 pos-r"></div>
                        <div data-clip-set="x4" class="ovh fl0 pos-r"></div>
                      </div>
                      <div class="pos-a df-ffc" data-clip-set-box="h">
                        <div data-clip-set="y1" class="ovh fl0 pos-r"></div>
                        <div data-clip-set="y2" class="ovh fl0 pos-r"></div>
                        <div data-clip-set="y3" class="ovh fl0 pos-r"></div>
                        <div data-clip-set="y4" class="ovh fl0 pos-r"></div>
                      </div>
                    </div>
                  </div-->
                  <div class="df-lc" data-skill-line>
                    <div data-any="vw240" data-skill-btnname data-en-text="Stretch Zone LR">Â∑¶Âè≥Êãâ‰º∏Êï∞Èáè</div>
                    <div class="df-lc fl1 gap4" data-clip-w-set data-radio-value="0">
                      <div class="df-cc" data-radio data-radio-main="true" data-radio-data="0">--</div>
                      <div class="df-cc" data-radio data-radio-main="false" data-radio-data="1">x1</div>
                      <div class="df-cc" data-radio data-radio-main="false" data-radio-data="2">x2</div>
                    </div>
                  </div>
                  <div class="df-lc" data-skill-line>
                    <div data-any="vw240" data-skill-btnname data-en-text="Stretch Zone TB">‰∏ä‰∏ãÊãâ‰º∏Êï∞Èáè</div>
                    <div class="df-lc fl1 gap4" data-clip-h-set data-radio-value="0">
                      <div class="df-cc" data-radio data-radio-main="true" data-radio-data="0">--</div>
                      <div class="df-cc" data-radio data-radio-main="false" data-radio-data="1">x1</div>
                      <div class="df-cc" data-radio data-radio-main="false" data-radio-data="2">x2</div>
                    </div>
                  </div>
                  <div class="df-sc" data-skill-line>
                    <div class="df-lc w100" data-skill-more>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Image@2x Clip">Ê†ÖÊ†ºÂåñË£ÅÂàá</div>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Component Clip">ÁªÑ‰ª∂ÂåñË£ÅÂàá</div>
                    </div>
                  </div>
                </div>
                <div class="fl1"  data-skill-sec="AlterImageFill">
                  <div data-skill-star="false">
                    <btn-star></btn-star>
                  </div>
                  <div class="df-ffc df-cc" data-skill-line>
                    <div class="df-lc w100" data-skill-more>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Clear Filter">Ê∏ÖÈô§Ë∞ÉÊï¥</div>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Raw Size">ËøòÂéüÂ∞∫ÂØ∏</div>  
                    </div>
                    <div class="df-lc w100" data-skill-more>
                      <div class="df-cc" data-btn="skill-main" data-en-text="High Pass">È´òÂèçÂ∑Æ‰øùÁïô</div>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Invert Alpha">ÂèçËΩ¨ÈÄöÈÅì</div>
                    </div>
                    <div class="df-lc w100" data-skill-more>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Crop Blank">Â§ö‰ΩôÁ©∫ÁôΩË£ÅÂâ™</div>  
                      <div class="df-cc" data-btn="skill-main" data-en-text="Crop Current Scale">ÂΩìÂâçÊØî‰æãË£ÅÂâ™</div>  
                    </div>
                    <div data-skill-gap>
                      <span>----</span>
                      <span data-any="vw240" data-en-text="Last level default as reference layer">
                        ÈªòËÆ§‰ª•ÊúÄ‰ΩéÂõæÂ±Ç‰Ωú‰∏∫ÂèÇËÄÉ</span>
                      <span>----</span>
                    </div> 
                    <div class="df-lc w100" data-skill-more>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Same Filter">Áªü‰∏ÄË∞ÉÊï¥ÂèÇÊï∞</div>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Same Full">Áªü‰∏ÄÂ°´ÂÖÖÊ®°Âºè</div>  
                    </div>
                    <div class="df-lc w100" data-skill-more>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Same Clip Position">Áªü‰∏ÄË£ÅÂâ™‰ΩçÁΩÆ</div>
                      <div class="w100" data-any="vw240"></div>  
                    </div>
                  </div>
                </div>
                <div class="fl1" data-any="vw470" data-skill-sec data-skill-cover="end"></div>
              </div>
              <div class="w100 df" data-skill-col="3" data-skillmodule-zh="ÊñáÊú¨&ÂõæÂ±Ç" data-skillmodule="Text & Layer">
                <div class="fl1"  data-skill-sec="SplitText">
                  <div data-skill-star="false">
                    <btn-star></btn-star>
                  </div>
                  <div class="df-sc" data-skill-line>
                    <div class="df-cc" data-btn="skill-main" data-en-text="Split By SVG">ÊåâSVGÊãÜÂàÜ</div>
                  </div>
                  <div class="df-ffc bod-d gap4 pad4 mar-b4" >
                    <div data-split-tags class="w100 df-lc">
                      <div data-split-tag data-check-checked="true" class="df-lc">
                        <div style="width: 14px; height: 14px;">
                          <input id="split_chk_0" type="checkbox" checked>
                          <label for="split_chk_0" class="check">
                            <btn-check>
                            </btn-check>
                          </label>
                        </div>
                        <div data-split-info="name" data-en-text="Wrap">Êç¢Ë°å</div>
                      </div>
                      <div data-split-tag data-check-checked="true" class="df-lc">
                        <div style="width: 14px; height: 14px;">
                          <input id="split_chk_1" type="checkbox" checked>
                          <label for="split_chk_1" class="check">
                            <btn-check>
                            </btn-check>
                          </label>
                        </div>
                        <div data-split-info="name" data-en-text="FontSize">Â≠óÂè∑</div>
                      </div>
                      <div data-split-tag data-check-checked="true" class="df-lc">
                        <div style="width: 14px; height: 14px;">
                          <input id="split_chk_2" type="checkbox" checked>
                          <label for="split_chk_2" class="check">
                            <btn-check>
                            </btn-check>
                          </label>
                        </div>
                        <div data-split-info="name" data-en-text="Fills">Â°´ÂÖÖ</div>
                      </div>
                      <div data-split-tag data-check-checked="true" class="df-lc">
                        <div style="width: 14px; height: 14px;">
                          <input id="split_chk_3" type="checkbox" checked>
                          <label for="split_chk_3" class="check">
                            <btn-check>
                            </btn-check>
                          </label>
                        </div>
                        <div data-split-info="name" data-en-text="FillStyle">Â°´ÂÖÖÊ†∑Âºè</div>
                      </div>
                      <div data-split-tag data-check-checked="false" class="df-lc">
                        <div style="width: 14px; height: 14px;">
                          <input id="split_chk_5" type="checkbox">
                          <label for="split_chk_5" class="check">
                            <btn-check>
                            </btn-check>
                          </label>
                        </div>
                        <div data-split-info="name" data-en-text="FontName">Â≠ó‰Ωì(Âê´Â≠óÈáç)</div>
                      </div>
                      <div data-split-tag data-check-checked="false" class="df-lc">
                        <div style="width: 14px; height: 14px;">
                          <input id="split_chk_6" type="checkbox">
                          <label for="split_chk_6" class="check">
                            <btn-check>
                            </btn-check>
                          </label>
                        </div>
                        <div data-split-info="name" data-en-text="TextStyle">Â≠ó‰ΩìÊ†∑Âºè</div>
                      </div>
                    </div>
                  </div>
                  <div class="df-sc" data-skill-line>
                    <div class="df-cc" data-btn="skill-main" data-en-text="Split By Conditions">ÊåâÊù°‰ª∂ÊãÜÂàÜ</div>
                  </div>
                  <div class="df-lc" data-skill-line>
                    <div data-any="vw240" data-skill-btnname data-en-text="Symbol">ÂàÜÂâ≤Á¨¶</div>
                    <input id="split-word" data-input type="text">
                    <div data-splitword-set class="df-lc fl1 gap4" data-radio-value="Suf" style="min-width: 110px;">
                      <div class="df-cc" data-radio data-radio-main="true" data-radio-data="Suf" data-en-text="Suf">Êé•Âêé</div>
                      <div class="df-cc" data-radio data-radio-main="false" data-radio-data="Pre" data-en-text="Pre">Êé•Ââç</div>
                      <div class="df-cc" data-radio data-radio-main="false" data-radio-data="Null" data-en-text="Null">ÂâîÈô§</div>
                    </div>
                  </div>
                  <div class="df-sc" data-skill-line>
                    <div class="df-cc" data-btn="skill-main" data-en-text="Split By Symbol">ÊåâÂÖ≥ÈîÆËØçÊãÜÂàÜ</div>
                  </div>
                </div>
                <div class="fl1"  data-skill-sec="MergeText">
                  <div data-skill-star="false">
                    <btn-star></btn-star>
                  </div>
                </div>
                <div class="fl1"  data-skill-sec="LayersLayout">
                  <div data-skill-star="false">
                    <btn-star></btn-star>
                  </div>
                  <div class="df-ffc df-cc" data-skill-line>
                    <div class="df-lc w100" data-skill-more>
                      <div class="df-cc" data-btn-dblclick data-btn="skill-main" data-en-text="Arrange By Ratio">Ëá™Âä®ÈáçÊéí</div>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Auto Constraints">ÁÆÄÂçïÁ∫¶Êùü</div>  
                    </div>
                    <div class="df-lc w100" data-skill-more>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Reversing Index">ÂèçËΩ¨È°∫Â∫è</div>
                      <div class="df-cc" data-btn="skill-main" data-btn-dblclick data-en-text="Exchange Position">Ë∞ÉÊç¢‰ΩçÁΩÆ</div>  
                    </div>
                    <div class="df-lc w100" data-skill-more>
                      <div class="df-cc" data-btn="skill-main" data-btn-dblclick data-en-text="Divide To Frame">ÊãÜÂàÜÂà∞ÂÆπÂô®</div>
                      <div class="df-cc" data-btn="skill-main" data-btn-dblclick data-en-text="Put In Frame">ÂåÖË£πÂà∞ÂÆπÂô®</div>
                    </div>
                    <div data-skill-gap>
                      <span>----</span>
                      <span data-any="vw240" data-en-text="For components(may with auto layout)">
                        Âü∫‰∫éÁªÑ‰ª∂(ÈÉ®ÂàÜÈúÄÂú®Ëá™Âä®Â∏ÉÂ±Ä‰∏≠)</span>
                      <span>----</span>
                    </div> 
                    <div class="df-lc w100" data-skill-more>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Clone to Fill">Â°´ÂÖÖÂà∞ÂÆπÂô®</div>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Absolute & Fill">Ëá™ÈÄÇÂ∫îÂ∫ïÊ°Ü</div>  
                    </div>
                    <div class="df-lc w100" data-skill-more>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Heavy Chain">ÈáçÈìæÁªÑ‰ª∂</div>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Rebind Style">ÈáçÁªëÊ†∑Âºè</div>
                    </div>
                    <div class="df-lc w100" data-skill-more>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Clone Comp.">Â§çÂà∂ÊØçÁªÑ‰ª∂</div>
                      <div class="df-cc" data-btn-dblclick data-btn="skill-main" data-en-text="Release Comp.">Ëß£Èô§ÊØçÁªÑ‰ª∂</div>  
                    </div>
                  </div>
                </div>
                <div class="fl1" data-any="vw470" data-skill-sec data-skill-cover="end"></div>
              </div>
              <div class="w100 df" data-skill-col="4" data-skillmodule-zh="Áü¢Èáè&ÁîüÊàê" data-skillmodule="Vector & Generate">
                <div class="fl1"  data-skill-sec="GetPath">
                  <div data-skill-star="false">
                    <btn-star></btn-star>
                  </div>
                  <div class="df-ffc df-cc" data-skill-line>
                    <div class="df-lc w100" data-skill-more>
                      <div class="df-cc" data-btn-dblclick data-btn="skill-main" data-en-text="Split Path">ÊãÜÂàÜË∑ØÂæÑ</div>
                    </div>
                  </div>
                </div>
                <div class="fl1"  data-skill-sec="GetEditableSVG">
                  <div data-skill-star="false">
                    <btn-star></btn-star>
                  </div>
                  <div class="df-ffc df-cc" data-skill-line>
                    <div class="df-lc w100" data-skill-more>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Clone As SVG">‰ª•SVGÂÖãÈöÜ</div>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Get SVG">Ëé∑ÂèñSVG</div>
                    </div>
                  </div>
                </div>
                <div class="fl1"  data-skill-sec>
                  <div data-skill-star="false">
                    <btn-star></btn-star>
                  </div>
                  <div class="df-ffc df-cc" data-skill-line>
                    <div class="df-lc w100" data-skill-more>
                      <div class="df-cc" data-btn="skill-main" data-en-text></div>
                    </div>
                  </div>
                </div>
                <div class="fl1" data-any="vw470" data-skill-sec data-skill-cover="end"></div>
              </div>
              <div class="w100 df" data-skill-col="5" data-skillmodule-zh="Ê†∑Âºè&ÂéüÂûã" data-skillmodule="Style & Prototype">
                <div class="fl1"  data-skill-sec="ShadowAsStroke">
                  <div data-skill-star="false">
                    <btn-star></btn-star>
                  </div>
                  <div class="df-lc" data-skill-line>
                    <div data-any="vw240" data-skill-btnname data-en-text="Mum & Width">ÊèèËæπÊï∞ÈáèÂíåÁ≤óÁªÜ</div>
                    <div data-shadow-stroke-num class="df-lc pos-r fl1 gap4" data-select data-select-close data-select-value="x4" style="--op-pad-l: 1ch;">
                      <input id="select-value-3" type="text" data-select-input readonly value="x4">
                      <input id="select-show-3" data-select-pick type="checkbox">
                      <label for="select-show-3" class="show-next wh100 pos-a" style="top:0; right: 0;"></label>
                      <div data-select-options class="df-ffc pos-a w100 noscrollbar" style="white-space: wrap; display: none; top:24px;">
                        <div data-option="option" data-option-main="true" data-option-value="x4">x4</div>
                        <div data-option="option" data-option-main="false" data-option-value="x8">x8</div>
                        <div data-option="option" data-option-main="false" data-option-value="x12">x12</div>
                      </div>
                    </div>
                    <div class="df-lc fl1" >
                      <input id="input-shadow-stroke-width" type="text" value="1" data-input="" data-input-type="int" data-input-must="1,10000" style=" text-align: center;">
                      <div class="df-cc" data-input-unit="">px</div>
                    </div>
                  </div>
                  <div class="df-lc" data-skill-line>
                    <div data-any="vw240" data-skill-btnname data-en-text="Color">ÊèèËæπÈ¢úËâ≤</div>
                    <div data-shadow-stroke-color data-color data-color-hex="#888888" 
                      data-color-rgb="rgb(136,136,136)" data-color-hsl="hsl(0,0%,53%)" 
                      data-color-hsv="hsv(0,0%,53%)" data-colorcard-x="left" 
                      data-colorcard-y="bottom" class="df-lc fl1 pos-r gap4" style="z-index: 1;">
                        <div data-input="colorpick" style="height:20px; cursor: pointer; border: 1px solid var(--boxBod); border-radius: 5px;">
                          <btn-color></btn-color>
                        </div>
                        <input id="colorvalue-2" class="fl1" type="text" data-input="hex" value="#888888">
                        <div data-input="colortype" data-colortype-mode="hex" class="colortype"></div>
                        <card-colorpick></card-colorpick>
                    </div>
                  </div>
                  <div class="df-ffc df-cc" data-skill-line>
                    <div class="df-lc w100" data-skill-more>
                      <div class="df-cc" data-btn="skill-main" data-en-text="Code Example">‰ª£Á†ÅÁ§∫‰æã</div>
                      <div class="df-cc" data-btn-dblclick  data-btn="skill-main" data-en-text="Add Shadow-stroke">ÁîüÊàê‰º™ÊèèËæπ</div>
                    </div>
                  </div>
                </div>
                <div class="fl1"  data-skill-sec="QRcodeToSVG">
                  <div data-skill-star="false">
                    <btn-star></btn-star>
                  </div>
                  <div data-selects-must data-qrcode-view-box class="w100 df-lc pos-r tex-pixelbg mar-b8 ovh">
                    <div class="wh100 bsb pos-a pad10 df-cc" style="top: 0; left: 0;">
                      <div data-qrcode-grid class="w100 pos-r bsb">
                        <div data-qrcode-grid-resize="true" class="fl0 bsb pos-a"></div>
                      </div>
                    </div>
                    <div class="w100 df-cc mar-0a" data-qrcode-view >
                    <!--‰∫åÁª¥Á†Å-->
                    </div>
                  </div>
                  <div class="df-lc" data-skill-line>
                    <div data-any="vw240" data-skill-btnname data-en-text="Grid of QR">ÁΩëÊ†ºÊï∞</div>
                    <div data-qrcode-grid-num class="df-lc fl1" data-int-value="21" >
                      <input id="input-qrcode-grid" type="text" value="21" data-input="" data-input-type="int" data-input-must="10,60" style="text-align: center;">
                      <div class="df-cc" data-input-unit="">‚ñö</div>
                    </div>
                    <div data-qrcode-set class="df-lc fl1 gap4" data-radio-value="SMPL" style="min-width:80px;">
                      <div class="df-cc" data-radio data-radio-main="true" data-radio-data="SMPL" data-en-text="SMPL">ÁÆÄÂçï</div>
                      <div class="df-cc" data-radio data-radio-main="false" data-radio-data="CMPLX" data-en-text="CMPLX">Â§çÊùÇ</div>
                    </div>
                  </div>
                  <div class="df-lc" data-skill-line data-selects-must="false">
                    <div data-any="vw240" data-skill-btnname data-en-text="Code">Êï∞ÊçÆ</div>
                    <input type="text" id="input-qrcode-data" value="https://www.google.com">
                  </div>
                  <div class="df-cc" data-skill-line data-selects-must="false">
                    <div class="df-cc" data-btn="skill-main" data-selects-must="false" data-en-text="Create New QRcode">ÁîüÊàêÊñ∞‰∫åÁª¥Á†Å</div>
                    <div class="df-cc" data-btn="skill-main" data-selects-must data-en-text="Convert to SVG">ËΩ¨‰∏∫Áü¢ÈáèÁΩëÊ†º</div>
                  </div>
                </div>
                <div class="fl1" data-any="vw470" data-skill-sec data-skill-cover="end"></div>
              </div>
            </div>
          </div>
          <!--ÈÄâ‰∏≠‰ø°ÊÅØ-->
          <div class="df-lc noscrollbar bsb" data-selects-node data-scroll style="padding: 0 10px;">
            <span class="df-lc mar-0a" data-selects-info-box>
              <div style="width: 12px; height: 12px;">
                <btn-hasselect></btn-hasselect>         
              </div>
              &nbsp;
              <span data-selects-info="main"></span>
              <span class="df-cc" data-selects-info="more">
                &nbsp;+&nbsp;
                <span data-selects-info="sec"></span>
                ..&nbsp;
                <span data-selects-info="num"></span>
                &nbsp;
                <span data-en-text="layers">ÂõæÂ±Ç</span>
              </span>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--Â∫ïÈÉ®-->
  <div id="bottom" class="df-sc w100 pos-a">
    <div data-scroll class="df noscrollbar" data-tab="auto" data-tab-for="page" style="padding: 6px 4px;">
      <!--Ëá™Âä®Â°´ÂÖÖtab-->
    </div>
    <div data-mainset-bottom class="df-lc gap4 mar-l2">
      <div id="btn-theme-2">
        <input id="theme-2" data-theme-check type="checkbox" checked>
        <label for="theme-2" class="btn-theme" style="position: relative;">
          <btn-theme></btn-theme>
        </label>
      </div>
      <input id="language-2" data-language-check type="checkbox" checked/>
      <label for="language-2" class="switch pos-a" style="--swi-h:18px; --swi-r:6px; --swi-af:var(--mainColor);">
        <div class="pos-a" data-swi-icon style="top:3px; left: 2px; width: 11px; height: 11px; z-index: 2;">
          <svg class="mar-a0" style="--mar-lr:1px;" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 22 22">
            <path fill="var(--boxBod)" d="M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2"></path>
          </svg>
        </div>
      </label>
    </div>

  </div>
  <!--Êèí‰ª∂Á´ØË∞ÉÊï¥Â§ßÂ∞è-->
  <div data-resize-window></div>
  
  <script src="https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@09123921fc553030929e16042806edc1ff5f87f3/builds/yn_icon.js"></script>
  <script src="https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@09123921fc553030929e16042806edc1ff5f87f3/builds/yn_comp.js"></script>
  <script src="https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@09123921fc553030929e16042806edc1ff5f87f3/builds/yn_tool.js"></script>
  <script src="https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@09123921fc553030929e16042806edc1ff5f87f3/publics/graph.js"></script>
  <script src="https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@09123921fc553030929e16042806edc1ff5f87f3/publics/help_data.js"></script>
  <script src="https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@09123921fc553030929e16042806edc1ff5f87f3/publics/other/compressor.min.js"></script>
  <script src="https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@09123921fc553030929e16042806edc1ff5f87f3/publics/other/pako.min.js"></script>
  <script src="https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@09123921fc553030929e16042806edc1ff5f87f3/publics/other/UPNG.js"></script>
  <script src="https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@09123921fc553030929e16042806edc1ff5f87f3/publics/other/FileSaver.min.js"></script>
  <script src="https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@09123921fc553030929e16042806edc1ff5f87f3/publics/other/jszip.js"></script>
  <script src="https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@09123921fc553030929e16042806edc1ff5f87f3/publics/other/marked.umd.js"></script>
  <script src="https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@09123921fc553030929e16042806edc1ff5f87f3/publics/other/qrcode.min.js"></script>
  <script src="https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@09123921fc553030929e16042806edc1ff5f87f3/publics/other/dom_to_img.js"></script>
  <!-- Supabase SDK -->
  <script src="https://cdn.jsdelivr.net.cn/gh/YNYU01/YNYU_SET@09123921fc553030929e16042806edc1ff5f87f3/publics/other/supabase-js@2.js"></script>
  <!-- INLINE_JS -->
  <script>

let skillSecInfo = [
  {
    id: 'InSituRasterize',
    name: ["ÂéüÂú∞Ê†ÖÊ†ºÂåñ","in-situ rasterize"],
  },
  {
    id: 'EaseTransform',
    name: ["ÊñúÂàáÊãâ‰º∏","ease transform"],
  },
  {
    id: 'UniformScale',
    name: ["Á≠âÊØîÁº©Êîæ","uniform scale"],
  },
  {
    id: 'AlterImageFill',
    name: ["ÂõæÁâáÂ°´ÂÖÖ‰øÆÊîπ","alter image fill"],
  },
  {
    id: 'ClipByGrid',
    name: ["ÂÆ´Ê†ºË£ÅÂàá","clip by grid"],
  },
  {
    id: 'SplitText',
    name: ["ÊãÜÂàÜÊñáÊú¨","split text"],
  },
  {
    id: 'MergeText',
    name: ["ÂêàÂπ∂ÊñáÊú¨","merge text"],
  },
  {
    id: 'LayersLayout',
    name: ["ÂõæÂ±Ç&Â∏ÉÂ±Ä","layers layout"],
  },
  {
    id: 'GetPath',
    name: ["ÊèêÂèñË∑ØÂæÑ","get path"],
  },
  {
    id: 'GetEditableSVG',
    name: ["Ëé∑ÂèñÂèØÁºñËæëSVG","get editable SVG"],
  },
  {
    id: 'ShadowAsStroke',
    name: ["Èò¥ÂΩ±‰º™ÊèèËæπ","shadow as stroke"],
  },
  {
    id: 'QRcodeToSVG',
    name: ["‰∫åÁª¥Á†ÅÁü¢ÈáèÂåñ","qrcode to svg"],
  },
]

let toUserTips = {
  worktime: ["üîí‰∏ãÁè≠Êó∂Èó¥‰∏çÂª∫ËÆÆÂ∑•‰Ωú~","üîíYou shouldn't work after work!"],
  random: [
    ["Ê§ÖÂ≠êËØ¥Ôºö‰Ω†ËØ•Ëµ∑Êù•Ëµ∞Ëµ∞‰∫Ü~","Your chair says: time to walk~"],
    ["Á¥Ø‰∫ÜÂ∞±Ê≠áÊ≠á, ÊïàÁéá‰ºöÊõ¥È´ò~","Take a break, boost efficiency~"],
    ["ÂºÄÊ∫êËÆ©ËÆæËÆ°Êõ¥ÁæéÂ•Ω~","Open source makes design better~"],
    ["ÊèêÊïàÊòØ‰∏∫‰∫ÜÊõ¥Â•ΩÂú∞ÁîüÊ¥ª~","Efficiency for a better life~"],
    ["Âùê‰πÖ‰∫Ü, Ëµ∑Êù•Êâ≠‰∏ÄÊâ≠~","Sitting too long? Time to move~"],
    ["Â∑•‰ΩúËôΩÈáçË¶Å, ‰ºëÊÅØ‰πüÂøÖË¶Å~","Work matters, but so does rest~"],
    ["ÊîØÊåÅÂºÄÊ∫ê, ËÆ©ÂàõÊÑèËá™Áî±~","Support open source, free creativity~"],
    ["ÊïàÁéáÊèêÂçá, ÊãíÁªùÂÜÖÂç∑~","Boost efficiency, not burnout~"],
  ],
};

let richDoc = new RICH_DOC();

let helpData = {
  create: richDoc.doc.toolsset.create.help,
  export: richDoc.doc.toolsset.export.help,
  editor: richDoc.doc.toolsset.editor.help,
  variable: richDoc.doc.toolsset.variable.help,
  sheet: richDoc.doc.toolsset.sheet.help,
};

const UI_SIZES = {
  MINI: [208, 460],
  NORMAL: [300, 660],
  BIG: [620, 660]
};
const UI_MINI = UI_SIZES.MINI;
const UI = UI_SIZES.NORMAL;
const UI_BIG = UI_SIZES.BIG;

const DELAY = {
  DEBOUNCE: 500,
  SEARCH: 500,
  RESIZE_SAVE: 500,
  SKILL_CLICK: 500,
  INIT: 100,
  FONT_LOAD: 100,
  TIPS_INTERVAL: 12000,
  SIDEBAR_CLOSE: 280,
  FIND_BOX_REMOVE: 2000,
  CONVERT_TAGS: 100
};

const MESSAGES = {
  FILE_TYPE_ERROR: ['Âè™ËÉΩ‰∏ä‰º†ÂêåÁ±ªÂûãÊñá‰ª∂', 'The file type must meet the requirements'],
  READING: ['ËØªÂèñ‰∏≠, ËØ∑ËÄêÂøÉÁ≠âÂæÖ', 'Reading, please wait a moment'],
  WORKTIME: ['Â∑•‰ΩúÊó∂Èó¥ÈôêÂà∂', 'Work time restriction'],
  TABLE_TITLE_WORDS_ERROR: ['ËØ∑Áî®ÊåáÂÆöÂçïËØç, Âπ∂Áî®ÈÄóÂè∑ÈöîÂºÄ', 'Must use example words and separated by commas'],
  TABLE_TITLE_REQUIRED_ERROR: ['ÂøÖÈ°ªÂåÖÂê´name„ÄÅw„ÄÅh', 'Must include name, w, h'],
  TABLE_TITLE_REPEAT_ERROR: ['ÂçïËØçÈáçÂ§ç', 'The word is repeated'],
  TABLE_DATA_ERROR: ['Ë°®Ê†ºÊï∞ÊçÆÊ†ºÂºèÈîôËØØ, ËØ∑Ê£ÄÊü•Êñá‰ª∂ÂÜÖÂÆπ', 'Table data format error, please check file content'],
  ZY_DATA_ERROR: ['ËµÑÊ∫êÁõÆÂΩïÊï∞ÊçÆÊ†ºÂºèÈîôËØØ, ËØ∑Ê£ÄÊü•Êñá‰ª∂ÂÜÖÂÆπ', 'Catalogue data format error, please check file content']
};

const TABLE_STYLE = [
  {th:[0,0,0,0,1],td:[0,0,0,0,'rowSpace']},
  {th:[0,0,0,0,'columnSpace'],td:[0,0,0,0,'columnSpace']},
  {th:[0,0,0,0,1],td:[0,0,0,0,0]},
  {th:[0,0,0,0,1],td:[1,0,1,0,0]},
  {th:[0,0,0,0,1],td:[0,1,0,1,0]},
  {th:[0,0,0,0,1],td:[1,1,1,1,0]},
  {th:[0,0,0,0,0],td:[0,0,0,0,0]},
  {th:[1,0,1,0,0],td:[1,0,1,0,0]},
  {th:[0,1,0,1,0],td:[0,1,0,1,0]},
  {th:[1,1,1,1,0],td:[1,1,1,1,0]},
];

const AUTH_CONFIG = {

  USE_SUPABASE: true,
  SUPABASE_URL: 'https://darbnumfpfrscqgyeiqe.supabase.co',
  SUPABASE_ANON_KEY: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRhcmJudW1mcGZyc2NxZ3llaXFlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0OTU1NjksImV4cCI6MjA4MDA3MTU2OX0.UDvrmk8lnumZAu9nugTtEl7WGzxDNhUSfllrCFF4Ws4',

  API_BASE_URL: null,

  STORAGE_KEY_USER: 'toolsSetFig_user',
  STORAGE_KEY_USERS: 'toolsSetFig_users'
};

const AUTH_I18N = {
  zh: {
    invalidEmail: 'ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÈÇÆÁÆ±Âú∞ÂùÄ',
    usernameTooShort: 'Áî®Êà∑ÂêçËá≥Â∞ëÈúÄË¶Å2‰∏™Â≠óÁ¨¶',
    passwordTooShort: 'ÂØÜÁ†ÅËá≥Â∞ëÈúÄË¶Å6‰∏™Â≠óÁ¨¶',
    supabaseNotInitialized: 'Supabase Êú™ÂàùÂßãÂåñÔºåËØ∑Ê£ÄÊü•ÈÖçÁΩÆÂíåÁΩëÁªúËøûÊé•',
    emailAlreadyRegistered: 'ËØ•ÈÇÆÁÆ±Â∑≤Ê≥®ÂÜåÔºåËØ∑Áõ¥Êé•ÁôªÂΩï',
    rateLimitError: 'ËØ∑Ê±ÇËøá‰∫éÈ¢ëÁπÅÔºåËØ∑Á≠âÂæÖ {0} ÁßíÂêéÂÜçËØï',
    invalidEmailFormat: 'ÈÇÆÁÆ±Ê†ºÂºè‰∏çÊ≠£Á°Æ',
    registrationFailed: 'Ê≥®ÂÜåÂ§±Ë¥•: {0}',
    unknownError: 'Êú™Áü•ÈîôËØØ',
    registrationFailedRetry: 'Ê≥®ÂÜåÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',
    registrationSuccess: 'Ê≥®ÂÜåÊàêÂäüÔºÅËØ∑Ê£ÄÊü•ÈÇÆÁÆ±Âπ∂ÁÇπÂáªÁ°ÆËÆ§ÈìæÊé•‰ª•ÂÆåÊàêÊ≥®ÂÜå„ÄÇ',
    registrationSuccessShort: 'Ê≥®ÂÜåÊàêÂäüÔºÅËØ∑Ê£ÄÊü•ÈÇÆÁÆ±Âπ∂ÁÇπÂáªÁ°ÆËÆ§ÈìæÊé•„ÄÇ',
    registrationFailedConfig: 'Ê≥®ÂÜåÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü• Supabase ÈÖçÁΩÆÊàñÁΩëÁªúËøûÊé•',
    emailAlreadyRegisteredLocal: 'ËØ•ÈÇÆÁÆ±Â∑≤Âú®Êú¨Âú∞Ê≥®ÂÜåÔºåËØ∑ÂÖàÊ∏ÖÈô§ÁºìÂ≠ò',
    enterEmailPassword: 'ËØ∑ËæìÂÖ•ÈÇÆÁÆ±ÂíåÂØÜÁ†Å',
    emailPasswordIncorrect: 'ÈÇÆÁÆ±ÊàñÂØÜÁ†ÅÈîôËØØ',
    loginFailedRetry: 'ÁôªÂΩïÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',
    fillAllRequired: 'ËØ∑Â°´ÂÜôÊâÄÊúâÂøÖÂ°´È°π',
    passwordsNotMatch: '‰∏§Ê¨°ËæìÂÖ•ÁöÑÂØÜÁ†Å‰∏ç‰∏ÄËá¥',
    registering: 'Ê≥®ÂÜå‰∏≠...',
    localCacheCleared: 'Êú¨Âú∞ÁºìÂ≠òÂ∑≤Ê∏ÖÈô§',
    usernameInvalidChars: 'Áî®Êà∑ÂêçÂè™ËÉΩÂåÖÂê´Â≠óÊØç„ÄÅÊï∞Â≠ó„ÄÅ‰∏ãÂàíÁ∫øÂíåËøûÂ≠óÁ¨¶Ôºå‰∏î‰∏çËÉΩÁ∫ØÊï∞Â≠óÊàñÁ¨¶Âè∑',
    usernameInvalidLength: 'Áî®Êà∑ÂêçÈïøÂ∫¶ÂøÖÈ°ªÂú®2-20‰∏™Â≠óÁ¨¶‰πãÈó¥',
    passwordInvalidChars: 'ÂØÜÁ†ÅÂè™ËÉΩÂåÖÂê´Â≠óÊØç„ÄÅÊï∞Â≠óÂíåÂ∏∏ËßÅÁ¨¶Âè∑',
    passwordInvalidLength: 'ÂØÜÁ†ÅÈïøÂ∫¶ÂøÖÈ°ªÂú®6-50‰∏™Â≠óÁ¨¶‰πãÈó¥'
  },
  en: {
    invalidEmail: 'Please enter a valid email address',
    usernameTooShort: 'Username must be at least 2 characters',
    passwordTooShort: 'Password must be at least 6 characters',
    supabaseNotInitialized: 'Supabase not initialized, please check configuration and network connection',
    emailAlreadyRegistered: 'This email is already registered, please log in directly',
    rateLimitError: 'Too many requests, please wait {0} seconds and try again',
    invalidEmailFormat: 'Invalid email format',
    registrationFailed: 'Registration failed: {0}',
    unknownError: 'Unknown error',
    registrationFailedRetry: 'Registration failed, please try again',
    registrationSuccess: 'Registration successful! Please check your email and click the confirmation link to complete registration.',
    registrationSuccessShort: 'Registration successful! Please check your email and click the confirmation link.',
    registrationFailedConfig: 'Registration failed, please check Supabase configuration or network connection',
    emailAlreadyRegisteredLocal: 'This email is already registered locally, please clear cache first',
    enterEmailPassword: 'Please enter email and password',
    emailPasswordIncorrect: 'Email or password incorrect',
    loginFailedRetry: 'Login failed, please try again',
    fillAllRequired: 'Please fill in all required fields',
    passwordsNotMatch: 'Passwords do not match',
    registering: 'Registering...',
    localCacheCleared: 'Local cache cleared',
    usernameInvalidChars: 'Username can only contain letters, numbers, underscores and hyphens, and cannot be pure numbers or symbols',
    usernameInvalidLength: 'Username must be between 2-20 characters',
    passwordInvalidChars: 'Password can only contain letters, numbers and common symbols',
    passwordInvalidLength: 'Password must be between 6-50 characters'
  }
};

  


const DOM = (() => {
  const cache = new Map();

  function query(selector, useCache = true) {
    if (useCache && cache.has(selector)) {
      return cache.get(selector);
    }
    const element = document.querySelector(selector);
    if (element && useCache) {
      cache.set(selector, element);
    }
    return element;
  }

  function queryAll(selector, useCache = true) {
    const cacheKey = `all:${selector}`;
    if (useCache && cache.has(cacheKey)) {
      const cached = cache.get(cacheKey);

      if (cached.length > 0 && cached[0].isConnected) {
        return cached;
      }

      cache.delete(cacheKey);
    }
    const elements = document.querySelectorAll(selector);

    if (elements.length > 0 && useCache) {
      cache.set(cacheKey, elements);
    }
    return elements;
  }

  function getById(id, useCache = true) {
    const cacheKey = `id:${id}`;
    if (useCache && cache.has(cacheKey)) {
      return cache.get(cacheKey);
    }
    const element = document.getElementById(id);
    if (element && useCache) {
      cache.set(cacheKey, element);
    }
    return element;
  }

  const elements = {

    sideMix: () => query('[data-side-mix]'),
    sideMask: () => query('[data-side-mask]'),
    btnMore: () => getById('btn-more'),
    btnResize: () => query('[data-resize-window]'),
    btnBig: () => getById('big'),
    TV_text: () => query('[data-tv-text]'),

    dailog: () => query('[data-dailog]'),
    dailogBox: () => query('[data-dailog-box]'),
    dailogImg: () => query('[data-dailogimg]'),
    dailogImgBox: () => query('[data-dailogimg-box]'),
    dailogSearchBox: () => query('[data-dailogsearch-box]'),
    dailogLogin: () => query('[data-dailoglogin]'),
    dailogLoginBox: () => query('[data-dailoglogin-box]'),

    dropUp: () => query('[data-drop="upload"]'),
    fileInfo: () => query('[data-file-info]'),
    userImg: () => getById('input-user-img'),
    userTable: () => getById('input-user-table'),
    userZy: () => getById('input-user-zy'),
    userText: () => getById('upload-textarea'),
    skewscaleViewPick: () => getById('skewscale-view-pick'),

    userTableTitle: () => getById('input-user-table-title'),
    frameName: () => getById('input-framename'),
    pixelScale: () => getById('input-pixelScale'),
    uniformS: () => getById('uniform-set-s'),
    uniformW: () => getById('uniform-set-w'),
    uniformH: () => getById('uniform-set-h'),

    skillSearchInput: () => getById('skillsearch'),
    skillTypeBox: () => query('[data-skilltype-box]'),
    skillAllBox: () => query('[data-skills-box]'),
    skillSecNode: () => queryAll('[data-skill-sec]'),
    skillStar: () => queryAll('[data-skill-star]'),
    skillAllModel: () => queryAll('[data-skillmodule]'),
    skillStarModel: () => query('[data-skillmodule="Useful & Starts"]'),
    skillBtnMain: () => queryAll('[data-btn="skill-main"]'),

    createTagsBox: () => query('[data-create-tags]'),
    cataloguesBox: () => query('[data-create-catalogues]'),
    exportTagsBox: () => query('[data-export-tags]'),
    clearCreateTags: () => {
      const box = query('[data-create-tags-box]');
      return box ? box.querySelector('btn-close')?.parentNode : null;
    },

    editorViewbox: () => query('[data-editor-viewbox]'),
    imgnumSet: () => getById('imgnum-set'),

    btnHelpDoc: () => query('[data-btn="help"]'),
    btnHelp: () => queryAll('[data-help]'),
    convertTags: () => getById('upload-set-1'),
    getTableText: () => getById('upload-set-2'),
    templateBtn: () => getById('upload-set-3'),
    chkTablestyle: () => getById('chk-tablestyle'),
    chkSelectcomp: () => getById('chk-selectcomp'),
    createAnyBtn: () => query('[data-create-any]'),
    exportAnyBtn: () => query('[data-export-any]'),
    createTableBtn: () => query('[data-create-table]'),
    tableStyleSet: () => query('[data-tablestyle-set]'),
    styleTosheet: () => query('[data-en-text="Style To Sheet"]'),
    sheetTostyle: () => query('[data-en-text="Sheet To Style"]'),
    btnLinkstyle: () => query('[data-linkstyle-add]'),
    btnSelectstyle: () => query('[data-selectstyle-add]'),
    btnVariables: () => query('[data-variables-add]'),

    manageLinkstyleList: () => query('[data-manage-linkstyle-list]'),
    manageSelectstyleList: () => query('[data-manage-selectstyle-list]'),
    manageVariablesList: () => query('[data-manage-variables-list]'),

    selectInfoBox: () => queryAll('[data-selects-node]'),

    scaleSetX: () => getElementMix('data-scaleset-x')?.querySelector('[data-input="value"]'),
    scaleSetY: () => getElementMix('data-scaleset-y')?.querySelector('[data-input="value"]'),
    skewSetX: () => getElementMix('data-skewset-x')?.querySelector('[data-input="value"]'),
    skewSetY: () => getElementMix('data-skewset-y')?.querySelector('[data-input="value"]'),
    skewRangeX: () => getElementMix('data-skewset-x')?.querySelector('[data-input="range"]'),
    skewRangeY: () => getElementMix('data-skewset-y')?.querySelector('[data-input="range"]'),
    scaleRangeX: () => getElementMix('data-scaleset-x')?.querySelector('[data-input="range"]'),
    scaleRangeY: () => getElementMix('data-scaleset-y')?.querySelector('[data-input="range"]'),
  };

  return new Proxy({}, {
    get(target, prop) {
      if (elements[prop]) {
        return elements[prop]();
      }
      return undefined;
    }
  });
})();

const State = (() => {
  const state = {

    skillModel: [],
    isSkillScroll: true,
    skillsSearch: [],

    tableStyle: TABLE_STYLE,

    createImageInfo: [],
    createTableInfo: [],
    cataloguesInfo: [],

    exportImageInfo: [],

    selectNodeInfo: [],

    editorInfo: {
      preview: '',
      set: [],
      new: [],
    },

    isResize: false,
    reStartW: null,
    reStartH: null,
    reStartX: null,
    reStartY: null,
    textareaLineNum: 20,

    imageType: [],
    tableType: [],
    zyType: [],
    tableTitleMust: [],
    frameNmaeSelect: [],
  };

  return {
    get(key) {
      return state[key];
    },
    set(key, value) {
      state[key] = value;
    },
    reset(key) {
      if (Array.isArray(state[key])) {
        state[key] = [];
      } else if (typeof state[key] === 'object' && state[key] !== null) {
        state[key] = {};
      } else {
        state[key] = null;
      }
    }
  };
})();

(function initSkillModel() {
  const skilltypeNameNode = DOM.skillAllModel;
  if (skilltypeNameNode) {
    skilltypeNameNode.forEach(item => {
      let name1 = item.getAttribute('data-skillmodule-zh');
      name1 = name1 ? name1 : item.textContent.trim();
      let name2 = item.getAttribute('data-skillmodule');
      State.get('skillModel').push([name1, name2]);
    });
  }
})();

(function initFileTypes() {
  if (DOM.userImg) {
    State.set('imageType', DOM.userImg.getAttribute('accept')?.split(',').map(item => item.replace('.','')) || []);
  }
  if (DOM.userTable) {
    State.set('tableType', DOM.userTable.getAttribute('accept')?.split(',').map(item => item.replace('.','')) || []);
  }
  if (DOM.userZy) {
    State.set('zyType', DOM.userZy.getAttribute('accept')?.split(',').map(item => item.replace('.','')) || []);
  }
  if (DOM.userTableTitle) {
    State.set('tableTitleMust', DOM.userTableTitle.getAttribute('placeholder')?.split(',') || []);
  }
  if (DOM.frameName?.nextElementSibling) {
    const options = DOM.frameName.nextElementSibling.querySelectorAll('[data-option="option"]');
    const frameNmaeSelect = [];
    options.forEach(item => {
      frameNmaeSelect.push(item.getAttribute('data-option-value'));
    });
    State.set('frameNmaeSelect', frameNmaeSelect);
  }
})();

const getState = (key) => State.get(key);

const setState = (key, value) => State.set(key, value);

let skillModel = State.get('skillModel');
let isSkillScroll = State.get('isSkillScroll');
let skillsSearch = State.get('skillsSearch');
let tableStyle = State.get('tableStyle');
let CreateImageInfo = State.get('createImageInfo');
let CreateTableInfo = State.get('createTableInfo');
let CataloguesInfo = State.get('cataloguesInfo');
let ExportImageInfo = State.get('exportImageInfo');
let SelectNodeInfo = State.get('selectNodeInfo');
let EditorInfo = State.get('editorInfo');
let isResize = State.get('isResize');
let textareaLineNum = State.get('textareaLineNum');
let imageType = State.get('imageType');
let tableType = State.get('tableType');
let zyType = State.get('zyType');
let tableTitleMust = State.get('tableTitleMust');
let frameNmaeSelect = State.get('frameNmaeSelect');

function createImageObjectURL(data, format = 'png'){
  if (!data) return null;
  const blob = data instanceof Blob ? data : new Blob([data], {type: `image/${format}`});
  return URL.createObjectURL(blob);
};

function revokeImageObjectURL(url){
  if (url && url.startsWith('blob:')) {
    URL.revokeObjectURL(url);
  }
};

window.addEventListener('load',()=>{
  let time = getTime('HH')[0];
  if(time*1 > 20 && !PULGIN_LOCAL){
    nullPage();
    ISWORK_TIME = false;
    addToUserTips('worktime');
    return;
  };
  setTimeout(() => {

;
    if(window.innerWidth < 300){
      TV_MOVE = true;
    } else {
      TV_MOVE = false;
    };
    reTV();
    loadFont();
    reSkillNum();
    addSkillTitle();
    addToUserTips();
    setInterval(() => {
      addToUserTips();
    }, DELAY.TIPS_INTERVAL);
    addSearchs();
  }, DELAY.INIT);
});

let hrefDoc = DOM.btnHelpDoc?.getAttribute('href');
if (hrefDoc && DOM.btnHelpDoc) {
  DOM.btnHelpDoc.setAttribute('href',`${hrefDoc}?type=fig&lan=${ROOT.getAttribute('data-language')}`);
}
let hrefTemplate = DOM.templateBtn?.getAttribute('href');
if (hrefTemplate && DOM.templateBtn) {
  DOM.templateBtn.setAttribute('href',`${hrefTemplate}?lan=${ROOT.getAttribute('data-language')}`);
}

getElementMix('language-1')?.addEventListener('change',()=>{
  if (DOM.btnHelpDoc && hrefDoc) {
    DOM.btnHelpDoc.setAttribute('href',`${hrefDoc}?type=fig&lan=${ROOT.getAttribute('data-language')}`);
  }
  if (DOM.templateBtn && hrefTemplate) {
    DOM.templateBtn.setAttribute('href',`${hrefTemplate}?lan=${ROOT.getAttribute('data-language')}`);
  }
});

window.addEventListener('resize',debounce(()=>{
  if(window.innerWidth < 300){
    TV_MOVE = true;
  } else {
    TV_MOVE = false;
  };
}, DELAY.DEBOUNCE, true));

window.addEventListener('message',(message)=>{
  let isPluginMessge = message.data && message.data.type && message.data.type == 'figma-ex-page-info';
  if(!isPluginMessge){
    let messages = message.data.pluginMessage.pluginMessage || ['',''];
    let info = messages[0];
    let type = messages[1];
    if(typeof(info) == 'string' && (info.split('[').length > 1 || info.split('{').length > 1)){
      info = JSON.parse(info);
    }
    if(ISWORK_TIME && info){
      switch (type){
        case 'selectInfo': reSelectInfo(info);break
        case 'selectInfoMain': addTableText(tableObjToText(info));break
        case 'selectComp': reSelectComp(info);break
        case 'selectDatas': reSelectDatas(info);break
        case 'exportImgInfo': addTag('export-img',info);break
        case 'editorView': addEditorView(info);break
        case 'styleInfo': reStyleInfo(info);break
        case 'styleSheetInfo': reStyleSheetInfo(info);break
        case 'variableInfo': reVariableInfo(info);break
        case 'variableSheetInfo': reVariableSheetInfo(info);break
        case 'editImage': editImage(info);break
      };
    }
  };
});

function addToUserTips(kind){
  let languge = ROOT.getAttribute('data-language');
  let num = languge == 'Zh' ? 0 : 1;
  let languge2 = languge == 'Zh' ? 'en' : 'zh';
  let random = toUserTips.random[Math.floor(Math.random()*toUserTips.random.length)]
  if(kind && kind == 'worktime') random = toUserTips.worktime;
  DOM.TV_text.textContent = random[num];
  DOM.TV_text.setAttribute('data-'+ languge2 +'-text',random[1 - num]);
  DOM.TV_text.setAttribute('data-'+ languge.toLowerCase() +'-text',random[num]);
  let textW;
  if(num){
    textW = random[num].length * -1 - 4 + 'ch';
  }else{
    textW = random[num].length * -2 - 4 + 'ch';
  }
  DOM.TV_text.parentNode.style.setProperty('--tv-w',textW)

};

function addSkillTitle(){

  const skillSecNodes = DOM.skillSecNode;

  if (!skillSecNodes || skillSecNodes.length === 0) {
    console.warn('addSkillTitle: skillSecNodes not found');
    return;
  }

  if (!skillSecInfo || !Array.isArray(skillSecInfo)) {
    console.warn('addSkillTitle: skillSecInfo not found or not an array');
    return;
  }

  skillSecNodes.forEach(secnode =>{
    if (!secnode) return;

    let secid = secnode.getAttribute('data-skill-sec');
    if(secid){
      let info = skillSecInfo.find(item => item && item.id == secid);

      if (!info || !info.name) {
        console.warn(`addSkillTitle: info not found for secid: ${secid}`);
        return;
      }

      let node = document.createElement('div');
      node.setAttribute('data-skill-title','');
      node.className = 'df-lc';
      let layerindex = Array.from(secnode.parentNode.children).findIndex(item => item == secnode);
      let num = document.createElement('div');
      num.textContent = (layerindex + 1) + '.';
      node.appendChild(num);
      num.setAttribute('style','opacity: 0.3;');
      num.setAttribute('data-skill-index','');
      let name = document.createElement('div');
      let languge = ROOT.getAttribute('data-language');
      name.setAttribute('data-zh-text',info.name[0]);
      name.setAttribute('data-en-text',info.name[1]);
      name.setAttribute('data-skill-sec-name','');
      let text = languge == 'Zh' ? info.name[0] : info.name[1];
      name.innerHTML = text;
      node.appendChild(name);
      secnode.prepend(node);

      if (secnode.parentNode) {
        loadFont(secnode.parentNode);
      }
    };
  });
};

function updateSelectInfoDisplay(info){
  DOM.selectInfoBox.forEach(item => {
    const main = item.querySelector('[data-selects-info="main"]');
    const sec = item.querySelector('[data-selects-info="sec"]');
    const num = item.querySelector('[data-selects-info="num"]');
    if (main) main.textContent = info[0][0];
    if (sec) sec.textContent = info[1] ? info[1][0] : '';
    if (num) num.textContent = info.length;
  });
};

function updateTransformControls(transform){
  if (DOM.skewSetX && DOM.skewRangeX) {
    DOM.skewSetX.value = transform[0];
    DOM.skewRangeX.value = transform[0];
  }
  if (DOM.skewSetY && DOM.skewRangeY) {
    DOM.skewSetY.value = transform[1];
    DOM.skewRangeY.value = transform[1];
  }
  if (DOM.scaleSetX && DOM.scaleRangeX) {
    DOM.scaleSetX.value = transform[2];
    DOM.scaleRangeX.value = transform[2];
  }
  if (DOM.scaleSetY && DOM.scaleRangeY) {
    DOM.scaleSetY.value = transform[3];
    DOM.scaleRangeY.value = transform[3];
  }
};

function updateClipSettings(clipRC){
  const clipHSet = getElementMix('data-clip-h-set');
  const clipWSet = getElementMix('data-clip-w-set');

  if (clipHSet && clipWSet) {

    clipHSet.querySelectorAll('[data-radio-main="true"]').forEach(item => {
      item.setAttribute('data-radio-main','false');
    });
    clipWSet.querySelectorAll('[data-radio-main="true"]').forEach(item => {
      item.setAttribute('data-radio-main','false');
    });

    const clipHItem = clipHSet.querySelector(`[data-radio-data="${clipRC[1]}"]`);
    const clipWItem = clipWSet.querySelector(`[data-radio-data="${clipRC[0]}"]`);
    if (clipHItem) clipHItem.setAttribute('data-radio-main','true');
    if (clipWItem) clipWItem.setAttribute('data-radio-main','true');
  }
};

function reSelectInfo(info){
  SelectNodeInfo = info;

  if(info[0][0] !== null){
    ROOT.setAttribute('data-selects','true');
    updateSelectInfoDisplay(info);
  } else{
    ROOT.setAttribute('data-selects','false');
  };

  if(info.length == 1){

    if (info[0][3]) {
      updateTransformControls(info[0][3]);
    }

    if (info[0][4]) {
      updateClipSettings(info[0][4]);
    }
  };

  if(info.length > 1){
    ROOT.setAttribute('data-selects-more','true');
  }else{
    ROOT.setAttribute('data-selects-more','false');
  };
};

function reRootSize(info){
  if(info[0] > UI[0]){
    DOM.btnBig.checked = true;
  } else {
    DOM.btnBig.checked = false;
  };
};

function addSearchs(){
  let skillMain = document.querySelectorAll('[data-btn="skill-main"]')
  let language = ROOT.getAttribute('data-language');
  skillMain.forEach(skill => {
    let zh = language == 'Zh' ? skill.textContent : skill.getAttribute('data-zh-text') || null;
    let en = skill.getAttribute('data-en-text') || null;
    if(!en && !zh){
      zh = '‰øùÁïôÂéüÂõæÂ±Ç';
      en = 'Pixel As Copy';
    }
    let ens = en ? en.toLowerCase().split(' ') : [];
    let zhs = zh ? zh.replace(/[a-z0-9\s]/gi,'').split('') : [];
    let key = [...zhs,...ens];
    let page = ['Êõ¥Â§öÂäüËÉΩ','more tools'];
    if(!getElementMix('data-page-name-en="more tools"').contains(skill)){
      let pages = document.querySelectorAll('[data-page-name-en]');
      pages.forEach(item => {
        if( item.contains(skill)){
          page = [item.getAttribute('data-page-name'),item.getAttribute('data-page-name-en')];
        };
      });
    };
    let path = [`${page[0]} > ... > ${zh}`,`${page[1]} > ... > ${en}`];
    if(key) skillsSearch.push({name:[zh,en],page:page,key:key,path:path,});
  });

  skillSecInfo.forEach(sec => {
    let page = ['Êõ¥Â§öÂäüËÉΩ','more tools'];
    let key = [...sec.name[0].replace(/[a-z0-9\s]/gi,'').split(''),...sec.name[1].toLowerCase().split(' ')]
    let path = [`Êõ¥Â§öÂäüËÉΩ > ${sec.name[0]}`,`more tools > ${sec.name[1]}`]
    skillsSearch.push({name:sec.name,page:page,key:key,path:path,});
  });

  skillsSearch = language == 'Zh' ? skillsSearch.sort((a,b) => a.name[0].localeCompare(b.name[0])) : skillsSearch.sort((a,b) => a.name[1].localeCompare(b.name[1]));

  skillsSearch.forEach((list,index) => {
    let turnto = document.createElement('div');
    turnto.setAttribute('data-search-turnto',index);
    turnto.className = 'df-sc';
    let info = document.createElement('div');
    info.setAttribute('data-scroll','');
    info.className = 'df-ffc fl1 scrollbar';
    info.innerHTML = `
    <div data-search-name class="df-lc"
      data-zh-text="${list.name[0]}"
      data-en-text="${list.name[1]}">
        ${language == 'Zh' ? list.name[0] : list.name[1]}
      </div>
      <div data-search-path
      data-zh-text="${list.path[0]}"
      data-en-text="${list.path[1]}">
        ${language == 'Zh' ? list.path[0] : list.path[1]}
    </div>
    `;
    turnto.appendChild(info);
    let btn = document.createElement('div');
    btn.className = 'df-cc'
    btn.setAttribute('data-btn','op');
    btn.setAttribute('data-zh-text','ÂâçÂæÄ');
    btn.setAttribute('data-en-text','View');
    btn.textContent = language == 'Zh' ? 'ÂâçÂæÄ' : 'View';
    btn.onclick = ()=>{
      DOM.dailogSearchBox.parentNode.style.display = 'none';
      viewPage(list.page[1]);
      let viewskill = getElementMix('data-page-id="page"').querySelector(`[data-en-text="${list.name[1]}"]`);
      if(!viewskill) return;
      viewskill.scrollIntoView({behavior:"smooth",block: "center"});
      setTimeout(()=>{
        addFindBox(viewskill,list);
      },500);
    };
    turnto.appendChild(btn);
    DOM.dailogSearchBox.appendChild(turnto)
  });

  loadFont(DOM.dailogSearchBox);
};

class EDITOR_TAB {
  constructor() {
    this.addset = getElementMix('data-editor-addset');
    this.setlist = getElementMix('data-editor-setlist');
    this.setvalue = getElementMix('data-editor-setvalue');
    this.setcode = getElementMix('data-editor-setcode').querySelector('textarea');

    this.editors = [
      {
        type:['Ëâ≤ÂΩ©','Color'],
        options:[
          {
            name:['HSL','HSL'],
            editable:true,
            pixel:true,
          },
          {
            name:['ÂèçËΩ¨','Invert'],
            editable:true,
            pixel:true,
          },
          {
            name:['Ëâ≤ÂΩ©Âπ≥Ë°°','Balance'],
            editable:true,
            pixel:true,
          },
        ]
      },
      {
        type:['Ë¥®ÊÑü','Texture'],
        options:[
          {
            name:['È¢óÁ≤í','Graininess'],
            editable:false,
            pixel:true,
          },
          {
            name:['ÈôçÂô™','Denoise'],
            editable:false,
            pixel:true,
          },
          {
            name:['Ê∏ÖÊô∞Â∫¶','noise'],
            editable:false,
            pixel:true,
          },
        ]
      },
      {
        type:['ÈÄöÈÅì','Texture'],
        options:[
          {
            name:['Ëâ≤Êï£','Dispersion'],
            editable:false,
            pixel:true,
          },
          {
            name:['Ê∏êÂèòÊò†Â∞Ñ','noise'],
            editable:true,
            pixel:true,
          },
          {
            name:['LUT','LUT'],
            editable:true,
            pixel:true,
          },
          {
            name:['ÈÄöÈÅìÊèêÂèñ','RGBA'],
            editable:true,
            pixel:true,
          },
        ]
      },
      {
        type:['ÂèòÂΩ¢','Transform'],
        options:[
          {
            name:['Ë¥ùÂ°ûÂ∞îÊõ≤Á∫ø','Bessel'],
            editable:true,
            pixel:true,
          },
          {
            name:['ÈÄèËßÜ','Perspective'],
            editable:true,
            pixel:true,
          },
        ]
      },

    ]
  }

  init(){

    let addlistbox = document.createElement('div');
    addlistbox.setAttribute('data-editor-addlist','');
    addlistbox.setAttribute('data-select-options','');
    addlistbox.className = 'df-ffc pos-a noscrollbar';

    this.editors.forEach(editor => {
      let type = this.addDiffLanguage(addlistbox,editor.type,'div',true);
      type.setAttribute('data-option','type');
      editor.options.forEach(item => {
        let option = this.addDiffLanguage(addlistbox,item.name,'div',true);
        option.setAttribute('data-option','option');
        option.setAttribute('data-editor-editable',item.pixel);
        option.setAttribute('data-editor-pixel',item.editable);
      });

    });

    let editorSetBox = getElementMix('data-editor-setlist-title');
    editorSetBox.appendChild(addlistbox);

    this.addset.addEventListener('click',()=>{
      addlistbox.style.display = 'flex';
    });
    document.addEventListener('mousedown',(e)=>{
      if(!editorSetBox.contains(e.target)){
        addlistbox.style.display = 'none';
      };
    });
  }

  addDiffLanguage(parent,texts,tagname,isRun){
    let language = ROOT.getAttribute('data-language');
    tagname = tagname ? tagname : 'div';
    let diff = document.createElement(tagname);
    let type = 'text';

    let text = isRun ? texts[0] : language == 'Zh' ? texts[0] : texts[1] ;
    switch (tagname){
      case 'div':
      diff.textContent = text;
      diff.setAttribute('data-zh-' + type,texts[0]);
      diff.setAttribute('data-en-' + type,texts[1]);
      break
      case 'input':
      diff.value = text;
      diff.setAttribute('data-input-must',texts[0]);
      diff.setAttribute('data-input-must-en',texts[1]);
      break
      default :
      diff.textContent = text;
      diff.setAttribute('data-zh-' + type,texts[0]);
      diff.setAttribute('data-en-' + type,texts[1]);
    };
    parent.appendChild(diff);
    return diff;
  };
}

let Editor = new EDITOR_TAB();
Editor.init();

let tool = new TOOL_JS();

function openSidebar(){
  if (!DOM.sideMix || !DOM.sideMask) return;
  DOM.sideMix.style.display = 'flex';
  DOM.sideMask.style.display = 'block';
  DOM.sideMix.style.animation = 'sideUp 0.3s ease-out';
  DOM.sideMask.style.animation = 'loadOp 0.3s';
};

function closeSidebar(){
  if (!DOM.sideMix || !DOM.sideMask) return;
  DOM.sideMix.style.animation = 'sideOver 0.3s ease-out';
  DOM.sideMask.style.animation = 'overOp 0.3s ease-out';
  setTimeout(()=>{
    DOM.sideMix.style.display = 'none';
    DOM.sideMask.style.display = 'none';
  }, DELAY.SIDEBAR_CLOSE);
};

DOM.btnMore.addEventListener('change',(event)=>{
  if(event.target.checked){
    openSidebar();
  } else {
    closeSidebar();
  }
});

document.addEventListener('mousedown',(event)=>{
  if (!DOM.sideMix || !DOM.sideMask || !DOM.btnMore) return;

  const isOutside = !DOM.sideMix.contains(event.target);
  const isVisible = DOM.sideMask.style.display !== 'none' && DOM.sideMix.style.display !== 'none';
  const isOpen = DOM.btnMore.checked === true;

  if(isOutside && isVisible && isOpen){
    DOM.btnMore.checked = false;
    const inputEvent = new Event('change', {bubbles: true});
    DOM.btnMore.dispatchEvent(inputEvent);
  }
});

const saveWindowSize = debounce((w, h) => {
  storageMix.set('userResize',[w,h]);
  if(w > UI[0]){
    DOM.btnBig.checked = true;
  } else {
    DOM.btnBig.checked = false;
  }
}, DELAY.RESIZE_SAVE);

DOM.btnResize.addEventListener('mousedown',(event)=>{
  isResize = true;
  let reNodeStyle = document.defaultView.getComputedStyle(ROOT);
  reStartW = parseInt(reNodeStyle.width,10);
  reStartH = parseInt(reNodeStyle.height,10);
  reStartX = event.clientX;
  reStartY = event.clientY;

  document.addEventListener('mousemove',(e)=>{
    if(isResize){
      let w = reStartW + e.clientX - reStartX;
      let h = reStartH + e.clientY - reStartY;
      w = Math.max(w,UI_MINI[0]);
      h = Math.max(h,UI_MINI[1]);
      toolMessage([[w,h],'resize'],PLUGINAPP);

      saveWindowSize(w, h);
    }
  });
  document.addEventListener('mouseup',()=>{
    isResize = false;
  })
});

document.getElementById('bottom').addEventListener('dblclick',()=>{
  toolMessage(['','getnode'],PLUGINAPP)
});

function nullPage(){
  getElementMix('data-page-id').innerHTML = '';
  getElementMix('data-tab').style.pointerEvents = 'none'
};

function handleSearchInput(){
  const input = DOM.skillSearchInput;
  if (!input) return;

  if(input.value.trim() == ''){
    document.querySelectorAll('[data-search-turnto]').forEach(item => {
      item.setAttribute('data-search-pick','false');
    });
    return;
  };

  let value = input.value.toLowerCase().trim();
  let values = value.split(' ');
  values = values.map(item => {
    if(item.replace(/[a-z0-9]/gi,'').length > 0){
      return item.replace(/[a-z0-9]/gi,'').split('');
    }
    return item;
  });
  values = [].concat(...values);
  values = [...new Set(values)];

  skillsSearch.forEach((skill,index) => {
    let list = getElementMix(`data-search-turnto="${index}"`);
    if (!list) return;

    let diff = [...new Set([...skill.key,...values])];
    if(value == skill.name[0].toLowerCase().trim() || value == skill.name[1].toLowerCase().trim()){
      list.setAttribute('data-search-pick','true');
      return;
    };
    let samelength = (skill.key.length + values.length - diff.length);

    if( samelength > 0 ){
      if(samelength > 1){
        list.setAttribute('data-search-pick','0');
      } else {
        list.setAttribute('data-search-pick','1');
      }
    } else {
      let same = 0;
      values.filter(item => item.length >= 3).forEach(item => {
        skill.key.forEach(key => {
          if(key.includes(item)) same++;
        });
      });
      if(same > 0){
        list.setAttribute('data-search-pick','2');
      }else{
        list.setAttribute('data-search-pick','3');
      }
    }
  });
};

DOM.skillSearchInput?.addEventListener('input', debounce(handleSearchInput, DELAY.SEARCH));
function addFindBox(node,info,isForin){
  let renderBounds = node.getBoundingClientRect();

  if(renderBounds.width == 0 && renderBounds.height == 0){
    if(isForin) return;
    let page = document.querySelector(`[data-page-name-en="${info.page[1]}"]`);
    let inputs = page.querySelectorAll('input[type="checkbox"]');
    inputs = Array.from(inputs).filter(item => item.id.toLowerCase().includes('more'));
    if(inputs){
      inputs.forEach(input => {
        input.checked = input.checked ? false : true;
        let inputEvent = new Event('change',{bubbles:true});
        input.dispatchEvent(inputEvent);
        addFindBox(node,info,true)
      });
    };
  };
  let findBox = document.createElement('div');
  findBox.className = 'pos-a';
  findBox.setAttribute('data-findbox','')
  findBox.setAttribute('style',`width:${renderBounds.width}px; height:${renderBounds.height}px; top:${renderBounds.y - 4}px; left:${renderBounds.x - 4}px`)
  document.querySelector('body').appendChild(findBox);
  setTimeout(()=>{findBox.remove()}, DELAY.FIND_BOX_REMOVE);
}

DOM.btnBig.addEventListener('change',()=>{
  let w = window.innerWidth;
  let h = window.innerHeight;
  if(DOM.btnBig.checked){
    if(w < UI[0] || h < UI[1]){
      toolMessage([false,'big'],PLUGINAPP);
      DOM.btnBig.checked = false;
    }else{
      toolMessage([true,'big'],PLUGINAPP);
    }
  }else{
    toolMessage([false,'big'],PLUGINAPP);
  }
});

DOM.userImg.addEventListener('change',(e)=>{
  let files = Array.from(DOM.userImg.files);
  reFileInfo(files);
  addImageTags(files)
});
DOM.userTable.addEventListener('change',(e)=>{
  let files = Array.from(DOM.userTable.files);
  reFileInfo(files);
  addTableText(files)
});
DOM.userZy.addEventListener('change',(e)=>{
  let files = Array.from(DOM.userZy.files);
  reFileInfo(files);
  addZyCatalogue(files)
});

let dragAreaInfo;
DOM.dropUp.addEventListener('dragover',(e)=>{
  dragAreaInfo = DOM.dropUp.getBoundingClientRect();
  e.stopPropagation();
  e.preventDefault();
  e.dataTransfer.dropEffect = 'copy';
  DOM.dropUp.style.filter = 'drop-shadow(0 0 4px let(--mainColor))';
  DOM.dropUp.style.setProperty('--drop-df','collapse');
});
DOM.dropUp.addEventListener('dragleave',(e)=>{
  let x = e.clientX;
  let y = e.clientY;
  let areaX = dragAreaInfo.x;
  let areaY = dragAreaInfo.y;
  let areaW = dragAreaInfo.width;
  let areaH = dragAreaInfo.height;
  if( x <= areaX || x >= areaX + areaW || y <= areaY || y >= areaY + areaH){
    e.stopPropagation();
    e.preventDefault();
    e.dataTransfer.dropEffect = 'copy';
    DOM.dropUp.style.filter = '';
    DOM.dropUp.style.setProperty('--drop-df','visible');
  }
});

const FILE_UPLOAD_STRATEGIES = {
  'image': (files) => addImageTags(files, true),
  'table': (files) => addTableText(files, true),
  'zy': (files) => addZyCatalogue(files)
};

function executeFileUploadStrategy(type, files){
  const strategy = FILE_UPLOAD_STRATEGIES[type];
  if (!strategy) {
    console.warn(`Unknown file type: ${type}`);
    return;
  }
  strategy(files);
};

async function handleMarkdownFile(content, createname){
  const textarea = DOM.userText;
  if (textarea) {
    textarea.value = content.trim();
    textarea.focus();
    try {
      const mds = await tool.MdToObj(content.trim(), createname);
      if (!mds || (Array.isArray(mds) && mds.length === 0)) {
        tipsAll(MESSAGES.ZY_DATA_ERROR, 3000);
        return;
      }
      addTag('zy', mds);
    } catch (error) {
      console.error('Markdown parsing error:', error);
      tipsAll(MESSAGES.ZY_DATA_ERROR, 3000);
    }
  }
};

async function handleSvgFile(content, createname){
  const textarea = DOM.userText;
  if (textarea) {
    textarea.value = content.trim();
    textarea.focus();
    try {
      const svgs = await tool.SvgToObj(content.trim(), createname);
      if (!svgs || (Array.isArray(svgs) && svgs.length === 0)) {
        tipsAll(MESSAGES.ZY_DATA_ERROR, 3000);
        return;
      }
      addTag('zy', svgs);
    } catch (error) {
      console.error('SVG parsing error:', error);
      tipsAll(MESSAGES.ZY_DATA_ERROR, 3000);
    }
  }
};

async function handleZyFile(content, createname){

  console.warn('handleZyFile: ZY file format not yet implemented');
};

const FILE_FORMAT_STRATEGIES = {
  'md': handleMarkdownFile,
  'svg': handleSvgFile,
  'zy': handleZyFile
};

async function executeFileFormatStrategy(format, content, createname){
  const strategy = FILE_FORMAT_STRATEGIES[format];
  if (!strategy) {
    console.warn(`Unknown file format: ${format}`);
    return;
  }
  await strategy(content, createname);
};

async function detectFileType(files, filesTypes){
  if (!files || files.length === 0) return null;

  const possibleImageExts = filesTypes.filter(ext => imageType.length > 0 && imageType.includes(ext));
  if (possibleImageExts.length > 0 && files.length > 0) {

    const realyType = await tool.TrueImageFormat(files[0]);
    if (realyType && imageType.includes(realyType)) {

      if (filesTypes.every(item => imageType.includes(item))) {
        return 'image';
      }
    }
  }

  if (imageType.length > 0 && filesTypes.every(item => imageType.includes(item))) {
    return 'image';
  } else if (tableType.length > 0 && filesTypes.every(item => tableType.includes(item))) {
    return 'table';
  } else if (zyType.length > 0 && filesTypes.every(item => zyType.includes(item))) {
    return 'zy';
  }

  if (files.length > 0) {
    const realyType = await tool.TrueImageFormat(files[0]);
    if (realyType && imageType.length > 0 && imageType.includes(realyType)) {
      return 'image';
    }
  }

  return null;
};

DOM.dropUp.addEventListener('drop',async (e)=>{
  e.stopPropagation();
  e.preventDefault();
  DOM.dropUp.style.filter = '';
  DOM.dropUp.style.setProperty('--drop-df','visible');
  let files = Array.from(e.dataTransfer.files);

  let filesTypes = [...new Set(files.map(item => {
    const name = item.name;
    const lastDotIndex = name.lastIndexOf('.');
    return lastDotIndex > 0 ? name.substring(lastDotIndex + 1).toLowerCase() : '';
  }).filter(ext => ext !== ''))];
  let sameType = await detectFileType(files, filesTypes);

  if(sameType){
    files = files.sort((a, b) => b.size - a.size);
    reFileInfo(files);

    executeFileUploadStrategy(sameType, files);
  } else {
    tipsAll(MESSAGES.FILE_TYPE_ERROR, 3000);
  }

});

DOM.userText.addEventListener('paste',(e) => {
  let pasted = e.clipboardData.getData('text/plain')

  if(pasted.includes('base64,')){
    DOM.userText.setAttribute('data-textarea-wrap','true');
    setTimeout(()=>{DOM.userText.scrollTop = 0})
  }else {
    DOM.userText.setAttribute('data-textarea-wrap','false');
  }
})
DOM.userText.parentNode.querySelector('[data-close]').addEventListener('click',()=>{
  DOM.userText.setAttribute('data-textarea-wrap','false');

  let linenums = getElementMix('data-textarea-linenum');
  textareaLineNum = 20;
  linenums.innerHTML = `<div>1</div>
  <div>2</div>
  <div>3</div>
  <div>4</div>
  <div>5</div>
  <div>6</div>
  <div>7</div>
  <div>8</div>
  <div>9</div>
  <div>10</div>
  <div>11</div>
  <div>12</div>
  <div>13</div>
  <div>14</div>
  <div>15</div>
  <div>16</div>
  <div>17</div>
  <div>18</div>
  <div>19</div>
  <div>20</div>`;

})
DOM.userText.addEventListener('scroll',()=>{
  let numbox = getElementMix('data-textarea-linenum-box');
  let linenums = getElementMix('data-textarea-linenum');
  numbox.scrollTop = DOM.userText.scrollTop;
  if(textareaLineNum*16 < DOM.userText.scrollTop + DOM.userText.offsetHeight){
    let addnum = 100;
    if (addnum < 0) return;
    for(let i = textareaLineNum; i < textareaLineNum + addnum; i++){
      let linenum = document.createElement('div');
      let num = (i + 1)
      linenum.textContent = num;
      if(num > 9999 && num <= 99999){
        linenum.setAttribute('style','font-size:9px;');
      }
      if(num > 99999){
        linenum.setAttribute('style','font-size:8px;');
      }
      linenums.appendChild(linenum);
    };
    textareaLineNum += addnum;
  };
});

let userText_BtnUp = getElementMix('data-btn="up"');
let userText_BtnDown = getElementMix('data-btn="down"');
let userText_ScrollUp = null;
let userText_ScrollDown = null;

userText_BtnUp.addEventListener('dblclick',()=>{
  DOM.userText.scrollTop = 0;
});
userText_BtnDown.addEventListener('dblclick',()=>{
  DOM.userText.scrollTop = DOM.userText.scrollHeight;
});

userText_BtnUp.addEventListener('mousedown',()=>{
  userText_ScrollUp = setInterval(()=>{
    DOM.userText.scrollTop -= DOM.userText.offsetHeight;
  },10);
});
userText_BtnDown.addEventListener('mousedown',()=>{
  userText_ScrollDown = setInterval(()=>{
    DOM.userText.scrollTop += DOM.userText.offsetHeight;
  },10);
});
userText_BtnUp.addEventListener('mouseup',()=>{
  clearInterval(userText_ScrollUp);
});
userText_BtnDown.addEventListener('mouseup',()=>{
  clearInterval(userText_ScrollDown);
});
userText_BtnUp.addEventListener('mouseleave',()=>{
  clearInterval(userText_ScrollUp);
});
userText_BtnDown.addEventListener('mouseleave',()=>{
  clearInterval(userText_ScrollDown);
});

getElementMix('data-imgnum-up').addEventListener('click',()=>{
  let oldvalue = DOM.imgnumSet.value * 1;
  let maxnum = ExportImageInfo.length;
  DOM.imgnumSet.value = (oldvalue + 1) <= maxnum ? (oldvalue + 1) : maxnum;
  if(DOM.imgnumSet.value == oldvalue) return;
  DOM.imgnumSet.parentNode.setAttribute('data-int-value',DOM.imgnumSet.value);
});
getElementMix('data-imgnum-down').addEventListener('click',()=>{
  let oldvalue = DOM.imgnumSet.value * 1;
  DOM.imgnumSet.value = (oldvalue - 1) >= 1 ? (oldvalue - 1) : 1;
  if(DOM.imgnumSet.value == oldvalue) return;
  DOM.imgnumSet.parentNode.setAttribute('data-int-value',DOM.imgnumSet.value);
});

function btnConvert(isStart){
  let btn = DOM.convertTags.querySelector('btn-re');
  btn.style.animation = isStart ? 'loadRo2 2s linear infinite' : '';
  btn.parentNode.style.borderColor = isStart ? 'var(--mainColor)' : 'var(--boxBod)';
}

DOM.userText.addEventListener('dblclick',()=>{
  btnConvert(true);
});

DOM.userText.addEventListener('input',()=>{
  if(DOM.userText.value == ''){
    btnConvert(false);
  } else {
    btnConvert(true);
  }
});

[DOM.userText.parentNode.parentNode,getElementMix('upload-moreset-box')].forEach(item => {
  item.addEventListener('mouseenter',()=>{
    if(DOM.userText.value == '') return;
    btnConvert(true);
  });
});
[DOM.userText.parentNode.parentNode,getElementMix('upload-moreset-box')].forEach(item => {
  item.addEventListener('mouseleave',()=>{
    if(DOM.userText.value !== '') return;
    btnConvert(false);
  });
});

function getFinalInfo(info,isname){
  if (!info || !Array.isArray(info)) {
    return [];
  }
  let finalCreate = [...info];
  const tagsBox = DOM.createTagsBox;
  if (!tagsBox) {
    console.warn('getFinalInfo: createTagsBox not found');
    return finalCreate;
  }

  let nocreateTag = tagsBox.querySelectorAll('[data-create-final="false"]');
  nocreateTag.forEach(item => {
    const input = item.querySelector('input');
    if (input && input.id) {
      let idnum = input.id.split('_')[input.id.split('_').length - 1];
      finalCreate.splice(idnum,1);
    }
  });

  if(isname){
    let createTag = tagsBox.querySelectorAll('[data-create-final="true"]');
    createTag.forEach((item,index) => {
      const nameEl = item.querySelector('[data-create-info="name"]');
      if (nameEl) {
        finalCreate[index].name = nameEl.textContent.trim();
      }
    });
  };
  return finalCreate;
};

function createImageStrategy(){
  const images = getFinalInfo(CreateImageInfo);
  if (images.length === 0) {
    console.warn('createImageStrategy: No images to create');
    return;
  }
  tipsAll(MESSAGES.READING, images.length * 800);
  setTimeout(()=>{
    toolMessage([images,'createImage'],PLUGINAPP);
  },100);
};

function createTableStrategy(){
  const tables = getFinalInfo(CreateTableInfo,true);
  if (tables.length === 0) {
    console.warn('createTableStrategy: No tables to create');
    return;
  }
  tipsAll(MESSAGES.READING, CreateTableInfo.length * 100);
  setTimeout(()=>{
    toolMessage([tables,'createFrame'],PLUGINAPP);
  },100);
};

function createZyStrategy(){
  const zys = getFinalInfo(CataloguesInfo,true);
  if (zys.length === 0) {
    console.warn('createZyStrategy: No catalogues to create');
    return;
  }
  tipsAll(MESSAGES.READING, CataloguesInfo.length * 100);
  setTimeout(()=>{
    toolMessage([zys,'createZy'],PLUGINAPP);
  },100);
};

const CREATE_STRATEGIES = {
  'image': createImageStrategy,
  'table': createTableStrategy,
  'zy': createZyStrategy
};

function executeCreateStrategy(type){
  const strategy = CREATE_STRATEGIES[type];
  if (!strategy) {
    console.warn(`Unknown create type: ${type}`);
    return;
  }
  strategy();
};

DOM.createAnyBtn?.addEventListener('click',() => {
  const tagsBox = DOM.createTagsBox;
  if (!tagsBox || !tagsBox.parentNode || !tagsBox.parentNode.parentNode) {
    console.warn('createAnyBtn: createTagsBox structure not found');
    return;
  }
  let type = tagsBox.parentNode.parentNode.getAttribute('data-create-tags-box');
  if (!type) {
    console.warn('createAnyBtn: No type attribute found');
    return;
  }
  executeCreateStrategy(type);
});

DOM.skillAllModel.forEach(item =>{

  let icon = document.querySelector(`[data-skillmodule-for="${item.getAttribute('data-skillmodule')}"]`).previousElementSibling.cloneNode(true);
  icon.setAttribute('data-skilltype-icon','mini');
  item.appendChild(icon);

  item.addEventListener('mouseenter',() => {
    isSkillScroll = false;
    let modelid = item.getAttribute('data-skillmodule');
    let index = skillModel.findIndex(skill => skill.includes(modelid));
    let tab = DOM.skillTypeBox.querySelector(`[data-radio-data="${(index + 1)}"]`);
    tab.click();
  });
});
DOM.skillTypeBox.addEventListener('mouseenter',() => {
  isSkillScroll = true;
});

function loadImage(file){
  return new Promise((resolve,reject) => {
    const reader = new FileReader()
    reader.onload = (e)=>{
      const image = new Image();
      image.onload = ()=> resolve(image);
      image.onerror = (error)=> reject(error);
      image.src = e.target.result;
    };
    reader.onerror = (error)=>{reject(error)};
    reader.readAsDataURL(file);
  });
};

function loadTable(file){
  return new Promise((resolve,reject) => {
    const reader = new FileReader();
    let type = file.name.split('.')[file.name.split('.').length - 1].toLowerCase();
     if(type == 'xls' || type == 'xlsx'){
      reader.onload = (e)=>{
        let zip = new JSZip();
        zip.loadAsync(reader.result)
        .then((zipContents)=>{
          zip.file('xl/worksheets/sheet1.xml').async('string')
          .then((sheetContent)=>{
            zip.file('xl/sharedStrings.xml').async('string')
            .then((strContent)=>{
              const parser = new DOMParser();
              const xmlDoc = parser.parseFromString(sheetContent,'text/xml');
              const rows = getTag(xmlDoc,'row');
              const strDoc = parser.parseFromString(strContent,'text/xml');
              const sis = getTag(strDoc,'si');
              let sharedStrings = [];
              for( let i = 0; i < sis.length; i++){
                let t = getTag(sis[i],'t');
                sharedStrings.push(t[0].textContent.trim());
              };
              let XY = ['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z']
              let rowTitle = getTag(rows[0],'c')
              let maxlength = XY.indexOf(rowTitle[rowTitle.length - 1].getAttribute('r').replace(/[0-9]/g,''))*1 + 1;
              let titles =  getRow(0,maxlength) + '\n';
              let values = '';
              for(let i = 1; i < rows.length; i++){
                let value = getRow(i,maxlength);
                if(i == rows.length - 1){
                  values += value;
                } else {
                  values += value + '\n';
                };
              };
              resolve(titles + values.trim());

              function getTag(xml,name){
                return xml.getElementsByTagName(name);
              };
              function getRow(index,length){
                let text = '';
                for( let i = 0; i < length; i++){
                  let v;
                  let c = rows[index].querySelector(`[r="${XY[i] + (index + 1)}"]`);
                  if(c){
                    v = getTag(c,'v')[0].textContent;
                    if(c.getAttribute('t') == 's'){
                      v = sharedStrings[v*1];
                    };
                  }else{
                    v = ''
                  }
                  if(i == length - 1){
                    text += v;
                  } else {
                    text += v + '\t';
                  }
                };
                return text;
              };
            });
          });
        });
      };
      reader.onerror = (error)=>{reject(error)};
      reader.readAsArrayBuffer(file);
     };
     if(type == 'csv'){
      reader.onload = (e)=>{
        let csvData = reader.result;
        let values = csvData.replace(/\r/g,'').replace(/\,/g,'\t');

        resolve(values.trim())
      };
      reader.onerror = (error)=>{reject(error)};
      reader.readAsText(file);
     };
  });
};

async function addImageTags(files,isCreate){
  DOM.clearCreateTags.click();
  let sizes = files.map(item => item.size);
  let sizeAll = sizes.reduce((a,b) => a + b, 0);
  sizeAll = sizeAll*1 == NaN ? files.length : sizeAll;
  tipsAll(MESSAGES.READING, sizeAll/1024/1024 * 100);
  for(let i = 0; i < files.length; i++){
    let file = files[i];
    let name = file.name.split('.').filter(item => !imageType.includes(item.toLowerCase())).join('_');
    try{
      let image = await loadImage(file);
      let cuts = await tool.CUT_IMAGE(image);
      CreateImageInfo.push({n:name,w:image.width,h:image.height,cuts:cuts});
      if(i == files.length - 1){
        addTag('image',CreateImageInfo);
        if(isCreate){
          toolMessage([CreateImageInfo,'createImage'],PLUGINAPP);
        }
      }
    } catch (error) {
      console.log(error)
    }

  };
}
async function addTableText(files,isTags){
  DOM.clearCreateTags.click();
  DOM.userText.focus();
  DOM.userText.value = '';
  let tableText;
  if(typeof(files) == 'string'){
    tableText = files;
  } else {
    tableText = await loadTable(files[0])
  }
  DOM.userText.value = tableText;

  if(isTags){

    const firstline = tableText.trim().split('\n')[0];
    const isTableText = ['name','w','h'].every(item => firstline.includes(item));

    if(!isTableText){

      tipsAll(MESSAGES.TABLE_DATA_ERROR, 3000);
      return;
    }

    try {
      let tableArray = tableTextToArray(tableText, false, DOM.userTableTitle.value.split(','));
      if(!tableArray || tableArray.length < 2){
        tipsAll(MESSAGES.TABLE_DATA_ERROR, 3000);
        return;
      }
      let tableObj = tableArrayToObj(tableArray);
      if(!tableObj || tableObj.length === 0){
        tipsAll(MESSAGES.TABLE_DATA_ERROR, 3000);
        return;
      }
      CreateTableInfo = tableObj;

      DOM.convertTags.click();
    } catch (error) {
      console.error('Table data parsing error:', error);
      tipsAll(MESSAGES.TABLE_DATA_ERROR, 3000);
      return;
    }
  } else {

    let tableArray = tableTextToArray(tableText);
    let tableObj = tableArrayToObj(tableArray);
    CreateTableInfo = tableObj;
  }
}
function addTableTags(){
  addTag('table',CreateTableInfo);
};
async function addZyCatalogue(files,codetype){

  if(codetype){

    addTag('zy',files)
  } else if ( files instanceof FileList || files instanceof File || (Array.isArray(files) && files.length > 0)){

    let hasError = false;
    let processedCount = 0;

    for(let i = 0; i < files.length; i++){
      let file = files[i];

      const lastDotIndex = file.name.lastIndexOf('.');
      const format = lastDotIndex > 0 ? file.name.substring(lastDotIndex + 1).toLowerCase() : '';

      const supportedFormats = ['md', 'svg', 'zy'];
      if (!format || !supportedFormats.includes(format)) {
        hasError = true;
        continue;
      }

      let filenameRegex = new RegExp('.' + format,'gi');
      let createname = file.name.replace(filenameRegex,'') + '@MD_NODE';

      try{
        let reader = new FileReader();
        reader.onload = async(e)=>{
          try {

            await executeFileFormatStrategy(format, reader.result, createname);
            processedCount++;
          } catch (error) {
            console.error('File format processing error:', error);
            hasError = true;
          }
        };
        reader.onerror = (error)=>{
          console.error('FileReader error:', error);
          hasError = true;
        };
        reader.readAsText(file);

      } catch (error) {
        console.error('File processing error:', error);
        hasError = true;
      }
    };

    if (hasError && processedCount === 0) {
      tipsAll(MESSAGES.ZY_DATA_ERROR, 3000);
    }
  }
};

function addTagMain(tag,index,type){
  tag.setAttribute('data-' + type + '-tag',index);
  tag.setAttribute('data-' + type + '-final','true');
  tag.className = type == 'create' ? 'df-lc' : 'df-ffc';

  let main = document.createElement('div');
  main.className = 'df-lc';
  main.setAttribute('style','gap: 4px;');

  let checkbox = document.createElement('div');
  checkbox.setAttribute('style','width: 14px; height: 14px;');
  let checkid = type + '_chk_' + index;
  let checkinput = document.createElement('input');
  checkinput.id = checkid;
  checkinput.type = 'checkbox';
  checkinput.setAttribute('checked','true');
  let checklabel = document.createElement('label');
  checklabel.setAttribute('for',checkid);
  checklabel.className = 'check';
  checklabel.innerHTML = '<btn-check></btn-check>';
  checkbox.appendChild(checkinput);
  checkbox.appendChild(checklabel);
  main.appendChild(checkbox);

  let tagNum = document.createElement('span');
  tagNum.setAttribute('data-tags-index','')
  tagNum.innerHTML += index + 1 + '.';
  main.appendChild(tagNum);
  tag.appendChild(main);
  checkinput.addEventListener('change',()=>{
    if(checkinput.checked){
      tag.setAttribute('data-check-checked','true');
      tag.setAttribute('data-' + type + '-final','true');
    }else{
      tag.setAttribute('data-check-checked','false');
      tag.setAttribute('data-' + type + '-final','false');
    };
  });
  return main;
};

function addSelect(index,options,def){
  let select = document.createElement('div');
  select.className = 'df-lc pos-r';
  select.setAttribute('data-select','');
  select.setAttribute('data-select-value',def);
  select.setAttribute('style','gap: 4px; width: 72px;');
  let value = document.createElement('input');
  value.setAttribute('data-select-input','');
  value.setAttribute('readonly','');
  value.type = 'text'
  value.id = 'export-format-' + index;

  value.value = def;

  select.appendChild(value)
  let show = document.createElement('input');
  show.setAttribute('data-select-pick','');
  show.type = 'checkbox'
  show.id = 'format-show-' + index;
  let showlabel =  document.createElement('label');
  showlabel.setAttribute('for','format-show-' + index);
  showlabel.className = 'show-next wh100';
  showlabel.setAttribute('style','position: absolute; top: 0; right: 0;')
  select.appendChild(show);
  select.appendChild(showlabel);
  let optionbox = document.createElement('div');
  optionbox.setAttribute('data-select-options','');
  optionbox.className = 'df-ffc pos-a w100 noscrollbar';
  optionbox.setAttribute('style','display: none; top: 24px; z-index:3;');
  options.forEach(item => {
    let option = document.createElement('div');
    option.setAttribute('data-option','option');
    let isMain = item == def ? 'true' : 'false';
    option.setAttribute('data-option-main',isMain);
    option.setAttribute('data-option-value',item);
    option.textContent = item;
    optionbox.appendChild(option);
  });
  select.appendChild(optionbox);

  return select;
};

function createImageTagStrategy(info){
  info.forEach((img,index) => {
    let tag = document.createElement('div');
    DOM.createTagsBox.parentNode.parentNode.setAttribute('data-create-tags-box','image');
    addTagMain(tag,index,'create');
    let name = document.createElement('div');
    name.setAttribute('data-create-info','name');
    name.innerHTML = tool.TextMaxLength(img.n,16,'...');
    tag.appendChild(name);
    if(img.cuts.length > 1){
      let span = document.createElement('span');
      span.setAttribute('style','cursor: var(--pointer,pointer)');
      let text = ROOT.getAttribute('data-language') == 'Zh' ? "ÂàáÁâá" : "Slice"
      span.innerHTML = `‚ñ∂
      <span style="color: var(--themeColor)">${img.cuts.length}</span>
      <span data-en-text="Slice" data-zh-text="ÂàáÁâá">${text}</span>
      ` ;
      tag.appendChild(span);
      span.addEventListener('click',()=>{
        DOM.dailogBox.innerHTML = '';
        DOM.dailog.style.display = 'flex';
        let cutinfo = document.createElement('div');
        cutinfo.className = 'w100 df-ffc';
        cutinfo.setAttribute('style','gap: 4px');
        img.cuts.forEach((cut,num) => {
          let blob = new Blob([cut.img],{ type: 'image/png' });
          let cutone = document.createElement('span');
          cutone.innerHTML = `‚ñ∂
          <span data-en-text="Slice" data-zh-text="ÂàáÁâá">${text}</span>
          <span> &nbsp;${(num + 1)}</span>
          ` ;
          cutinfo.appendChild(cutone);
          let cutimgbox = document.createElement('a');
          cutimgbox.className = 'w100 df-cc'
          cutimgbox.href = URL.createObjectURL(blob);
          cutimgbox.setAttribute('download', tool.TextMaxLength(img.n,16,'...') + '_' + text + (num + 1)  + '.png')
          let cutimg = document.createElement('img');
          cutimg.setAttribute('style','width: 80%;');
          cutimg.src = URL.createObjectURL(blob);
          cutimgbox.appendChild(cutimg);
          cutinfo.appendChild(cutimgbox);
        });
        DOM.dailogBox.appendChild(cutinfo);
      });
    }
    DOM.createTagsBox.appendChild(tag);
  });
};

function createTableTagStrategy(info){
  let nameRegex = DOM.frameName.value;
  info.forEach((list,index) => {
    let tag = document.createElement('div');
    DOM.createTagsBox.parentNode.parentNode.setAttribute('data-create-tags-box','table');
    addTagMain(tag,index,'create');
    let name = document.createElement('div');
    name.setAttribute('data-create-info','name');
    let end = nameRegex
    .replace(/w/g,list.w)
    .replace(/h/g,list.h)

    if(list.type && list.type  !== ''){
      end = end.replace(/type/g,list.type)
    }else{
      end = end.replace(/type/g,'')
    }
    if(list.note && list.note !== ''){
      end = end.replace(/note/g,list.note)
    }else{
      end = end.replace(/note/g,'')
    }
    if(list.s && list.s !== ''){
      end = end.replace(/s/g,list.s + 'k');
    } else {
      end = end.replace(/s/g,'');
    };
    name.innerHTML = `${list.name}${end}`.trim();
    if(nameRegex == 'none'){
      name.innerHTML = list.name;
    };
    tag.appendChild(name);
    DOM.createTagsBox.appendChild(tag);
  });
};

function createZyTagStrategy(info){
  if(info.zyType){
    CataloguesInfo.push(info);

    let index = Array.from(DOM.cataloguesBox.children).length;
    let tag = document.createElement('div');
    DOM.cataloguesBox.parentNode.parentNode.setAttribute('data-create-tags-box','zy');
    let main = addTagMain(tag,index,'zynode');

    let name = document.createElement('input');
    name.type = 'text';
    name.value = info.zyName;
    name.id = 'zynode_n_' + index;
    name.setAttribute('data-input','');
    name.setAttribute('data-zynode-info','name');
    name.className = 'nobod fl1';
    name.addEventListener('change',() => {
      inputMust(name,['text',info.zyName]);
      CataloguesInfo[index].zyName = name.value;
    });
    main.appendChild(name);

    let layerList = document.createElement('div');
    layerList.setAttribute('data-layerlist','');
    switch(info.zyType){
      case 'md':
        let html = marked.parse(DOM.userText.value.trim());
        layerList.innerHTML = html;
        layerList.addEventListener('dblclick',async()=>{

          let imgdata = await tool.DomToImagedata(layerList,{scale:3});
          imgdata.fileName = info.zyName;

          tool.ExportImgByData(hasExport,[imgdata],false,imgdata.fileName)
          function hasExport(index,finalSize,quality,isSuccess){
            log(index,finalSize,quality,isSuccess)
          };

        });
        break;
      case 'svg':
        break;
    }
    tag.appendChild(layerList);
    DOM.cataloguesBox.appendChild(tag);
  }else{

  };
};

function createExportImgTagStrategy(info){
  ExportImageInfo.push(...info);
  getElementMix('data-imgnum-max').textContent = ExportImageInfo.length;
  DOM.exportTagsBox.innerHTML = '<!--Âä®ÊÄÅÂ°´ÂÖÖ-->';
  ExportImageInfo.forEach((layer,index) => {
    let tag = document.createElement('div');
    let main = addTagMain(tag,index,'export');
    let name = document.createElement('input');
    name.type = 'text';
    name.value = layer.fileName;
    name.id = 'export_n_' + index;
    name.setAttribute('data-input','');
    name.setAttribute('data-export-info','name');
    name.className = 'nobod fl1';
    name.addEventListener('change',() => {
      inputMust(name,['text',layer.fileName]);
      layer.fileName = name.value;
    });
    main.appendChild(name);
    let checksetbox = document.createElement('div');
    checksetbox.setAttribute('data-export-pick','false');
    checksetbox.setAttribute('data-export-picknum',index);
    checksetbox.setAttribute('style','width: 14px; height: 14px;');
    let checksetid = 'export_pick_' + index;
    let checkset = document.createElement('input');
    checkset.type = 'checkbox';
    checkset.id = checksetid;
    if(getElementMix('exportset-pickall').checked){
      checkset.setAttribute('checked','true');
      checksetbox.setAttribute('data-export-pick','true');
    };
    checkset.addEventListener('change',()=>{
      if(checkset.checked){
        checksetbox.setAttribute('data-export-pick','true');
      } else {
        checksetbox.setAttribute('data-export-pick','false');
        getElementMix('exportset-pickall').checked = false;
      };
    });
    checksetbox.appendChild(checkset)
    let checksetlabel = document.createElement('label');
    checksetlabel.setAttribute('for',checksetid);
    checksetlabel.className = 'check';
    checksetlabel.innerHTML = '<btn-check-tick></btn-check-tick>';
    checksetbox.appendChild(checksetlabel);
    main.appendChild(checksetbox);

    let exportset = document.createElement('div');
    exportset.className = 'df-lc';
    exportset.setAttribute('style','gap: 4px; flex-wrap: wrap;');
    let formatSelect = addSelect(index,['PNG','JPG','JPEG','WEBP'],layer.format)
    exportset.appendChild(formatSelect);

    let sizesetbox = document.createElement('div');
    sizesetbox.className = 'df-lc';
    sizesetbox.setAttribute('data-int-value','');
    sizesetbox.setAttribute('data-export-size',index);
    sizesetbox.setAttribute('style','width: 82px;');
    let sizeset = document.createElement('input');
    sizeset.type = 'text';
    sizeset.id = 'export-size-' + index;
    sizeset.setAttribute('style','height: 22px;');
    sizeset.setAttribute('data-input','');
    sizeset.setAttribute('data-input-type','int');
    sizeset.setAttribute('data-input-must','1,10000');
    if(layer.finalSize){
      sizeset.value = layer.finalSize;
    };
    sizesetbox.appendChild(sizeset);
    let unit = document.createElement('div');
    unit.setAttribute('style','height: fit-content; font-size: 11px');
    unit.setAttribute('data-input-unit','auto');
    unit.textContent = 'KB';
    sizesetbox.appendChild(unit);
    exportset.appendChild(sizesetbox);

    let sizeinfo = document.createElement('div');
    sizeinfo.className = 'df-rc fl1';
    sizeinfo.setAttribute('data-sizeinfo','')
    sizeinfo.setAttribute('style','min-width: 64px; flex-wrap: wrap; opacity: 0.6;');
    sizeinfo.innerHTML += '<div style="width: fit-content">' + layer.width + '√ó' + layer.height + '</div>';
    sizeinfo.innerHTML += '<div style="width: fit-content; padding-left: 4px">' + Math.floor(layer.u8a.length/10.24)/100 + ' KB ‚Üí</div>';
    let sizebox = document.createElement('div');
    sizebox.className = 'df-rc';
    sizebox.setAttribute('style','width: fit-content; padding-left: 4px;');
    let realsize = document.createElement('div');
    realsize.textContent = layer.compressed ? Math.floor(layer.compressed.size/10.24)/100 : '--';
    let isminRealsize = layer.compressed ? (layer.u8a.length > layer.compressed.size ? 'true' : 'false') : ''
    realsize.setAttribute('data-export-realsize',isminRealsize);
    sizebox.appendChild(realsize);
    sizebox.innerHTML += 'KB /';
    let quality  = document.createElement('div');
    quality.setAttribute('data-export-quality','');
    quality.textContent = '10';
    sizebox.appendChild(quality);
    let view = document.createElement('div');
    view.innerHTML = '<btn-view></btn-view>';
    view.setAttribute('style','width:14px; height: 14px;');
    view.className = 'btn-op';
    view.addEventListener('click',()=>{
      DOM.imgnumSet.value = index + 1;
      let img = layer.compressed ? layer.compressed : layer.u8a;
      DOM.dailogImgBox.innerHTML = '';
      DOM.dailogImg.style.display = 'flex';
      let viewimg = document.createElement('img');
      let ismaxW = layer.width >= layer.height ? 'true' : 'false';
      viewimg.setAttribute('data-ismaxW',ismaxW);
      viewimg.src = URL.createObjectURL(new Blob([img],{type:'image/' + layer.format}));
      DOM.dailogImgBox.appendChild(viewimg);
      viewimg.setAttribute('data-imgnum-pick',index + 1);
    });
    sizebox.appendChild(view);
    sizeinfo.appendChild(sizebox);
    exportset.appendChild(sizeinfo);

    tag.appendChild(exportset);
    DOM.exportTagsBox.appendChild(tag);
  });
};

function getContainerByType(type){
  switch(type) {
    case 'image':
    case 'table':
      return DOM.createTagsBox;
    case 'zy':
      return DOM.cataloguesBox;
    case 'export-img':
      return DOM.exportTagsBox;
    default:
      return null;
  }
};

function addTag(type,info){

  const TAG_STRATEGIES = {
    'image': createImageTagStrategy,
    'table': createTableTagStrategy,
    'zy': createZyTagStrategy,
    'export-img': createExportImgTagStrategy
  };

  const strategy = TAG_STRATEGIES[type];
  if (!strategy) {
    console.error(`Unknown tag type: ${type}`);
    return;
  }

  strategy(info);

  const container = getContainerByType(type);
  if (container) {
    getCompChange(container);
  }

  loadFont(DOM.createTagsBox.parentNode);
};

getElementMix('fullimg').addEventListener('change',(e)=>{
  if(e.target.checked){
    DOM.dailogImgBox.setAttribute('data-isfull','true');
  }else{
    DOM.dailogImgBox.setAttribute('data-isfull','false');
  };
});
getElementMix('fulleditor').addEventListener('change',(e)=>{
  if(e.target.checked){
    DOM.editorViewbox.setAttribute('data-isfull','true');
  }else{
    DOM.editorViewbox.setAttribute('data-isfull','false');
  };
});

function addEditorView(info){
  let viewimg = DOM.editorViewbox.querySelector('img');
  viewimg = viewimg ? viewimg : document.createElement('img');
  let ismaxW = info.width >= info.height ? 'true' : 'false';
  viewimg.setAttribute('data-ismaxW',ismaxW);
  viewimg.src = URL.createObjectURL(new Blob([info.u8a],{type:'image/png'}));
  DOM.editorViewbox.appendChild(viewimg);
}

document.getElementById('exportset-pickall').addEventListener('change',(e)=>{
  let picks = exportTagsBox.querySelectorAll('[data-export-pick]');
  picks.forEach(item => {
    let input = item.querySelector('input');
    if(e.target.checked){
      input.checked = true;
      item.setAttribute('data-export-pick','true');
    } else {
      input.checked = false;
      item.setAttribute('data-export-pick','false');
    };
  });
});

getElementMix('data-export-delete').addEventListener('click',()=>{
  let picks = exportTagsBox.querySelectorAll('[data-export-pick="true"]');
  let picknums = Array.from(picks).map(item => item.getAttribute('data-export-picknum'));

  picknums.sort((a,b) => b - a).forEach(num => {
    ExportImageInfo.splice(num,1);

  });
  picks.forEach(item => {
    item.parentNode.parentNode.remove();
  });
  let finals = exportTagsBox.querySelectorAll('[data-export-pick]');
  finals.forEach((item,index) => {
    item.parentNode.querySelector('[data-tags-index]').textContent = (index + 1) + '. '
    item.parentNode.parentNode.setAttribute('data-export-tag',index)
  });
});

getElementMix('data-export-reup').addEventListener('click',()=>{
  let picks = exportTagsBox.querySelectorAll('[data-export-pick="true"]');
  let picknums = Array.from(picks).map(item => item.getAttribute('data-export-picknum'));

});

getElementMix('data-export-tags-delete').addEventListener('click',()=>{
  ExportImageInfo = [];
  DOM.exportTagsBox.innerHTML = '<!--Âä®ÊÄÅÂ°´ÂÖÖ-->';
});

DOM.exportAnyBtn.addEventListener('click',()=>{
  let isFinal = []
  for (let i = 0; i < ExportImageInfo.length; i++) {
    let finaltag = getElementMix('data-export-tag="'+ i +'"');
    let isExport = finaltag.getAttribute('data-export-final') == 'true' ? true : false;
    isFinal.push(isExport);
  };
  let zipnames = ExportImageInfo.map(item => item.zipName);
  let zipName = '';
  if([...new Set(zipnames)].length == 1){
    zipName = zipnames[0];
  };
  tool.ExportImgByData(reExport,ExportImageInfo,isFinal,zipName);

  function reExport(index,finalSize,quality,isSuccess){
    let sizespan = getElementMix('data-export-tag="'+ index +'"').querySelector('[data-export-realsize]');
    let qualityspan = getElementMix('data-export-tag="'+ index +'"').querySelector('[data-export-quality]');
    isSuccess = isSuccess ? 'true' : 'false';
    sizespan.textContent = finalSize;
    sizespan.setAttribute('data-export-realsize',isSuccess);
    qualityspan.textContent = quality;
  };
});

getElementMix('data-editor-setbg').addEventListener('change',(e)=>{
  showNext(e.target,'data-color-mix','flex');
  if(e.target.checked){
    let color = getElementMix('data-color-mix').querySelector('[data-color]').getAttribute('data-color-hex')
    DOM.editorViewbox.style.setProperty('--bg',color)
  }else{
    DOM.editorViewbox.style.setProperty('--bg','none')
  }
})

DOM.btnLinkstyle.addEventListener('click',()=>{
  toolMessage(['','manageLinkStyle'],PLUGINAPP);
});

DOM.btnSelectstyle.addEventListener('click',()=>{
  toolMessage(['','manageStyleGroup'],PLUGINAPP);
});

DOM.btnVariables.addEventListener('click',()=>{
  toolMessage(['','manageVariableGroup'],PLUGINAPP);
});

function tableTextToArray(tableText,isColumn,mustTitle){
  let lines = tableText.split('\n');
  lines.forEach((item,index) => {
    lines[index] = item.split('\t');
  });
  if(mustTitle){
    let unneed = lines[0].filter(item => !mustTitle.includes(item));
    if(unneed){
      unneed = unneed.map(item => lines[0].findIndex(items => items == item));
      unneed.forEach(num => {
        lines.forEach(line => {
          line.splice(num,1);
        });
      });
    };
  };

  let columns = lines[0].map((_, i) => lines.map(row => row[i]));

  if(isColumn){
    return columns;
  }else{
    return lines;
  }
};

function tableArrayToObj(tableArray){
  let keys = tableArray[0];
  let objs = [];
  for(let i = 1; i < tableArray.length; i++){
    let obj = {};
    tableArray[i].forEach((item,index) => {
      obj[keys[index]] = isNaN(item * 1) ? item : item * 1;;
    });
    objs.push(obj);
  };
  return objs;
};

function tableArrayToText(Array){
  let values = '';
  for(let i = 0; i < Array.length; i++){
    let text = Array[i].join('\t');
    if(i == Array.length - 1){
      values += text;
    }else{
      values += text + '\n';
    };
  };
  return values;
};

function tableObjToText(obj){
  let header = Object.keys(obj[0]).join('\t') + '\n';
  let values = '';
  for(let i = 0; i < obj.length; i++){
    let text = Object.values(obj[i]).join('\t');
    if(i == obj.length - 1){
      values += text;
    }else{
      values += text + '\n';
    };
  };
  return header + values;
};

DOM.clearCreateTags.addEventListener('click',()=>{
  CreateImageInfo = [];
  CreateTableInfo = [];
  CataloguesInfo = [];
  DOM.createTagsBox.innerHTML = '';
  DOM.cataloguesBox.innerHTML = '';
});

DOM.convertTags.addEventListener('click',async ()=>{
  DOM.clearCreateTags.click();
  let firstline = DOM.userText.value.trim().split('\n')[0];
  let isTableText = ['name','w','h'].every(item => firstline.includes(item));
  if(isTableText){
    let tableArray = tableTextToArray(DOM.userText.value.trim(),false,DOM.userTableTitle.value.split(','));
    let tableObj = tableArrayToObj(tableArray);
    CreateTableInfo = tableObj;

    if(CreateTableInfo.some(item => item.note || item.s)){
      document.getElementById('upload-moreset').checked = true;
      document.querySelector('[for="upload-moreset"]').click();
    };
    setTimeout(()=>{
      addTableTags();
    }, DELAY.CONVERT_TAGS);
  }else if(firstline.includes('svg')){
    let svgs = await tool.SvgToObj(DOM.userText.value.trim())
    addZyCatalogue(svgs,'svg')
  }else if(firstline !== ''){

    try{
      let mds = await tool.MdToObj(DOM.userText.value.trim());

      addZyCatalogue(mds,'md')
    } catch (e) {
      console.error('Failed to parse markdown:', e);
    }
  };
});

DOM.getTableText.addEventListener('click',()=>{
  toolMessage(['','getTableBySelects'],PLUGINAPP);
});

function reFileInfo(files){
  if (!files || files.length === 0 || !DOM.fileInfo) {
    return;
  }

  const language = ROOT.getAttribute('data-language');
  const fileCount = files.length;
  const fileLength = `<span style="color: var(--code2)">${fileCount}</span>`;

  const fileName1 = fileCount === 1
    ? files[0].name
    : `${files[0].name} ...Á≠â ${fileLength} ‰∏™Êñá‰ª∂`;
  const fileName2 = fileCount === 1
    ? files[0].name
    : `${files[0].name} ... ${fileLength} files`;

  const displayName1 = 'üìÅ ' + tool.TextMaxLength(fileName1, 20, '..');
  const displayName2 = 'üìÅ ' + tool.TextMaxLength(fileName2, 20, '..');

  DOM.fileInfo.setAttribute('data-zh-text', displayName1);
  DOM.fileInfo.setAttribute('data-en-text', displayName2);

  DOM.fileInfo.innerHTML = language === "Zh" ? displayName1 : displayName2;
};

DOM.frameName.addEventListener('input',()=>{
  if(frameNmaeSelect.includes(DOM.frameName.value)){
    DOM.frameName.nextElementSibling.querySelector(`[data-option-value="${DOM.frameName.value}"]`).click();
  }else{
    DOM.frameName.nextElementSibling.querySelector(`[data-select-input]`).value = '';
  };
});
DOM.frameName.addEventListener('change',()=>{
  DOM.convertTags.click();
});

DOM.userTableTitle.addEventListener('change',()=>{
  DOM.userTableTitle.value = reTableTitle(DOM.userTableTitle.value);
});

function ensureRequiredFields(texts){
  const required = ['name', 'w', 'h'];
  const result = [...new Set(texts)];
  required.forEach(field => {
    if(!result.includes(field)){
      result.push(field);
    }
  });
  return result;
};

function validateTableTitle(text){
  if(text == ''){
    return '';
  }

  let texts = text.split(',').map(item => item.trim());

  const invalidWords = texts.filter(item => !tableTitleMust.includes(item));
  if(invalidWords.length > 0){
    tipsAll(MESSAGES.TABLE_TITLE_WORDS_ERROR, 3000);
    texts = texts.filter(item => tableTitleMust.includes(item));

    if(texts.length == 0){
      return 'name,w,h';
    }
  }

  texts = [...new Set(texts)];

  const hasRequired = texts.includes('name') && texts.includes('w') && texts.includes('h');

  if(!hasRequired){
    tipsAll(MESSAGES.TABLE_TITLE_REQUIRED_ERROR, 3000);
    texts = ensureRequiredFields(texts);
  } else if(texts.length !== [...new Set(text.split(',').map(item => item.trim()))].length){

    tipsAll(MESSAGES.TABLE_TITLE_REPEAT_ERROR, 3000);
  }

  return texts.join(',');
};

function reTableTitle(text){
  return validateTableTitle(text);
};

getElementMix('data-variable-refresh="style"').addEventListener('click',()=>{
  toolMessage(['','getStyleInfo'],PLUGINAPP);
});

getElementMix('data-variable-refresh="variable"').addEventListener('click',()=>{
  toolMessage(['','getVariableInfo'],PLUGINAPP);
});

function reStyleInfo(info){
  let hasstyle = getElementMix('data-variable-hasstyle');
  if(info){
    hasstyle.setAttribute('data-variable-hasstyle','true');
    DOM.styleTosheet.setAttribute('data-any','');
  }else{
    hasstyle.setAttribute('data-variable-hasstyle','false');
    DOM.styleTosheet.setAttribute('data-any','unclick');
  };
};

function reStyleSheetInfo(info){
  let hasstylesheet = getElementMix('data-variable-hasstylesheet');
  if(info){
    hasstylesheet.setAttribute('data-variable-hasstylesheet','true');
    DOM.sheetTostyle.setAttribute('data-any','');
  }else{
    hasstylesheet.setAttribute('data-variable-hasstylesheet','false');
    DOM.sheetTostyle.setAttribute('data-any','unclick');
  };
};

function reVariableInfo(info){
  let hasvar = getElementMix('data-variable-hasvar');
  if(info){
    hasvar.setAttribute('data-variable-hasvar','true');
  }else{
    hasvar.setAttribute('data-variable-hasvar','false');
  };
};

function reVariableSheetInfo(info){
  let hasvarsheet = getElementMix('data-variable-hasvarsheet');
  if(info){
    hasvarsheet.setAttribute('data-variable-hasvarsheet','true');
  }else{
    hasvarsheet.setAttribute('data-variable-hasvarsheet','false');
  };
};

getElementMix('data-variable-addstyle').addEventListener('click',()=>{
  toolMessage(['','addStyle'],PLUGINAPP);
});

getElementMix('data-variable-addstylesheet').addEventListener('click',()=>{
  toolMessage(['','addStyleSheet'],PLUGINAPP);
});

getElementMix('data-variable-addvar').addEventListener('click',()=>{
  toolMessage(['','addVariable'],PLUGINAPP);
});

getElementMix('data-variable-addvarsheet').addEventListener('click',()=>{
  toolMessage(['','addVariableSheet'],PLUGINAPP);
});

getElementMix('data-variable-relayout').addEventListener('click',()=>{
  toolMessage(['','reVariableLayout'],PLUGINAPP);
});

DOM.chkTablestyle.addEventListener('change',()=>{
  DOM.chkTablestyle.checked = true;
  getElementMix('chk-selectcomp').checked = false;
  getElementMix('data-selectcomp-box').style.display = 'none';
  getElementMix('data-tablestyle-box').style.display = 'flex';
  toolMessage([false,'selectComp'],PLUGINAPP);
});
DOM.chkSelectcomp.addEventListener('change',()=>{
  DOM.chkSelectcomp.checked = true;
  getElementMix('chk-tablestyle').checked = false;
  getElementMix('data-tablestyle-box').style.display = 'none';
  getElementMix('data-selectcomp-box').style.display = 'flex';
  toolMessage([true,'selectComp'],PLUGINAPP);
});

DOM.createTableBtn.addEventListener('click',()=>{
  let comp1 = getElementMix('data-selectcomp-1').textContent;
  let comp2 = getElementMix('data-selectcomp-2').textContent;
  comp1 = comp1 == 'none' ? null : comp1;
  comp2 = comp2 == 'none' ? null : comp2;
  let styleId = DOM.tableStyleSet.getAttribute('data-radio-value') - 1;
  if(getElementMix('chk-tablestyle').checked){
    toolMessage([[tableStyle[styleId]],'creTable'],PLUGINAPP);
  }else{
    toolMessage([[tableStyle[styleId],comp1,comp2],'creTable'],PLUGINAPP);
  };
});

DOM.btnHelp.forEach(item => {
  item.addEventListener('click',()=>{
    let key = item.getAttribute('data-help');
    if(DOM.dailogBox.innerHTML.split(helpData[key][0][1].split('<')[0]).length == 1){
      DOM.dailogBox.innerHTML = '';
      let node = document.createElement('div');
      node.className = 'df-ffc';
      helpData[key].forEach(item =>{
        let line = document.createElement(item[0]);
        let span =  document.createElement('span');
        span.innerHTML = item[1].replace(/\/\+\+/g,`<span data-highlight>`).replace(/\+\+\//g,'</span>');
        span.setAttribute('data-en-text',item[2].replace(/\/\+\+/g,`<span data-highlight>`).replace(/\+\+\//g,'</span>'));
        line.appendChild(span)
        if(item[0] == 'li'){
          line.setAttribute('data-li-style','2');
        };
        node.appendChild(line);
      });
      DOM.dailogBox.appendChild(node);

      if(ROOT.getAttribute('data-language') == 'En'){
        setLanguage(true);
        setLanguage(false);
      };

      loadFont(DOM.dailogBox);
    };
    DOM.dailog.style.display = 'flex';
  });
});

DOM.dailog.addEventListener('click',(e)=>{
  if(!DOM.dailogBox.contains(e.target)){
    DOM.dailog.style.display = 'none';
  };
});

DOM.skillStar.forEach(item =>{
  item.addEventListener('click',()=>{
    let isStar = item.getAttribute('data-skill-star');
    let skillId = item.parentNode.getAttribute('data-skill-sec');
    if(skillId){
      let cover = document.querySelector(`[data-skill-cover="${skillId}"]`);
      let skillNode = document.querySelector(`[data-skill-sec="${skillId}"]`);
      if(isStar == "true"){
        item.setAttribute('data-skill-star','false');
        cover.parentNode.insertBefore(skillNode,cover);
        userSkillStar = userSkillStar.filter(id => id !== skillId);
        storageMix.set('userSkillStar',JSON.stringify(userSkillStar));
        cover.remove();
        reSkillNum();
      } else {
        let numModel = skillNode.parentNode.getAttribute('data-skillnum');
        if(numModel == 2){
          tipsAll(['Á¶ÅÊ≠¢Êî∂ËóèÊï¥‰∏™Ê®°ÂùóÁöÑÂäüËÉΩ',"Don't star all functions of same module"],3000,4)
        }else{
          moveSkillStar([skillId]);
          userSkillStar.push(skillId);
          storageMix.set('userSkillStar',JSON.stringify(userSkillStar));

        };
      };
    };
  });
});
function moveSkillStar(stars){
  stars.forEach(item => {
    let skillNode = document.querySelector(`[data-skill-sec="${item}"]`);
    if(skillNode){
      let cover = document.createElement('div');
      cover.setAttribute('data-skill-cover',item);
      cover.setAttribute('style','display: none');
      skillNode.parentNode.insertBefore(cover,skillNode);
      DOM.skillStarModel.prepend(skillNode);
      let star = skillNode.querySelector('[data-skill-star]');
      star.setAttribute('data-skill-star','true')
    };
  });
  reSkillNum();
};
function reSkillNum(){
  let models = document.querySelectorAll('[data-skillmodule]');
  models.forEach(model => {
    let skills = model.querySelectorAll('[data-skill-sec]');
    model.setAttribute('data-skillnum',skills.length);
    model.setAttribute('data-skillnum-odd',skills.length%2);
  });
};

document.querySelectorAll('[data-reset-all]').forEach(reall => {
  reall.addEventListener('click',()=>{
    let btnReAll = reall.parentNode.parentNode.querySelectorAll('[data-input-reset]');
    btnReAll.forEach(item =>{
      item.click();
    });
  });
});

DOM.pixelScale.addEventListener('change',()=>{
  let set = document.querySelector('[data-pixelscale-set]');
  let sets = set.querySelectorAll('[data-radio-data]');
  let num = [];
  sets.forEach(item => {
    num.push(item.getAttribute('data-radio-data'));
  })
  if(num.includes(DOM.pixelScale.value)){
    set.querySelector(`[data-radio-data="${DOM.pixelScale.value}"]`);
  }else{
    num.forEach(item => {
      set.querySelector(`[data-radio-data="${item}"]`).setAttribute('data-radio-main','false')
    });
  };
});

getElementMix('data-split-tags').querySelectorAll('[type="checkbox"]').forEach(check => {
  check.addEventListener('change',()=>{
    if(check.checked){
      check.parentNode.parentNode.setAttribute('data-check-checked','true')
    }else{
      check.parentNode.parentNode.setAttribute('data-check-checked','false')
    };
  });
});

class QRCodeGridController {
  constructor(gridSelector, resizeSelector, viewBoxSelector) {

    this.grid = document.querySelector(gridSelector);
    this.resize = document.querySelector(resizeSelector);
    this.viewBox = document.querySelector(viewBoxSelector);

    if(!this.grid || !this.resize || !this.viewBox) {
      console.warn('QRCodeGridController: Áº∫Â∞ëÂøÖË¶ÅÁöÑDOMÂÖÉÁ¥†');
      return;
    }

    this.parent = this.grid.parentElement;

    this.page = this.grid.closest('[data-page-main]');

    this.isDragging = false;
    this.isResizing = false;
    this.dragStartX = 0;
    this.dragStartY = 0;
    this.gridStartX = 0;
    this.gridStartY = 0;
    this.resizeStartX = 0;
    this.resizeStartY = 0;
    this.gridStartWidth = 0;
    this.isInitialized = false;

    this.mousemoveHandler = null;
    this.mouseupHandler = null;
    this.resizeObserver = null;
    this.resizeTimeout = null;

    this.init();
  }

  setGridSizeToEightyPercent() {
    const parentRect = this.parent.getBoundingClientRect();
    if(parentRect.width > 0 && parentRect.height > 0) {
      const eightyPercent = Math.min(parentRect.width, parentRect.height) * 0.8;
      this.grid.style.width = eightyPercent + 'px';
      return true;
    }
    return false;
  }

  handleDragStart(e) {

    if(e.target === this.resize || this.resize.contains(e.target)) {
      return;
    }

    this.isDragging = true;
    this.grid.classList.add('dragging');

    this.dragStartX = e.clientX;
    this.dragStartY = e.clientY;

    const computedStyle = window.getComputedStyle(this.grid);
    this.gridStartX = parseFloat(computedStyle.left) || 0;
    this.gridStartY = parseFloat(computedStyle.top) || 0;

    e.preventDefault();
  }

  handleResizeStart(e) {
    this.isResizing = true;

    const gridRect = this.grid.getBoundingClientRect();
    this.resizeStartX = e.clientX;
    this.resizeStartY = e.clientY;
    this.gridStartWidth = gridRect.width;

    const computedStyle = window.getComputedStyle(this.grid);
    this.gridStartX = parseFloat(computedStyle.left) || 0;
    this.gridStartY = parseFloat(computedStyle.top) || 0;

    e.preventDefault();
    e.stopPropagation();
  }

  handleMouseMove(e) {
    if(this.isDragging) {
      const parentRect = this.parent.getBoundingClientRect();
      const gridRect = this.grid.getBoundingClientRect();

      let newX = this.gridStartX + (e.clientX - this.dragStartX);
      let newY = this.gridStartY + (e.clientY - this.dragStartY);

      const maxX = parentRect.width - gridRect.width;
      const maxY = parentRect.height - gridRect.height;

      newX = Math.max(0, Math.min(newX, maxX));
      newY = Math.max(0, Math.min(newY, maxY));

      this.grid.style.left = newX + 'px';
      this.grid.style.top = newY + 'px';
    }

    if(this.isResizing) {
      const parentRect = this.parent.getBoundingClientRect();

      const deltaX = e.clientX - this.resizeStartX;
      const deltaY = e.clientY - this.resizeStartY;

      const absX = Math.abs(deltaX);
      const absY = Math.abs(deltaY);
      const delta = absX > absY ? deltaX : deltaY;

      let newWidth = this.gridStartWidth + delta;

      const minWidth = 50;

      const maxWidth = Math.min(parentRect.width - this.gridStartX, parentRect.height - this.gridStartY);

      newWidth = Math.max(minWidth, Math.min(newWidth, maxWidth));

      if(this.gridStartX + newWidth > parentRect.width) {
        newWidth = parentRect.width - this.gridStartX;
      }
      if(this.gridStartY + newWidth > parentRect.height) {
        newWidth = parentRect.height - this.gridStartY;
      }

      this.grid.style.width = newWidth + 'px';

    }
  }

  handleMouseUp() {
    if(this.isDragging) {
      this.isDragging = false;
      this.grid.classList.remove('dragging');
    }
    if(this.isResizing) {
      this.isResizing = false;
    }
  }

  centerGrid() {
    const parentRect = this.parent.getBoundingClientRect();
    const computedStyle = window.getComputedStyle(this.grid);
    const currentWidth = parseFloat(computedStyle.width);

    if(parentRect.width <= 0 || parentRect.height <= 0) {
      return false;
    }

    if(!currentWidth || currentWidth <= 0) {
      return false;
    }

    const centerLeft = (parentRect.width - currentWidth) / 2;
    const centerTop = (parentRect.height - currentWidth) / 2;

    this.grid.style.left = Math.max(0, centerLeft) + 'px';
    this.grid.style.top = Math.max(0, centerTop) + 'px';

    return true;
  }

  adjustGridToFitParent() {
    if(this.isDragging || this.isResizing || this.page.getAttribute('data-page-main') == 'library') return;

    const parentRect = this.parent.getBoundingClientRect();
    const computedStyle = window.getComputedStyle(this.grid);
    const currentWidth = parseFloat(computedStyle.width) || 200;
    const currentLeft = parseFloat(computedStyle.left) || 0;
    const currentTop = parseFloat(computedStyle.top) || 0;

    let newWidth = currentWidth;
    let newLeft = currentLeft;
    let newTop = currentTop;

    if(newWidth > parentRect.width) {
      newWidth = parentRect.width;
    }

    if(newWidth > parentRect.height) {
      newWidth = parentRect.height;
    }

    const minWidth = 180;
    if(newWidth < minWidth) {
      newWidth = minWidth;
    }

    if(newLeft + newWidth > parentRect.width) {
      newLeft = Math.max(0, parentRect.width - newWidth);
    }
    if(newTop + newWidth > parentRect.height) {
      newTop = Math.max(0, parentRect.height - newWidth);
    }

    if(newLeft < 0) newLeft = 0;
    if(newTop < 0) newTop = 0;

    if(newWidth !== currentWidth) {
      this.grid.style.width = newWidth + 'px';
    }
    if(newLeft !== currentLeft) {
      this.grid.style.left = newLeft + 'px';
    }
    if(newTop !== currentTop) {
      this.grid.style.top = newTop + 'px';
    }
  }

  initializeGrid() {

    const sizeSet = this.setGridSizeToEightyPercent();
    if(sizeSet) {

      this.centerGrid();

      this.isInitialized = true;

      this.adjustGridToFitParent();
    }
  }

  tryInitialize() {
    const parentRect = this.parent.getBoundingClientRect();

    if(parentRect.width > 0 && parentRect.height > 0) {
      this.initializeGrid();
    } else {

      let retryCount = 0;
      const maxRetries = 10;
      const retryInterval = setInterval(() => {
        retryCount++;
        const rect = this.parent.getBoundingClientRect();
        if(rect.width > 0 && rect.height > 0) {
          this.initializeGrid();
          clearInterval(retryInterval);
        } else if(retryCount >= maxRetries) {
          clearInterval(retryInterval);

          this.initializeGrid();
        }
      }, 50);
    }
  }

  init() {
    if(!this.grid || !this.resize || !this.viewBox) return;

    this.grid.addEventListener('mousedown', (e) => this.handleDragStart(e));
    this.resize.addEventListener('mousedown', (e) => this.handleResizeStart(e));

    this.mousemoveHandler = (e) => this.handleMouseMove(e);
    this.mouseupHandler = () => this.handleMouseUp();

    document.addEventListener('mousemove', this.mousemoveHandler);
    document.addEventListener('mouseup', this.mouseupHandler);

    this.resizeObserver = new ResizeObserver(() => {
      if(!this.isInitialized) {

        this.initializeGrid();
      } else {

        this.adjustGridToFitParent();
      }
    });

    this.resizeObserver.observe(this.parent);

    window.addEventListener('resize', () => {
      clearTimeout(this.resizeTimeout);
      this.resizeTimeout = setTimeout(() => {
        if(!this.isInitialized) {

          this.initializeGrid();
        } else {

          this.adjustGridToFitParent();
        }
      }, 100);
    });

    if(document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => this.tryInitialize(), 100);
      });
    } else {
      setTimeout(() => this.tryInitialize(), 100);
    }
  }

  destroy() {
    if(this.mousemoveHandler) {
      document.removeEventListener('mousemove', this.mousemoveHandler);
    }
    if(this.mouseupHandler) {
      document.removeEventListener('mouseup', this.mouseupHandler);
    }
    if(this.resizeObserver) {
      this.resizeObserver.disconnect();
    }
    if(this.resizeTimeout) {
      clearTimeout(this.resizeTimeout);
    }
  }
}

const qrcodeGridController = new QRCodeGridController(
  '[data-qrcode-grid]',
  '[data-qrcode-grid-resize]',
  '[data-qrcode-view-box]'
);

function reSelectComp(info){

  if(info[0] || info[1] || info[2]){
    chkSelectcomp.checked = true;
    getElementMix('chk-tablestyle').checked = false;
    getElementMix('for="chk-selectcomp"').setAttribute('data-tips-x','left');
    getElementMix('chk-tablestyle').parentNode.style.pointerEvents = 'none';
    getElementMix('chk-tablestyle').parentNode.style.opacity = '0.5';
    getElementMix('data-tablestyle-box').style.display = 'none';
    getElementMix('data-selectcomp-box').style.display = 'flex';
    getElementMix('data-selectcomp-box').setAttribute('data-selectcomp-box','true')
    let comp1 = getElementMix('data-selectcomp-1');
    let comp2 = getElementMix('data-selectcomp-2');
    comp1.textContent = info[0] ? info[0] : 'none';
    comp1.style.opacity = info[0] ? '1' : '0.5';
    comp2.textContent = info[1] ? info[1] : 'none';
    comp2.style.opacity = info[1] ? '1' : '0.5';
    if(!info[1] && info[2]){
      comp2.textContent = info[2] ? info[2] : 'none';
      comp2.style.opacity = info[2] ? '1' : '0.5';
    };
  } else {
    getElementMix('for="chk-selectcomp"').setAttribute('data-tips-x','right');
    getElementMix('chk-tablestyle').parentNode.style.pointerEvents = 'auto';
    getElementMix('chk-tablestyle').parentNode.style.opacity = '1';
    getElementMix('data-selectcomp-box').setAttribute('data-selectcomp-box','false')
  };

};
function reSelectDatas(info){
  let text = '';
  if(Array.isArray(info[0])){
    text = tableArrayToText(info);
  }else{
    text = tableObjToText(info);
  };
  let textarea = getElementMix('upload-tablearea');
  textarea.focus();
  textarea.value = text;
};
function editImage(info){
  let [type,id,u8a] = info;

  let newInfo = [id,u8a]
  toolMessage([newInfo,type],PLUGINAPP);
}

function viewPage(name){
  let tab = document.getElementById(`tab_${name}_0`);
  tab.checked = true;
  let inputEvent = new Event('change',{bubbles:true});
  tab.dispatchEvent(inputEvent);
};

document.addEventListener('paste', async (e) => {
    if(!DOM.skewscaleViewPick.checked) return;

    e.preventDefault();
    console.log(e.clipboardData);
    console.log(e.clipboardData.types);
    if(e.clipboardData.types.includes('text/html')){
        const html = e.clipboardData.getData('text/html');
        console.log(html);
    }
    if(e.clipboardData.types.includes('text/plain')){
        const text = e.clipboardData.getData('text/plain');
        console.log(text);
    }

});

getUserMix.register('tab', getUserTab);
getUserMix.register('color', getUserColor);
getUserMix.register('number', getUserNumber);
getUserMix.register('text', getUserText);
getUserMix.register('int', getUserInt);
getUserMix.register('float', getUserFloat);
getUserMix.register('select', getUserSelect);
getUserMix.register('radio', getUserRadio);

function getCompChange(container){
  getUserMix.init(container);
}

function getUserTab(node){
  let tabPick = node.getAttribute('data-tab-pick').split('tab_')[1]
  if(tabPick){
    if(typeof storageMix !== 'undefined' && storageMix && typeof storageMix.set === 'function'){
      storageMix.set('tabPick',tabPick);
    }
    if(tabPick == 'more tools'){
      toolMessage(['','selectInfo'],PLUGINAPP);
    }
  }
};

function getUserColor(node){
  let color = {
    HEX:node.getAttribute('data-color-hex'),
    RGB:node.getAttribute('data-color-rgb'),
    HSL:node.getAttribute('data-color-hsl'),
    HSV:node.getAttribute('data-color-hsv'),
  }
  if(node.parentNode.getAttribute('data-color-mix') !== null){
    DOM.editorViewbox.style.setProperty('--bg',color.HEX);
  }

};

function getUserNumber(node){
  let number = node.getAttribute('data-number-value');
  if(node.getAttribute('data-skewset-x') !== null){
    node.parentNode.parentNode.parentNode.style.setProperty('--skewX',number)
    sendTransform();
  };
  if(node.getAttribute('data-skewset-y') !== null){
    node.parentNode.parentNode.parentNode.style.setProperty('--skewY',number)
    sendTransform();
  };
  if(node.getAttribute('data-scaleset-x') !== null){
    node.parentNode.parentNode.parentNode.style.setProperty('--scaleX',number)
    sendTransform();
  };
  if(node.getAttribute('data-scaleset-y') !== null){
    node.parentNode.parentNode.parentNode.style.setProperty('--scaleY',number)
    sendTransform();
  };
};

function getUserText(node){
  let text = node.getAttribute('data-text-value');

};

function getUserInt(node){
  let int = node.getAttribute('data-int-value');
  if(node.getAttribute('data-export-size') !== null){
    let index = node.getAttribute('data-export-size');
    ExportImageInfo[index].finalSize = int;
    ExportImageInfo[index].compressed = null;
    toolMessage([[ExportImageInfo[index].id,int],'setFinalSize'],PLUGINAPP);
    let tag = getElementMix('data-export-tag="'+ index +'"');
    let realSize = tag.querySelector('[data-export-realsize]');
    realSize.textContent = '--';
    realSize.setAttribute('data-export-realsize','');
    realSize.nextElementSibling.textContent = '10';
  };
  if(node.getAttribute('data-imgnum-input') !== null){
    let viewimg = DOM.dailogImgBox.querySelector('img');
    if(int > ExportImageInfo.length){
      DOM.imgnumSet.value = viewimg.getAttribute('data-imgnum-pick');
      return
    }
    let layer = ExportImageInfo[int - 1];
    if(!layer) return;
    let img = layer.compressed ? layer.compressed : layer.u8a;
    let ismaxW = layer.width >= layer.height ? 'true' : 'false';
    viewimg.setAttribute('data-ismaxW',ismaxW);
    viewimg.src = URL.createObjectURL(new Blob([img],{type:'image/' + layer.format}));
    DOM.dailogImgBox.appendChild(viewimg);
    viewimg.setAttribute('data-imgnum-pick',int);
  }
  if(node.getAttribute('data-qrcode-grid-num') !== null){
    getElementMix('data-qrcode-grid').style.setProperty('--grid',int);
  };

};

function getUserFloat(node){
  let float = node.getAttribute('data-float-value');
  if(node == DOM.uniformS.parentNode){
    let value = float * 1;
    let center = getElementMix('data-transform-center-box').getAttribute('data-radio-value');
    toolMessage([['S',value,center],'rescaleMix'],PLUGINAPP);
    DOM.uniformS.value = 1;
  };
  if(node == DOM.uniformW.parentNode){
    let value = float * 1;
    let center = getElementMix('data-transform-center-box').getAttribute('data-radio-value');
    toolMessage([['W',value,center],'rescaleMix'],PLUGINAPP);
    DOM.uniformW.value = '';
  };
  if(node == DOM.uniformH.parentNode){
    let value = float * 1;
    let center = getElementMix('data-transform-center-box').getAttribute('data-radio-value');
    toolMessage([['H',value,center],'rescaleMix'],PLUGINAPP);
    DOM.uniformH.value = '';
  };

};

function getUserSelect(node){
  let userSelect = node.getAttribute('data-select-value');
  if(node.parentNode.parentNode.id == 'upload-moreset-box'){
    DOM.frameName.value = userSelect;
  }
  if(node.parentNode.parentNode.getAttribute('data-export-tag') !== null){
    let index = node.parentNode.parentNode.getAttribute('data-export-tag');
    ExportImageInfo[index].format = userSelect;
    ExportImageInfo[index].compressed = null;
    let tag = getElementMix('data-export-tag="'+ index +'"');
    let realSize = tag.querySelector('[data-export-realsize]');
    realSize.textContent = '--';
    realSize.setAttribute('data-export-realsize','');
    realSize.nextElementSibling.textContent = '10';
  };
};

function getUserRadio(node){
  let userRadio= node.getAttribute('data-radio-value');
  if(userRadio){
    if(node.getAttribute('data-pixelscale-set') !== null){
      DOM.pixelScale.value = userRadio;
    };

    if(node.getAttribute('data-clip-w-set') !== null){
      let clipH = getElementMix('data-clip-h-set').querySelector('[data-radio-main="true"]').getAttribute('data-radio-data');
      toolMessage([[userRadio * 1,clipH * 1],'addClipGrid'],PLUGINAPP);
    };
    if(node.getAttribute('data-clip-h-set') !== null){
      let clipW = getElementMix('data-clip-w-set').querySelector('[data-radio-main="true"]').getAttribute('data-radio-data');
      toolMessage([[clipW * 1,userRadio * 1],'addClipGrid'],PLUGINAPP);
    };

    if(node.getAttribute('data-skilltype-box') !== null){
      let modelid = skillModel[userRadio - 1][1];

      let model = DOM.skillAllBox.querySelector(`[data-skillmodule="${modelid}"]`);
      let skillnode = model.querySelector('[data-skill-sec]');
      if(isSkillScroll){
        skillnode.scrollIntoView({
          behavior: 'smooth',
          block: 'center',
          inline: 'nearest',
        });
      };
    };

    if(node.getAttribute('data-exporttype-set') !== null){
      let type = ['image','zy','rich'];
      getElementMix('data-export-tags-box').setAttribute('data-export-tags-box',type[(userRadio - 1)]);
    };

    if(node.parentNode.parentNode.getAttribute('data-variable-type') !== null){
      let vars = getElementMix('data-variable-varmix');
      let styles = getElementMix('data-variable-stylemix');
      if( userRadio == 'variable'){
        vars.style.display = 'flex';
        styles.style.display = 'none';
      }else{
        vars.style.display = 'none';
        styles.style.display = 'flex';
      };
    };
  };
};



  


const SKILL_STRATEGIES = {
  'Pixel As Copy': () => sendPixel('Pixel As Copy'),
  'Pixel Overwrite': () => sendPixel('Pixel Overwrite'),
  'Split By Conditions': () => sendSplit('tags'),
  'Split By Symbol': () => sendSplit('inputs'),
  'Mapping Names': () => sendTable('mapName'),
  'Mapping Texts': () => sendTable('mapText'),
  'Mapping Properties': () => sendTable('mapPro'),
  'Mapping Tags': () => sendTable('mapTag'),
  'Get Names': () => sendTable('getName'),
  'Get Texts': () => sendTable('getText'),
  'Get Properties': () => sendTable('getPro'),
  'Get Tags': () => sendTable('getTag'),
  'Apply Preset': () => sendTableSet('style'),
  'Add C/R': () => sendTableSet('add'),
  'Reduce C/R': () => sendTableSet('reduce'),
  'Random Theme': () => sendTableSet('theme'),
  'Select a Row': () => sendTablePick('row'),
  'Select many Rows': () => sendTablePick('allrow'),
  'Select Block': () => sendTablePick('block'),
  'Select Inline': () => sendTablePick('inline'),
  'Up Export-set': () => upSelect('exportset'),
  'Up Default': () => upSelect('default')
};

const SKILL_DBLCLICK_STRATEGIES = {

};

DOM.skillBtnMain.forEach(btn => {
  let clickTimer = null;

  btn.addEventListener('dblclick',()=>{

    if(clickTimer){
      clearTimeout(clickTimer);
      clickTimer = null;
    };

    const skillname = btn.getAttribute('data-en-text');
    if(btn.getAttribute('data-btn-dblclick') !== null && skillname){
      const strategy = SKILL_DBLCLICK_STRATEGIES[skillname];
      if (strategy) {
        strategy();
      } else {
        toolMessage(['',skillname],PLUGINAPP);
      }
    };
  });

  btn.addEventListener('click',()=>{
    const skillname = btn.getAttribute('data-en-text');
    if (!skillname) return;

    if(clickTimer){
      clearTimeout(clickTimer);
    };

    clickTimer = setTimeout(()=>{
      const strategy = SKILL_STRATEGIES[skillname];
      if (strategy) {
        strategy();
      } else {
        toolMessage([true,skillname],PLUGINAPP);
      }
      clickTimer = null;
    }, DELAY.SKILL_CLICK);
  });
});

function sendPixel(name){
  let mix = DOM.skillAllBox.querySelector('[data-pixel-mix]').getAttribute('data-select-value').split('‚â§ ')[1].split('px')[0]*1;
  let s = DOM.pixelScale.value;
  let cuts = [];
  tipsAll(MESSAGES.READING, SelectNodeInfo.length * 800);
  setTimeout(()=>{
    SelectNodeInfo.forEach((item) => {
    let w = item[1];
    let h = item[2];
    let cut = tool.CUT_AREA({w:w,h:h,x:0,y:0,s:s},mix);
    cuts.push(cut);
  });

  toolMessage([cuts,name],PLUGINAPP);
  },100);
};

function sendTransform(){
  let data = {
    x: DOM.skewSetX.value * 1,
    y: DOM.skewSetY.value * 1,
    w: DOM.scaleSetX.value * 1,
    h: DOM.scaleSetY.value * 1,
  }
  toolMessage([data,'transformMix'],PLUGINAPP);
};

function sendSplit(type){
  if(type == 'tags'){
    let tagsBox = getElementMix('data-split-tags').querySelectorAll('[data-check-checked="true"]');
    let tags = [];
    tagsBox.forEach(item => {
      let tag = item.querySelector('[data-split-info="name"]').getAttribute('data-en-text');
      tags.push(tag);
    });

    toolMessage([[tags,'tags'],'splitText'],PLUGINAPP);
  };
  if(type == 'inputs'){
    let inputs = document.getElementById('split-word').value;
    let type = document.querySelector('[data-splitword-set]').getAttribute('data-radio-value');
    toolMessage([[[inputs,type],'inputs'],'splitText'],PLUGINAPP);
  };
};

function sendTable(type){
  let data = '';
  let clone = true;
  let reduce = false;
  let enters = getElementMix('input-linefeed').value;
  let nulls = getElementMix('input-nulldata').value;
  if(type == 'mapName' || type == 'mapText' ){
    data = tableTextToArray(getElementMix('upload-tablearea').value.trim(),true);
  };
  if(type == 'mapPro' || type == 'mapTag' ){
    data = tableArrayToObj(tableTextToArray(getElementMix('upload-tablearea').value.trim()))
  };
  if(type.includes('map')){
    clone = getElementMix('switch-autoclone').checked;
    reduce = getElementMix('switch-autoreduce').checked;
  };

  toolMessage([{data:data,clone:clone,reduce:reduce,enters:enters,nulls:nulls},type],PLUGINAPP);
};

function applyTableStyleStrategy(){
  const styleId = DOM.tableStyleSet?.getAttribute('data-radio-value') - 1;
  if (styleId >= 0 && tableStyle && tableStyle[styleId]) {
    toolMessage([[tableStyle[styleId],'style'],'reTable'],PLUGINAPP);
  } else {
    console.warn('applyTableStyleStrategy: Invalid styleId or tableStyle');
  }
};

function addTableRowColStrategy(){
  const H = getElementMix('table-column-num');
  const V = getElementMix('table-row-num');
  if (H && V) {
    toolMessage([[[H.value,V.value],'add'],'reTable'],PLUGINAPP);
    H.value = 0;
    V.value = 0;
  } else {
    console.warn('addTableRowColStrategy: H or V element not found');
  }
};

function reduceTableRowColStrategy(){
  const H = getElementMix('table-column-num');
  const V = getElementMix('table-row-num');
  if (H && V) {
    toolMessage([[[H.value * -1,V.value * -1],'reduce'],'reTable'],PLUGINAPP);
    H.value = 0;
    V.value = 0;
  } else {
    console.warn('reduceTableRowColStrategy: H or V element not found');
  }
};

function randomTableThemeStrategy(){
  const styleId = DOM.tableStyleSet?.getAttribute('data-radio-value') - 1;
  if (styleId >= 0 && tableStyle && tableStyle[styleId]) {

    toolMessage([[tableStyle[styleId],'theme'],'reTable'],PLUGINAPP);
  } else {
    console.warn('randomTableThemeStrategy: Invalid styleId or tableStyle');
  }
};

const TABLE_SET_FUNCTIONS = {
  'style': applyTableStyleStrategy,
  'add': addTableRowColStrategy,
  'reduce': reduceTableRowColStrategy,
  'theme': randomTableThemeStrategy
};

function sendTableSet(type){
  const strategy = TABLE_SET_FUNCTIONS[type];
  if (!strategy) {
    console.warn(`Unknown table set type: ${type}`);
    return;
  }
  strategy();
};

function sendTablePick(type){
  toolMessage([type,'pickTable'],PLUGINAPP);
};

function upSelect(type){
  let exporttype = getElementMix('data-exporttype-set').getAttribute('data-radio-value');
  let types = ['image','zy','rich']
  toolMessage([[types[exporttype - 1],type],'upSelect'],PLUGINAPP);
};



  


function getAuthText(key, ...args) {
  const lang = getLanguageIntime() || 'zh';
  const langMap = AUTH_I18N[lang] || AUTH_I18N.zh;
  let text = langMap[key] || key;

  if (args && args.length > 0) {
    args.forEach((arg, index) => {
      text = text.replace(`{${index}}`, arg);
    });
  }

  return text;
}

const AuthStorage = {

  get(key) {
    if (!PLUGINAPP) {

      try {
        const stored = localStorage.getItem(key);
        return stored ? JSON.parse(stored) : null;
      } catch (e) {
        return null;
      }
    }

    return null;
  },

  set(key, value) {
    if (PLUGINAPP) {

      toolMessage([[key, value], 'setlocal'], PLUGINAPP);
    } else {

      try {
        localStorage.setItem(key, JSON.stringify(value));
      } catch (e) {
        console.error('Failed to save to localStorage:', e);
      }
    }
  },

  remove(key) {
    if (PLUGINAPP) {

      toolMessage([[key, null], 'setlocal'], PLUGINAPP);
    } else {

      try {
        localStorage.removeItem(key);
      } catch (e) {
        console.error('Failed to remove from localStorage:', e);
      }
    }
  }
};

let supabaseClient = null;
function initSupabaseClient() {
  if (AUTH_CONFIG.USE_SUPABASE) {

    if (typeof supabase !== 'undefined' && supabase.createClient) {
      try {
        supabaseClient = supabase.createClient(
          AUTH_CONFIG.SUPABASE_URL,
          AUTH_CONFIG.SUPABASE_ANON_KEY
        );
        console.log('Supabase client initialized successfully');
        return true;
      } catch (e) {
        console.error('Failed to initialize Supabase:', e);
        return false;
      }
    } else {
      console.warn('Supabase SDK not loaded. Check if the script tag is present and loaded correctly.');
      console.log('typeof supabase:', typeof supabase);
      return false;
    }
  }
  return false;
}

function tryInitSupabase() {
  if (AUTH_CONFIG.USE_SUPABASE && !supabaseClient) {

    if (typeof supabase !== 'undefined' && supabase.createClient) {
      return initSupabaseClient();
    } else {

      let retries = 0;
      const maxRetries = 5;
      const checkInterval = setInterval(() => {
        retries++;
        if (typeof supabase !== 'undefined' && supabase.createClient) {
          clearInterval(checkInterval);
          initSupabaseClient();
        } else if (retries >= maxRetries) {
          clearInterval(checkInterval);
          console.error('Supabase SDK failed to load after multiple retries');
        }
      }, 200);
    }
  }
}

var AuthManager = {
  currentUser: null,
  usersList: [],

  setCurrentUser(user) {
    this.currentUser = user;
  },

  setUsersList(users) {
    this.usersList = users || [];
  },

  async init() {
    try {

      if (AUTH_CONFIG.USE_SUPABASE && supabaseClient) {
        try {
          const { data: { session }, error } = await supabaseClient.auth.getSession();
          if (!error && session?.user) {

            let profile = null;
            try {
              const { data: profileData, error: profileError } = await supabaseClient
                .from('user_profiles')
                .select('username,is_premium')
                .eq('id', session.user.id)
                .maybeSingle();

              if (profileError) {
                console.warn('Failed to fetch user profile in init:', {
                  error: profileError,
                  message: profileError.message,
                  code: profileError.code
                });

              } else if (profileData) {
                profile = profileData;
                console.log('User profile fetched in init:', profile);
              } else {
                console.log('User profile not found in init, using defaults');
              }
            } catch (e) {
              console.warn('Failed to fetch user profile in init:', e);

            }

            this.currentUser = {
              id: session.user.id,
              email: session.user.email,
              username: profile?.username || session.user.email.split('@')[0],
              isPremium: profile?.is_premium || false
            };
            AuthStorage.set(AUTH_CONFIG.STORAGE_KEY_USER, this.currentUser);
            this.updateUI();
            return;
          }
        } catch (e) {
          console.warn('Supabase session check failed:', e);
        }
      }

      if (!PLUGINAPP) {
        const user = AuthStorage.get(AUTH_CONFIG.STORAGE_KEY_USER);
        if (user) {
          this.currentUser = user;
          this.updateUI();
        }
        const users = AuthStorage.get(AUTH_CONFIG.STORAGE_KEY_USERS);
        if (users) {
          this.usersList = users;
        }
      }

    } catch (e) {
      console.error('Failed to load user data:', e);
    }
  },

  validateUsername(username) {
    if (!username) {
      return {
        valid: false,
        error: AUTH_I18N.zh.usernameTooShort,
        errorEn: AUTH_I18N.en.usernameTooShort
      };
    }

    if (/^\d+$/.test(username) || /^-+$/.test(username)) {
      return {
        valid: false,
        error: AUTH_I18N.zh.usernameInvalidChars,
        errorEn: AUTH_I18N.en.usernameInvalidChars
      };
    }
    const usernameRegex = /^[a-zA-Z0-9_-]{2,20}$/;
    if (!usernameRegex.test(username)) {
      if (username.length < 2 || username.length > 20) {
        return {
          valid: false,
          error: AUTH_I18N.zh.usernameInvalidLength,
          errorEn: AUTH_I18N.en.usernameInvalidLength
        };
      }
      return {
        valid: false,
        error: AUTH_I18N.zh.usernameInvalidChars,
        errorEn: AUTH_I18N.en.usernameInvalidChars
      };
    }
    return { valid: true };
  },

  validatePassword(password) {
    if (!password) {
      return {
        valid: false,
        error: AUTH_I18N.zh.passwordTooShort,
        errorEn: AUTH_I18N.en.passwordTooShort
      };
    }

    const passwordRegex = /^[a-zA-Z0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]{6,50}$/;
    if (!passwordRegex.test(password)) {
      if (password.length < 6 || password.length > 50) {
        return {
          valid: false,
          error: AUTH_I18N.zh.passwordInvalidLength,
          errorEn: AUTH_I18N.en.passwordInvalidLength
        };
      }
      return {
        valid: false,
        error: AUTH_I18N.zh.passwordInvalidChars,
        errorEn: AUTH_I18N.en.passwordInvalidChars
      };
    }
    return { valid: true };
  },

  async register(email, username, password) {

    if (!email || !email.includes('@')) {
      return { success: false, error: getAuthText('invalidEmail') };
    }

    const usernameValidation = this.validateUsername(username);
    if (!usernameValidation.valid) {
      return { success: false, error: usernameValidation.error };
    }

    const passwordValidation = this.validatePassword(password);
    if (!passwordValidation.valid) {
      return { success: false, error: passwordValidation.error };
    }

    if (AUTH_CONFIG.USE_SUPABASE) {

      if (!supabaseClient) {
        console.log('Supabase client not initialized, attempting to initialize...');
        const initResult = tryInitSupabase();

        await new Promise(resolve => setTimeout(resolve, 100));

        if (!supabaseClient) {
          console.error('Supabase client initialization failed. Check:', {
            'SDK loaded': typeof supabase !== 'undefined',
            'createClient exists': typeof supabase !== 'undefined' && typeof supabase.createClient !== 'undefined',
            'URL configured': !!AUTH_CONFIG.SUPABASE_URL,
            'Key configured': !!AUTH_CONFIG.SUPABASE_ANON_KEY
          });
          return { success: false, error: getAuthText('supabaseNotInitialized') };
        }
      }

      try {

        const { data, error } = await supabaseClient.auth.signUp({
          email: email,
          password: password,
          options: {
            data: {
              username: username
            },
          }
        });

        if (error) {

          console.error('Supabase registration error:', {
            message: error.message,
            status: error.status,
            code: error.code,
            fullError: error
          });

          let errorMsg = error.message;

          const isAlreadyRegistered =
            error.message?.toLowerCase().includes('already registered') ||
            error.message?.toLowerCase().includes('user already registered') ||
            error.message?.toLowerCase().includes('email already registered') ||
            error.status === 422 && error.message?.toLowerCase().includes('exists') ||
            error.code === '23505' ||
            error.message?.toLowerCase().includes('duplicate') ||
            error.message?.toLowerCase().includes('already exists');

          if (isAlreadyRegistered) {
            errorMsg = getAuthText('emailAlreadyRegistered');
          } else if (error.status === 429 || error.code === 'over_email_send_rate_limit') {

            const waitTime = error.message.match(/(\d+)\s*seconds?/i)?.[1] || '7';
            errorMsg = getAuthText('rateLimitError', waitTime);
          } else if (error.message?.toLowerCase().includes('invalid')) {
            errorMsg = getAuthText('invalidEmailFormat');
          } else {

            errorMsg = getAuthText('registrationFailed', error.message || getAuthText('unknownError'));
          }
          return { success: false, error: errorMsg };
        }

        if (!data.user) {
          return { success: false, error: getAuthText('registrationFailedRetry') };
        }

        const now = new Date();
        const createdAt = data.user.created_at ? new Date(data.user.created_at) : null;
        const timeDiff = createdAt ? (now - createdAt) / 1000 : null; // Áßí
        const { data: { session } } = await supabaseClient.auth.getSession();

        try {
          const { data: existingProfile } = await supabaseClient
            .from('user_profiles')
            .select('id')
            .eq('id', data.user.id)
            .maybeSingle();

          if (existingProfile) {
            if (session) await supabaseClient.auth.signOut();
            return { success: false, error: getAuthText('emailAlreadyRegistered') };
          }
        } catch (e) {

        }

        if (timeDiff !== null && timeDiff > 10) {
          if (session) await supabaseClient.auth.signOut();
          return { success: false, error: getAuthText('emailAlreadyRegistered') };
        }

        if (data.user.email_confirmed_at && timeDiff !== null && timeDiff > 3) {
          if (session) await supabaseClient.auth.signOut();
          return { success: false, error: getAuthText('emailAlreadyRegistered') };
        }

        if (data.user.last_sign_in_at && timeDiff !== null && timeDiff > 5) {
          const lastSignIn = new Date(data.user.last_sign_in_at);
          if ((now - lastSignIn) / 1000 > 5) {
            if (session) await supabaseClient.auth.signOut();
            return { success: false, error: getAuthText('emailAlreadyRegistered') };
          }
        }

        if (session) {
          try {
            const { data: profileData, error: profileError } = await supabaseClient
              .from('user_profiles')
              .insert({
                id: data.user.id,
                username: username,
                is_premium: false
              })
              .select()
              .single();

            if (profileError) {
              console.error('Failed to create user profile:', profileError);

              const isDuplicateError =
                profileError.code === '23505' ||
                profileError.message?.toLowerCase().includes('duplicate') ||
                profileError.message?.toLowerCase().includes('already exists') ||
                profileError.message?.toLowerCase().includes('unique constraint');

              if (isDuplicateError) {

                await supabaseClient.auth.signOut();
                return { success: false, error: getAuthText('emailAlreadyRegistered') };
              }

            } else {
              console.log('User profile created successfully:', profileData);
            }
          } catch (e) {
            console.error('User profile creation failed:', e);

          }
        } else {

          console.log('User registered but needs email confirmation. Profile will be created after confirmation.');

        }

        this.currentUser = {
          id: data.user.id,
          email: data.user.email,
          username: username,
          isPremium: false
        };

        if (session) {
          AuthStorage.set(AUTH_CONFIG.STORAGE_KEY_USER, this.currentUser);
          this.updateUI();
          return { success: true, user: this.currentUser };
        } else {

          return {
            success: true,
            user: this.currentUser,
            needsConfirmation: true,
            message: getAuthText('registrationSuccess')
          };
        }
      } catch (e) {
        console.error('Supabase registration failed:', e);
        return { success: false, error: getAuthText('registrationFailedRetry') };
      }
    }

    if (AUTH_CONFIG.USE_SUPABASE) {

      return { success: false, error: getAuthText('registrationFailedConfig') };
    }

    const existingUsers = this.getUsersList();
    console.log('Checking local users list:', existingUsers);
    if (existingUsers && existingUsers.length > 0 && existingUsers.find(u => u.email === email)) {
      return { success: false, error: getAuthText('emailAlreadyRegisteredLocal') };
    }

    const userId = 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
    const user = {
      id: userId,
      email: email,
      username: username,
      password: this.hashPassword(password),
      createdAt: new Date().toISOString(),
      isPremium: false
    };

    existingUsers.push(user);
    this.usersList = existingUsers;
    AuthStorage.set(AUTH_CONFIG.STORAGE_KEY_USERS, existingUsers);

    this.currentUser = { ...user };
    delete this.currentUser.password;
    AuthStorage.set(AUTH_CONFIG.STORAGE_KEY_USER, this.currentUser);

    this.updateUI();
    return { success: true, user: this.currentUser };
  },

  async login(email, password) {
    if (!email || !password) {
      return { success: false, error: getAuthText('enterEmailPassword') };
    }

    if (AUTH_CONFIG.USE_SUPABASE && supabaseClient) {
      try {

        const { data, error } = await supabaseClient.auth.signInWithPassword({
          email: email,
          password: password
        });

        if (error) {
          return { success: false, error: getAuthText('emailPasswordIncorrect') };
        }

        if (!data.user) {
          return { success: false, error: getAuthText('loginFailedRetry') };
        }

        let profile = null;
        try {

          const { data: profileData, error: profileError } = await supabaseClient
            .from('user_profiles')
            .select('username,is_premium')
            .eq('id', data.user.id)
            .maybeSingle();

          if (profileError) {
            console.warn('Failed to fetch user profile:', {
              error: profileError,
              message: profileError.message,
              code: profileError.code,
              details: profileError.details
            });

          } else if (profileData) {
            profile = profileData;
            console.log('User profile fetched successfully:', profile);
          } else {

            console.log('User profile not found, attempting to create...');
            try {
              const { data: newProfileData, error: createError } = await supabaseClient
                .from('user_profiles')
                .insert({
                  id: data.user.id,
                  username: data.user.email.split('@')[0],
                  is_premium: false
                })
                .select()
                .maybeSingle();

              if (!createError && newProfileData) {
                profile = newProfileData;
                console.log('User profile created successfully during login:', profile);
              } else if (createError) {
                console.warn('Failed to create user profile during login:', createError);
              }
            } catch (e) {
              console.warn('Exception while creating user profile during login:', e);
            }
          }
        } catch (e) {
          console.warn('Failed to fetch user profile:', e);
        }

        this.currentUser = {
          id: data.user.id,
          email: data.user.email,
          username: profile?.username || data.user.email.split('@')[0],
          isPremium: profile?.is_premium || false
        };

        AuthStorage.set(AUTH_CONFIG.STORAGE_KEY_USER, this.currentUser);
        this.updateUI();

        return { success: true, user: this.currentUser };
      } catch (e) {
        console.error('Supabase login failed:', e);
        return { success: false, error: getAuthText('loginFailedRetry') };
      }
    }

    const existingUsers = this.getUsersList();
    const user = existingUsers.find(u => u.email === email);

    if (!user) {
      return { success: false, error: getAuthText('emailPasswordIncorrect') };
    }

    if (!this.verifyPassword(password, user.password)) {
      return { success: false, error: getAuthText('emailPasswordIncorrect') };
    }

    this.currentUser = { ...user };
    delete this.currentUser.password;
    AuthStorage.set(AUTH_CONFIG.STORAGE_KEY_USER, this.currentUser);

    this.updateUI();
    return { success: true, user: this.currentUser };
  },

  async logout() {

    if (AUTH_CONFIG.USE_SUPABASE && supabaseClient) {
      try {
        await supabaseClient.auth.signOut();
      } catch (e) {
        console.warn('Supabase sign out failed:', e);
      }
    }

    this.currentUser = null;
    AuthStorage.remove(AUTH_CONFIG.STORAGE_KEY_USER);
    this.updateUI();
    this.showLoginForm();
  },

  clearLocalCache() {
    this.currentUser = null;
    this.usersList = [];

    AuthStorage.remove(AUTH_CONFIG.STORAGE_KEY_USER);
    AuthStorage.remove(AUTH_CONFIG.STORAGE_KEY_USERS);

    if (typeof localStorage !== 'undefined') {
      try {
        localStorage.removeItem(AUTH_CONFIG.STORAGE_KEY_USER);
        localStorage.removeItem(AUTH_CONFIG.STORAGE_KEY_USERS);
      } catch (e) {
        console.warn('Failed to clear localStorage:', e);
      }
    }
    this.updateUI();
    console.log(getAuthText('localCacheCleared'));
  },

  getUsersList() {
    if (this.usersList.length > 0 || PLUGINAPP) {
      return this.usersList;
    }

    const users = AuthStorage.get(AUTH_CONFIG.STORAGE_KEY_USERS);
    this.usersList = users || [];
    return this.usersList;
  },

  hashPassword(password, salt = null) {

    const defaultSalt = 'ynyuset_toolsetfig_2024';
    const usedSalt = salt || defaultSalt;

    const saltedPassword = password + usedSalt + password.length;

    let hash = 5381;
    for (let i = 0; i < saltedPassword.length; i++) {
      const char = saltedPassword.charCodeAt(i);
      hash = ((hash << 5) + hash) + char;
    }

    const hashStr = Math.abs(hash).toString(36);
    let secondHash = 0;
    for (let i = 0; i < hashStr.length; i++) {
      secondHash = ((secondHash << 5) - secondHash) + hashStr.charCodeAt(i);
      secondHash = secondHash & secondHash;
    }

    return `h_${Math.abs(secondHash).toString(36)}_${hashStr}`;
  },

  verifyPassword(password, storedHash) {
    if (!password || !storedHash) {
      return false;
    }

    if (storedHash.startsWith('h_')) {
      return storedHash === this.hashPassword(password);
    }

    let hash = 0;
    for (let i = 0; i < password.length; i++) {
      const char = password.charCodeAt(i);
      hash = ((hash << 5) - hash) + char;
      hash = hash & hash;
    }
    return storedHash === hash.toString();
  },

  updateUI() {
    const loginBtn = document.querySelector('[data-user-login-btn]');
    const userName = document.querySelector('[data-user-name]');
    const loginText = document.querySelector('[data-user-login-text]');

    if (this.currentUser) {

      if (userName) userName.style.display = 'flex';
      if (loginText) loginText.style.display = 'none';

      let [username,emailname] = [this.currentUser.username,this.currentUser.email.split('@')[0]];

      if (userName) {
        let displayName = username || emailname;
        displayName = displayName.length > 8 ? displayName.substring(0, 8) + '...' : displayName;
        userName.setAttribute('data-en-text',displayName);
        userName.setAttribute('data-zh-text',displayName);
        userName.textContent = displayName;
      }
    } else {

      if (userName) userName.style.display = 'none';
      if (loginText) loginText.style.display = 'block';
    }
  },

  showLoginForm() {
    const loginForm = document.querySelector('[data-login-form]');
    const registerForm = document.querySelector('[data-register-form]');
    const userInfo = document.querySelector('[data-user-info]');

    if (loginForm) loginForm.style.display = 'flex';
    if (registerForm) registerForm.style.display = 'none';
    if (userInfo) userInfo.style.display = 'none';

    const loginEmail = document.getElementById('login-email');
    const loginPassword = document.getElementById('login-password');
    if (loginEmail) loginEmail.value = '';
    if (loginPassword) loginPassword.value = '';
    this.hideError('login');
  },

  showRegisterForm() {
    const loginForm = document.querySelector('[data-login-form]');
    const registerForm = document.querySelector('[data-register-form]');
    const userInfo = document.querySelector('[data-user-info]');

    if (loginForm) loginForm.style.display = 'none';
    if (registerForm) registerForm.style.display = 'flex';
    if (userInfo) userInfo.style.display = 'none';

    const registerEmail = document.getElementById('register-email');
    const registerUsername = document.getElementById('register-username');
    const registerPassword = document.getElementById('register-password');
    const registerPasswordConfirm = document.getElementById('register-password-confirm');
    if (registerEmail) registerEmail.value = '';
    if (registerUsername) registerUsername.value = '';
    if (registerPassword) registerPassword.value = '';
    if (registerPasswordConfirm) registerPasswordConfirm.value = '';
    this.hideError('register');

    const registerUsernameError = document.getElementById('register-username-error');
    const registerPasswordError = document.getElementById('register-password-error');
    if (registerUsernameError) registerUsernameError.style.display = 'none';
    if (registerPasswordError) registerPasswordError.style.display = 'none';
  },

  showUserInfo() {
    const loginForm = document.querySelector('[data-login-form]');
    const registerForm = document.querySelector('[data-register-form]');
    const userInfo = document.querySelector('[data-user-info]');

    if (loginForm) loginForm.style.display = 'none';
    if (registerForm) registerForm.style.display = 'none';
    if (userInfo) userInfo.style.display = 'flex';

    if (this.currentUser && userInfo) {
      const displayName = document.querySelector('[data-user-display-name]');
      const displayEmail = document.querySelector('[data-user-display-email]');
      const userAvatar = document.querySelector('[data-user-avatar]');
      const userId = document.querySelector('[data-user-id]');
      const userPremium = document.querySelector('[data-user-premium]');
      let [username,emailname,useremail] = [this.currentUser.username,this.currentUser.email.split('@')[0],this.currentUser.email];

      let iconname = username.slice(-2) || emailname.slice(-2);

      if(iconname.replace(/[^\u4e00-\u9fa5]/g,'').length > 0){
        iconname = iconname[1];
      }
      if (displayName) displayName.textContent = username || emailname;
      if (displayEmail) displayEmail.textContent = useremail;
      if (userAvatar) userAvatar.textContent = iconname.toUpperCase();
      if (userId) userId.textContent = this.currentUser.id;
      if (userPremium) userPremium.style.display = this.currentUser.isPremium ? 'block' : 'none';
    }
  },

  showError(type, message) {
    const errorEl = document.querySelector(`[data-${type}-error]`);
    if (errorEl) {
      errorEl.textContent = message;
      errorEl.style.display = 'block';
    }
  },

  hideError(type) {
    const errorEl = document.querySelector(`[data-${type}-error]`);
    if (errorEl) {
      errorEl.style.display = 'none';
    }
  },

  isPremium() {
    return this.currentUser && this.currentUser.isPremium === true;
  }
};

async function initAuthModule() {

  if (AUTH_CONFIG.USE_SUPABASE) {
    tryInitSupabase();
  }

  await AuthManager.init();

  const userLoginBtn = document.querySelector('[data-user-login-btn]');
  if (userLoginBtn) {
    userLoginBtn.addEventListener('click', () => {
      if (AuthManager.currentUser) {

        AuthManager.showUserInfo();
        if (DOM.dailogLogin) DOM.dailogLogin.style.display = 'flex';
      } else {

        AuthManager.showLoginForm();
        if (DOM.dailogLogin) DOM.dailogLogin.style.display = 'flex';
      }
    });
  }
}

const btnShowRegister = document.querySelector('[data-btn-show-register]');
if (btnShowRegister) {
  btnShowRegister.addEventListener('click', () => {
    AuthManager.showRegisterForm();
  });
}

const btnShowLogin = document.querySelector('[data-btn-show-login]');
if (btnShowLogin) {
  btnShowLogin.addEventListener('click', () => {
    AuthManager.showLoginForm();
  });
}

const btnLogin = document.querySelector('[data-btn-login]');
if (btnLogin) {
  btnLogin.addEventListener('click', async () => {
    const email = document.getElementById('login-email')?.value.trim();
    const password = document.getElementById('login-password')?.value;

    AuthManager.hideError('login');

    const result = await AuthManager.login(email, password);
    if (result.success) {
      AuthManager.showUserInfo();
    } else {
      AuthManager.showError('login', result.error || getAuthText('loginFailedRetry'));
    }
  });
}

const btnRegister = document.querySelector('[data-btn-register]');
let isRegistering = false;
if (btnRegister) {
  btnRegister.addEventListener('click', async () => {

    if (isRegistering) {
      return;
    }

    const email = document.getElementById('register-email')?.value.trim();
    const username = document.getElementById('register-username')?.value.trim();
    const password = document.getElementById('register-password')?.value;
    const passwordConfirm = document.getElementById('register-password-confirm')?.value;

    AuthManager.hideError('register');

    if (!email || !username || !password) {
      AuthManager.showError('register', getAuthText('fillAllRequired'));
      return;
    }

    if (password !== passwordConfirm) {
      AuthManager.showError('register', getAuthText('passwordsNotMatch'));
      return;
    }

    isRegistering = true;
    const originalText = btnRegister.textContent;
    btnRegister.disabled = true;
    btnRegister.style.opacity = '0.6';
    btnRegister.style.pointerEvents = 'none';
    btnRegister.textContent = getAuthText('registering');

    let result = null;
    let shouldKeepDisabled = false;

    try {
      result = await AuthManager.register(email, username, password);
      if (result.success) {
        if (result.needsConfirmation) {

          AuthManager.showError('register', result.message || getAuthText('registrationSuccessShort'));

          setTimeout(() => {
            AuthManager.showLoginForm();
            AuthManager.hideError('register');

            document.getElementById('login-email').value = email;
          }, 3000);
        } else {

          AuthManager.showUserInfo();
        }
      } else {
        AuthManager.showError('register', result.error || getAuthText('registrationFailedRetry'));

        const lang = getLanguageIntime() || 'zh';
        const waitPattern = lang === 'zh' ? /(\d+)\s*Áßí/ : /(\d+)\s*seconds?/i;
        const rateLimitKeywords = lang === 'zh' ? ['Á≠âÂæÖ', 'Áßí'] : ['wait', 'seconds'];
        const isRateLimitError = rateLimitKeywords.some(keyword =>
          result.error?.toLowerCase().includes(keyword.toLowerCase())
        );
        if (isRateLimitError) {
          shouldKeepDisabled = true;
          const waitTime = parseInt(result.error.match(waitPattern)?.[1] || '7') * 1000;
          setTimeout(() => {
            isRegistering = false;
            btnRegister.disabled = false;
            btnRegister.style.opacity = '1';
            btnRegister.style.pointerEvents = 'auto';
            btnRegister.textContent = originalText;
          }, waitTime);
          return;
        }
      }
    } catch (e) {
      console.error('Registration error:', e);
      AuthManager.showError('register', getAuthText('registrationFailedRetry'));
    } finally {

      if (!shouldKeepDisabled) {
        isRegistering = false;
        btnRegister.disabled = false;
        btnRegister.style.opacity = '1';
        btnRegister.style.pointerEvents = 'auto';
        btnRegister.textContent = originalText;
      }
    }
  });
}

const registerUsername = document.getElementById('register-username');
const registerUsernameError = document.getElementById('register-username-error');
if (registerUsername && registerUsernameError) {
  const updateUsernameValidation = () => {
    const username = registerUsername.value.trim();
    if (username) {
      const validation = AuthManager.validateUsername(username);
      if (!validation.valid) {

        registerUsernameError.style.display = 'block';
        registerUsernameError.textContent = getLanguageIntime() === 'zh' ? validation.error : validation.errorEn || validation.error;
        registerUsernameError.setAttribute('data-zh-text', validation.error);
        registerUsernameError.setAttribute('data-en-text', validation.errorEn || validation.error);
      } else {

        registerUsernameError.style.display = 'none';
      }
    } else {

      registerUsernameError.style.display = 'none';
    }
  };

  registerUsername.addEventListener('input', updateUsernameValidation);
  registerUsername.addEventListener('blur', updateUsernameValidation);
}

const registerPassword = document.getElementById('register-password');
const registerPasswordError = document.getElementById('register-password-error');
if (registerPassword && registerPasswordError) {
  const updatePasswordValidation = () => {
    const password = registerPassword.value;
    if (password) {
      const validation = AuthManager.validatePassword(password);
      if (!validation.valid) {

        registerPasswordError.style.display = 'block';
        registerPasswordError.textContent = getLanguageIntime() === 'zh' ? validation.error : validation.errorEn || validation.error;
        registerPasswordError.setAttribute('data-zh-text', validation.error);
        registerPasswordError.setAttribute('data-en-text', validation.errorEn || validation.error);
      } else {

        registerPasswordError.style.display = 'none';
      }
    } else {

      registerPasswordError.style.display = 'none';
    }
  };

  registerPassword.addEventListener('input', updatePasswordValidation);
  registerPassword.addEventListener('blur', updatePasswordValidation);
}

const btnLogout = document.querySelector('[data-btn-logout]');
if (btnLogout) {
  btnLogout.addEventListener('click', () => {
    AuthManager.logout();
  });
};

function setupLoginDialogClose() {
  if (DOM.dailogLogin) {

    DOM.dailogLogin.addEventListener('click', (e) => {
      if (e.target === DOM.dailogLogin) {
        DOM.dailogLogin.style.display = 'none';
      }
    });
  };
};

if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', () => {
    initAuthModule();
    setupLoginDialogClose();
  });
} else {

  initAuthModule();
  setupLoginDialogClose();
};

function getLanguageIntime(){
  return ROOT.getAttribute('data-language').toLowerCase();
};
</script>
</body>
</html>